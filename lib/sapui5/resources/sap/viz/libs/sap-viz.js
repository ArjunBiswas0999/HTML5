(function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(s){"use strict";if(this==null){throw new TypeError()}var t=Object(this);var l=t.length>>>0;if(l===0){return-1}var n=0;if(arguments.length>0){n=Number(arguments[1]);if(n!=n){n=0}else if(n!=0&&n!=Infinity&&n!=-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n))}}if(n>=l){return-1}var k=n>=0?n:Math.max(l-Math.abs(n),0);for(;k<l;k++){if(k in t&&t[k]===s){return k}}return-1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(s){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(l===0)return-1;var n=l;if(arguments.length>1){n=Number(arguments[1]);if(n!=n)n=0;else if(n!=0&&n!=(1/0)&&n!=-(1/0))n=(n>0||-1)*Math.floor(Math.abs(n))}var k=n>=0?Math.min(n,l-1):l-Math.abs(n);for(;k>=0;k--){if(k in t&&t[k]===s)return k}return-1}}if(!Array.prototype.filter){Array.prototype.filter=function(d){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof d!="function")throw new TypeError();var e=[];var g=arguments[1];for(var i=0;i<l;i++){if(i in t){var v=t[i];if(d.call(g,v,i,t))e.push(v)}}return e}}if(!Array.prototype.forEach){Array.prototype.forEach=function(d,t){var T,k;if(this==null){throw new TypeError("this is null or not defined")}var O=Object(this);var l=O.length>>>0;if({}.toString.call(d)!="[object Function]"){throw new TypeError(d+" is not a function")}if(t){T=t}k=0;while(k<l){var e;if(k in O){e=O[k];d.call(T,e,k,O)}k++}}}if(!Array.prototype.every){Array.prototype.every=function(d){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof d!="function")throw new TypeError();var e=arguments[1];for(var i=0;i<l;i++){if(i in t&&!d.call(e,t[i],i,t))return false}return true}}if(!Array.prototype.map){Array.prototype.map=function(d,t){var T,A,k;if(this==null){throw new TypeError(" this is null or not defined")}var O=Object(this);var l=O.length>>>0;if({}.toString.call(d)!="[object Function]"){throw new TypeError(d+" is not a function")}if(t){T=t}A=new Array(l);k=0;while(k<l){var e,g;if(k in O){e=O[k];g=d.call(T,e,k,O);A[k]=g}k++}return A}}if(!Array.prototype.some){Array.prototype.some=function(d){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof d!="function")throw new TypeError();var e=arguments[1];for(var i=0;i<l;i++){if(i in t&&d.call(e,t[i],i,t))return true}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function reduce(d){if(this===null||this===u)throw new TypeError("Object is null or undefined");var i=0,l=this.length>>0,e;if(typeof d!=="function")throw new TypeError("First argument is not callable");if(arguments.length<2){if(l===0)throw new TypeError("Array length is 0 and no second argument");e=this[0];i=1}else e=arguments[1];while(i<l){if(i in this)e=d.call(u,e,this[i],i,this);++i}return e}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(d){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof d!="function")throw new TypeError();if(l===0&&arguments.length===1)throw new TypeError();var k=l-1;var e;if(arguments.length>=2){e=arguments[1]}else{do{if(k in this){e=this[k--];break}if(--k<0)throw new TypeError()}while(true)}while(k>=0){if(k in t)e=d.call(u,e,t[k],k,t);k--}return e}}if(!Function.prototype.bind){Function.prototype.bind=function(t){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var A=Array.prototype.slice.call(arguments,1),T=this,n=function(){},d=function(){return T.apply(this instanceof n?this:t,A.concat(Array.prototype.slice.call(arguments)))};n.prototype=this.prototype;d.prototype=new n();return d}}if(!Object.create){Object.create=function(o){if(arguments.length>1){throw new Error('Object.create implementation only accepts the first parameter.')}function F(){}F.prototype=o;return new F()}}function a(o,e){function k(t){function A(o,v){return Object.prototype.hasOwnProperty.call(o,v)}function F(v){return typeof v==="function"}if(typeof t!=="object"||t===null)throw new TypeError("bad desc");var d={};if(A(t,"enumerable"))d.enumerable=!!o.enumerable;if(A(t,"configurable"))d.configurable=!!o.configurable;if(A(t,"value"))d.value=o.value;if(A(t,"writable"))d.writable=!!t.writable;if(A(t,"get")){var g=t.get;if(!F(g)&&g!=="undefined")throw new TypeError("bad get");d.get=g}if(A(t,"set")){var s=t.set;if(!F(s)&&s!=="undefined")throw new TypeError("bad set");d.set=s}if(("get"in d||"set"in d)&&("value"in d||"writable"in d))throw new TypeError("identity-confused descriptor");return d}if(typeof o!=="object"||o===null)throw new TypeError("bad obj");e=Object(e);var l=Object.keys(e);var n=[];for(var i=0;i<l.length;i++)n.push([l[i],k(e[l[i]])]);for(var i=0;i<n.length;i++)Object.defineProperty(o,n[i][0],n[i][1]);return o}if(!Object.keys){Object.keys=(function(){var d=Object.prototype.hasOwnProperty,e=!({toString:null}).propertyIsEnumerable('toString'),g=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],k=g.length;return function(o){if(typeof o!=='object'&&typeof o!=='function'||o===null)throw new TypeError('Object.keys called on non-object');var l=[];for(var n in o){if(d.call(o,n))l.push(n)}if(e){for(var i=0;i<k;i++){if(d.call(o,g[i]))l.push(g[i])}}return l}})()}if(typeof Object.getPrototypeOf!=="function"){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(o){return o.__proto__}}else{Object.getPrototypeOf=function(o){return o.constructor.prototype}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'')}}var u=void(0);if(window.sap!==u&&window.sap.riv!==u&&window.sap.riv.module!==u){return}var b=jQuery!==u?true:false;var q=function(s){if(b){if(jQuery.holdReady){jQuery.holdReady(s)}else if(s){jQuery.readyWait+=1}else{jQuery.ready(true)}}};var c=u;var f='/';var h=document.getElementsByTagName("script");var j=function(){};if(h.length&&h[h.length-1].getAttribute('src')&&h[h.length-1].getAttribute('src').lastIndexOf('sap.viz.base.js')){c=h[h.length-1];if(((c.getAttribute('trace')||'').toLowerCase()==='true')&&(typeof console!==u)){j=function(t){console.log(t)}}var f=c.getAttribute('base-url');if(!f){var m=c.getAttribute('src');f=m.substring(0,m.lastIndexOf('/'))}if(f.charAt(f.length-1)!=='/')f=f+'/'}window.sap=window.sap||{};window.sap.riv=window.sap.riv||{};var E=0,I=1,D=2,p=3;var r=Object.prototype.hasOwnProperty;var w={'[object Boolean]':'boolean','[object Number]':'number','[object String]':'string','[object Function]':'function','[object Array]':'array','[object Date]':'date','[object RegExp]':'regexp','[object Object]':'object'};var x=function(o){return o==null?String(o):w[Object.prototype.toString.call(o)]||"object"};var y=function(o){return x(o)==="function"};var z=Array.isArray||function(o){return x(o)==="array"};var B=function(o){return x(o)==="string"};var C=function(o){return o&&typeof o==="object"&&"setInterval"in o};var G=function(o){return o==null||!/\d/.test(o)||G(o)};var H=function(n){return!G(parseFloat(n))&&isFinite(n)};var J=function(v){return typeof(v)!=='undefined'};var K=function(v){return typeof(v)==='undefined'};var L=function(o){if(!o||x(o)!=="object"||o.nodeType||C(o)){return false}if(o.constructor&&!r.call(o,"constructor")&&!r.call(o.constructor.prototype,"isPrototypeOf")){return false}var k;for(k in o){}return k===u||r.call(o,k)};var M=function(o){for(var n in o){return false}return true};var N=function(d,v){this._qname=d;this._version=v;this._moduleSetupFunc=u;this._status=E;this._moduleObject=u;this._exportToGlobal=false;this._depList=[];this._pendingDefTaskList=[];q(true)};N.prototype.moduleObject=function(d){return this._moduleObject};N.prototype.setupFunction=function(s){if(J(s)){this._moduleSetupFunc=s;return this}else{return this._moduleSetupFunc}};N.prototype.setModuleObject=function(d){this._moduleObject=d};N.prototype.qname=function(){return this._qname};N.prototype.version=function(){return this._version};N.prototype.status=function(s){if(s!==u){this._status=s;return this}else{return this._status}};N.prototype.dependentModules=function(d){if(J(d)){this._depList=d;return this}else{return this._depList}};N.prototype.exportToGlobal=function(e){if(J(e)){this._exportToGlobal=e;return this}else{return this._exportToGlobal}};N.prototype.waitUntilDefined=function(d){this._pendingDefTaskList.push(d)};N.prototype.getPendingDefTasks=function(){return this._pendingDefTaskList};var P={};var Q={};var R=function(d){if(!Q.hasOwnProperty(d)){Q[d]=false;var e=document.getElementsByTagName("head")[0]||document.documentElement;var $=document.createElement("script");$.type='text/javascript';$.src=d;var g=false;$.onload=$.onreadystatechange=function(){if(!g&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){g=true;$.onload=$.onreadystatechange=null;if(e&&$.parentNode){e.removeChild($)}Q[d]=true}};if($.addEventListener){$.addEventListener('error',function(){throw new Error('Loading '+d+' failed.')},true)}e.insertBefore($,e.firstChild)}return u};var S=function(s){if(s===u||typeof s!=='string'){return false}var d=s.split('.');if(d.length>3){return false}for(var i=0,l=d.length;i<l;i++){if(parseInt(d[i])===NaN){return false}}return true};var U=function(d,v){var e=d.split('.');var g=e.splice(e.length-1,1);return f+e.join('/')+'/'+g+'.'+v+'.js'};var V=function(d){var e;if(y(d.setupFunction())){var g=[];for(var i=0,k,l=d.dependentModules(),n=l.length;i<n;i++){k=l[i];g.push(P[k.qname][k.version].moduleObject())}e=d.setupFunction().apply(window,g)}else{e=d.moduleObject()}if(d.exportToGlobal()){var o=d.qname().split('.');var s=window;for(var i=0,t,n=o.length;i<n;i++){t=o[i];if(i===n-1){s[t]=e}else{s[t]=s[t]||{};s=s[t]}}}d.setModuleObject(e);d.status(D);j(d.qname()+' '+d.version()+' loaded');var v=d.getPendingDefTasks();while(v.length){var A=v.pop();A(d)}q(false)};var W=function(d,e){return(function(g){delete d[g.qname()][g.version()];if(M(d[g.qname()])){delete d[g.qname()]}if(M(d)){V(e)}})};sap.riv.module=function(d,e,g){if(K(d)||K(d.qname)||K(d.version)){throw new Error('Bad Arguments: you have to specify the qname and version for the module.')}if(!B(d.qname)||!S(d.version)){throw new Error('Invalid qname or version string')}if(arguments.length===2){if(!L(e)&&!y(e)){throw new Error('You must specify a plain object or a module setup function')}g=e;e=[]}if(arguments.length===3){if(!z(e)||(!L(g)&&!y(g))){throw new Error('Dependencies must be array, and you must specify an plain object or a module setup function')}}var k=d.qname,v=d.version,l=K(d.exported)?false:d.exported,n;if(!r.call(P,k)||!r.call(P,v)){P[k]=P[k]||{};P[k][v]=P[k][v]||new N(k,v)}n=P[k][v];if(n.status()===E){if(typeof g==='object'){n.exportToGlobal(l).setModuleObject(g)}else{var o=[];for(var i=0,s,t=e.length;i<t;i++){s=e[i];if(!B(s.qname)||!S(s.version)){throw new Error('You must specify qname and version for the depending module')}o.push({qname:s.qname,version:s.version})}n.exportToGlobal(l).dependentModules(o).setupFunction(g)}}if(n.status()===D||n.status()===I){return}n.status(I);if(n.dependentModules().length===0){V(n);return}else{var A={};for(var i=0,F,o=n.dependentModules(),t=o.length;i<t;i++){F=o[i];if(!(r.call(P,F.qname)&&r.call(P[F.qname],F.version))||(P[F.qname][F.version].status()!==D)){A[F.qname]=A[F.qname]||{};A[F.qname][F.version]=A[F.qname][F.version]||{qname:F.qname,version:F.version,url:F.url||U(F.qname,F.version)}}}if(M(A)){V(n);return}else{for(var k in A){for(var v in A[k]){if(!r.call(P,k)||!r.call(P[k],v)){P[k]=P[k]||{};P[k][v]=P[k][v]||new N(k,v);P[k][v].waitUntilDefined(W(A,n));R(A[k][v].url)}else{P[k][v].waitUntilDefined(W(A,n))}}}}}};var X=function(d,e){var g=[];for(var i=0,k,l=e.length;i<l;i++){k=e[i];g.push(P[k.qname][k.version].moduleObject())}d.apply(window,g)};var Y=function(d,e,g){return(function(i){delete d[i.qname()][i.version()];if(M(d[i.qname()])){delete d[i.qname()]}if(M(d)){X(e,g)}})};sap.riv.require=function(d,e){if(arguments.length===1){if(!y(d)){throw new Error('You have to specify a function to run')}e=d;d=[]}if(arguments.length===2){if(!z(d)||!y(e)){throw new Error('the first argument has to be array of depending modules, the second argument should be function type')}}if(!d.length){X(e,d);return}var g={};for(var i=0,k,l=d.length;i<l;i++){k=d[i];if(!(r.call(P,k.qname)&&r.call(P[k.qname],k.version))||(P[k.qname][k.version].status()!==D)){g[k.qname]=g[k.qname]||{};g[k.qname][k.version]=g[k.qname][k.version]||{qname:k.qname,version:k.version,url:k.url||U(k.qname,k.version)}}}if(M(g)){X(e,d);return}else{for(var n in g){for(var v in g[n]){if(!r.call(P,n)||!r.call(P[n],v)){P[n]=P[n]||{};P[n][v]=P[n][v]||new N(n,v);P[n][v].waitUntilDefined(Y(g,e,d));R(g[n][v].url)}else{P[n][v].waitUntilDefined(Y(g,e,d))}}}}};var Z=function(d){if(d&&/\S/.test(d)){var g=document.getElementsByTagName("head")[0]||document.documentElement,$=document.createElement("script");$.type="text/javascript";try{$.appendChild(document.createTextNode(d))}catch(e){$.text=d}g.insertBefore($,g.firstChild);g.removeChild($)}};sap.riv.setBaseUrl=function(d){f=d};if(c){var $=c.innerHTML;if($){Z($)}}})();sap.riv.module({qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'},[],function Setup(){var B={drawBound:function(s,w,h){if(s.select('.bound').node()==null){s.insert('rect',':first-child').attr('class','bound').attr('width',w).attr('height',h).attr('visibility','hidden')}else{s.select('.bound').attr('width',w).attr('height',h)}}};return B});sap.riv.module({qname:'sap.viz.Locale',version:'4.0.0',exported:true},[],function Setup(L,F){var l='en',a=[];function o(l){a.forEach(function(c){c.fn.apply(c.scope,[l])})}var b={constructor:function(){return},locale:function(c){if(!arguments.length){return l}l=c;o(l);return b},addListener:function(c){a.push(c);return b},removeListener:function(c){var i=a.indexOf(c);if(i!=-1)a.splice(i,1);return b}};return b});sap.riv.module({qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},[],function Setup(){var c={'[object Boolean]':'boolean','[object Number]':'number','[object String]':'string','[object Function]':'function','[object Array]':'array','[object Date]':'date','[object RegExp]':'regexp','[object Object]':'object'};var h=Object.prototype.hasOwnProperty;var r=/\d/;var t=function(o){return o==null?String(o):c[Object.prototype.toString.call(o)]||"object"};var a={isFunction:function(o){return t(o)==="function"},isArray:Array.isArray||function(o){return t(o)==="array"},isString:function(o){return t(o)==="string"},isNonEmptyString:function(o){return this.isString(o)&&o.length!==0},isEmptyString:function(o){return this.isString(o)&&o.length===0},isNaN:function(o){return o===null||o===undefined||!r.test(o)||isNaN(o)},isNumber:function(n){return!this.isNaN(parseFloat(n))&&isFinite(n)},isDefined:function(v){return typeof(v)!=='undefined'},isUndefined:function(v){return typeof(v)==='undefined'},isPlainObject:function(o){if(!o||t(o)!=="object"||o.nodeType||(o&&typeof o==="object"&&"setInterval"in o)){return false}if(o.constructor&&!h.call(o,"constructor")&&!h.call(o.constructor.prototype,"isPrototypeOf")){return false}var k;for(k in o){}return k===undefined||h.call(o,k)},isEmptyObject:function(o){for(var n in o){return false}return this.isPlainObject(o)},isExist:function(o){if((typeof(o)==='undefined')||(o===null)){return false}return true}};return a});sap.riv.module({qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T){var a=/\{(\d+)\}/g;var e=function(){};var f={noop:e,unsupported:function(){throw new Error('Unsupported function!')},unimplemented:function(){throw new Error('Unimplemented function!')},error:function(b){var c=arguments;if(c[0]){var b=c[0].replace(a,function(m,n){return c[parseInt(n)+1]});throw b}else{throw'unknown error!'}},createCallChain:function(){var l=arguments.length;if(l>1){var c=[];for(var i=0;i<l;i++){if(T.isFunction(arguments[i])){c.push(arguments[i])}else{f.error('Could not create call chain for non-function object')}}return(function(){for(var i=0;i<l;i++){c[i].apply(this,arguments)}})}else{return T.isFunction(arguments[0])?arguments[0]:e}}};return f});sap.riv.module({qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(T,F){var e=function(){};var t=/^\s+/,a=/\s+$/,b=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,f=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,g=/(?:^|:|,)(?:\s*\[)+/g;var j=j?function(c){return c==null?"":j.call(c)}:function(c){return c==null?"":c.toString().replace(t,"").replace(a,"")};var o={uuid:function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:r&0x3|0x8;return v.toString(16)})},proxy:function(c,p,h){if(arguments.length===2){if(typeof p==="string"){h=c;c=h[p];p=undefined}else if(p&&!T.isFunction(p)){h=p;p=undefined}}if(!p&&c){p=function(){return c.apply(h||this,arguments)}}return p},extend:function(){var c,n,s,h,k,l,m=arguments[0]||{},i=1,p=arguments.length,q=false;if(typeof m==="boolean"){q=m;m=arguments[1]||{};i=2}if(typeof m!=="object"&&!T.isFunction(m)){m={}}if(p===i){m=this;--i}for(;i<p;i++){if((c=arguments[i])!=null){for(n in c){s=m[n];h=c[n];if(m===h){continue}if(q&&h&&(T.isPlainObject(h)||(k=T.isArray(h)))){if(k){k=false;l=s&&T.isArray(s)?s:[]}else{l=s&&T.isPlainObject(s)?s:{}}m[n]=o.extend(q,l,h)}else if(h!==undefined){m[n]=h}}}}return m},each:function(c,h,k){var n,i=0,l=c.length,m=l===undefined||T.isFunction(c);if(k){if(m){for(n in c){if(h.apply(c[n],k)===false){break}}}else{for(;i<l;){if(h.apply(c[i++],k)===false){break}}}}else{if(m){for(n in c){if(h.call(c[n],n,c[n])===false){break}}}else{for(var v=c[0];i<l&&h.call(v,i,v)!==false;v=c[++i]){}}}return c},parseJSON:function(c){if(typeof c!=="string"||!c){return null}c=j(c);if(b.test(c.replace(d,"@").replace(f,"]").replace(g,""))){return window&&window.JSON&&window.JSON.parse?window.JSON.parse(c):(new Function("return "+c))()}else{T.error("Invalid JSON: "+c)}},derive:function(s,c){var r;var k;if(typeof s==='function'){if(typeof c==='function'){if(c.prototype.constructor==Object.prototype.constructor){c.prototype.constructor=c}e.prototype=c.prototype;var h=new e();var l=s.prototype;for(var p in l){if(l.hasOwnProperty(p)){h[p]=l[p]}}r=F.createCallChain(c,s);k=r.prototype=h;k.constructor=r;k.superclass=c.prototype;k.callParent=(function(){var u=[];return function(){var v=arguments[0];if(!u.length){u.push({funcName:v,thisObj:this,level:0})}else if(u[u.length-1].funcName!==v||u[u.length-1].thisObj!==this){u.push({funcName:v,thisObj:this,level:0})}var w=u[u.length-1].level;var x=this.superclass;while(w--){x=x.superclass}u[u.length-1].level++;var y=[];for(var i=1;i<arguments.length;i++){y.push(arguments[i])}x[v].apply(u[u.length-1].thisObj,y);u[u.length-1].level--;if(!u[u.length-1].level){u.pop()}}})();r.superclazz=c;return r}else if(typeof c==='object'){var m=s;var n=c;var q=m.prototype;e.prototype=q;var h=new e();r=F.createCallChain(m,n.constructor);k=r.prototype=h;for(p in n){if(n.hasOwnProperty(p)){k[p]=n[p]}}k.constructor=r;k.superclass=m.prototype;k.callParent=(function(){var u=[];return function(){var v=arguments[0];if(!u.length){u.push({funcName:v,thisObj:this,level:0})}else if(u[u.length-1].funcName!==v||u[u.length-1].thisObj!==this){u.push({funcName:v,thisObj:this,level:0})}var w=u[u.length-1].level;var x=this.superclass;while(w--){x=x.superclass}u[u.length-1].level++;var y=[];for(var i=1;i<arguments.length;i++){y.push(arguments[i])}x[v].apply(u[u.length-1].thisObj,y);u[u.length-1].level--;if(!u[u.length-1].level){u.pop()}}})();r.superclazz=m}}return r}};return o});sap.riv.module({qname:'sap.viz.lang.langManager',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.Locale',version:'4.0.0'}],function Setup(F,O,T,L){function l(u,j,k){var n=document.getElementsByTagName("head")[0]||document.documentElement;var s=document.createElement("script");s.type='text/javascript';s.src=u;var p=false;s.onload=s.onreadystatechange=function(){if(!p&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){p=true;s.onload=s.onreadystatechange=null;if(n&&s.parentNode){n.removeChild(s)}j()}};if(s.addEventListener){s.addEventListener('error',function(){s.onload=s.onreadystatechange=null;s.parentNode.removeChild(s);k()},true)}n.insertBefore(s,n.firstChild)}function a(j,k,n,p,q){if(k<j.length){var u=j[k]+'language_'+n+'.js';var r=function(){a(j,k+1,n,p,q)};l(u,r,r)}else{var s=g(n);if(s){p(s)}else q()}}function i(){var j=d3.map();j.set("ar_AE","ar");j.set("ar_EG","ar");j.set("ar_SA","ar");j.set("bg_BG","bg");j.set("ca_ES","ca");j.set("cs_CZ","cs");j.set("da_DK","da");j.set("de_CH","de");j.set("de_AT","de");j.set("de_BE","de");j.set("de_LU","de");j.set("de_DE","de");j.set("el_CY","el");j.set("el_GR","el");j.set("en_AU","en");j.set("en_CA","en");j.set("en_GB","en");j.set("en_HK","en");j.set("en_ID","en");j.set("en_IE","en");j.set("en_IN","en");j.set("en_IS","en");j.set("en_MY","en");j.set("en_NZ","en");j.set("en_PH","en");j.set("en_SG","en");j.set("en_US","en");j.set("en_ZA","en");j.set("es_AR","es");j.set("es_BO","es");j.set("es_CL","es");j.set("es_CO","es");j.set("es_ES","es");j.set("es_MX","es");j.set("es_PE","es");j.set("es_UY","es");j.set("es_VE","es");j.set("et_EE","et");j.set("fa_IR","fa");j.set("fi_FI","fi");j.set("fr_BE","fr");j.set("fr_CA","fr");j.set("fr_CH","fr");j.set("fr_FR","fr");j.set("fr_LU","fr");j.set("he_IL","iw");j.set("hr_HR","hr");j.set("hu_HU","hu");j.set("it_CH","it");j.set("it_IT","it");j.set("ja_JP","ja");j.set("ko_KR","ko");j.set("lt_LT","lt");j.set("lv_LV","lv");j.set("nl_BE","nl");j.set("nl_NL","nl");j.set("nn_NO","no");j.set("pl_PL","pl");j.set("pt_BR","pt");j.set("pt_PT","pt");j.set("ro_RO","ro");j.set("ru_KZ","ru");j.set("ru_RU","ru");j.set("ru_UA","ru");j.set("sh_ME","sr");j.set("sh_RS","sr");j.set("sk_SK","sk");j.set("sl_SL","sl");j.set("sv_SE","sv");j.set("th_TH","th");j.set("tr_CY","tk");j.set("tr_TR","tk");j.set("uk_UA","uk");j.set("vi_VI","vi");j.set("zf_TW","zh_TW");j.set("zh_CN","zh_CN");j.set("zh_HK","zh_CN");j.set("ar","ar");j.set("bg","bg");j.set("ca","ca");j.set("cs","cs");j.set("da","da");j.set("de","de");j.set("el","el");j.set("en","en");j.set("es","es");j.set("et","et");j.set("fi","fi");j.set("fr","fr");j.set("iw","iw");j.set("hr","hr");j.set("hu","hu");j.set("it","it");j.set("ja","ja");j.set("ko","ko");j.set("lt","lt");j.set("lv","lv");j.set("nl","nl");j.set("no","no");j.set("pl","pl");j.set("pt","pt");j.set("ro","ro");j.set("ru","ru");j.set("sr","sr");j.set("sk","sk");j.set("sl","sl");j.set("sv","sv");j.set("th","th");j.set("tk","tk");j.set("uk","uk");j.set("vi","vi");j.set("zh_TW","zh_TW");return j}var b=[];var c=i();function o(j){b.forEach(function(k){k.fn.apply(k.scope,[e])});if(j)j()}function g(j){return d[j]}var d={};var e=d['dev']={IDS_DEFAULTMND:'All Measures',IDS_DEFAULTCHARTTITLE:'Title of Chart',IDS_ISNOVALUE:'No value',IDS_BARCHART:'Bar Chart',IDS_COMBINATIONCHART:'Combined Column Line Chart',IDS_DUALBARCHART:'Bar Chart with 2 X-Axes',IDS_DUALCOMBINATIONCHART:'Combined Column Line Chart with 2 Y-Axes',IDS_DUALHORIZONTALCOMBINATIONCHART:'Combined Bar Line Chart with 2 X-Axes',IDS_DUALHORIZONTALLINECHART:'Horizontal Line Chart with 2 X-Axes',IDS_DIUALLINECHART:'Line Chart with 2 Y-Axes',IDS_DUALPERCENTAGESTACKEDBARCHART:'100% Stacked Bar Chart with 2 X-Axes',IDS_DUALSTACKEDVERTICALBARCHART:'Stacked Column Chart with 2 Y-Axes',IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:'100% Stacked Column Chart with 2 Y-Axes',IDS_DUALSTACKEDBARCHART:'Stacked Bar Chart with 2 X-Axes',IDS_DUALVERTICALBARCHART:'Column Chart with 2 Y-Axes',IDS_HORIZONTALBOXPLOTCHART:'Horizontal Box Plot',IDS_HORIZONTALCOMBINATIONCHART:'Combined Bar Line Chart',IDS_HORIZONTALLINECHART:'Horizontal Line Chart',IDS_HORIZONTALWATERFALLCHART:'Horizontal Waterfall Chart',IDS_LINECHART:'Line Chart',IDS_PERCENTAGESTACKEDBARCHART:'100% Stacked Bar Chart',IDS_PERCENTAGESTACKEDVERTICALBARCHART:'100% Stacked Column Chart',IDS_SPARKLINECHART:'Spark Line Chart (POC)',IDS_STACKEDBARCHART:'Stacked Bar Chart',IDS_STACKEDVERTICALBARCHART:'Stacked Column Chart',IDS_VARIANTBARCHART:'Variant Bar Chart (POC)',IDS_VERTICALBARCHART:'Column Chart',IDS_VERTICALBOXPLOTCHART:'Box Plot',IDS_WATERFALLCHART:'Waterfall Chart',IDS_DONUTCHART:'Donut Chart',IDS_PIECHART:'Pie Chart',IDS_BASEBUBBLECHART:'Base Scatter Chart',IDS_BUBBLECHART:'Bubble Chart',IDS_SCATTERCHART:'Scatter Plot',IDS_BASECHART:'Base Chart',IDS_BASEHORIZONTALCHART:'Base horizontal XY Chart',IDS_BASEVERTICALCHART:'Base Vertical XY Chart',IDS_BASEMULTIPLECHART:'Base Multiple Chart',IDS_BASEMULTIPLEXYCHART:'Base Multiple XY Chart',IDS_BASESINGLECHART:'Base Single Chart',IDS_HEATMAPCHART:'Heat Map',IDS_TREEMAPCHART:'Tree Map',IDS_MULTIBARCHART:'Multiple Bar Chart',IDS_MULTIBUBBLECHART:'Multiple Bubble Chart',IDS_MULTIDONUTCHART:'Multiple Donut Chart',IDS_MULTIDUALBARCHART:'Multiple Bar Chart with 2 X-Axes',IDS_MULTIDUALHORIZONTALLINECHART:'Multiple Horizontal Line Chart with 2 X-Axes',IDS_MULTIDUALLINECHART:'Multiple Line Chart with 2 Y-Axes',IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:'Multiple 100% Stacked Bar Chart with 2 X-Axes',IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:'Multiple 100% Stacked Column Chart with 2 Y-Axes',IDS_MULTIDUALSTACKEDBARCHART:'Multiple Stacked Bar Chart with 2 X-Axes',IDS_MULTIDUALSTACKEDVERTICALBARCHART:'Multiple Stacked Column Chart with 2 Y-Axes',IDS_MULTIDUALVERTICALBARCHART:'Multiple Column Chart with 2 Y-Axes',IDS_MULTIHORIZONTALLINECHART:'Multiple Horizontal Line Chart',IDS_MULTILINECHART:'Multiple Line Chart',IDS_MULTIPERCENTAGESTACKEDBARCHART:'Multiple 100% Stacked Bar Chart',IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:'Multiple 100% Stacked Column Chart',IDS_MULTIPIECHART:'Multiple Pie Chart',IDS_MULTISCATTERCHART:'Multiple Scatter Plot',IDS_MULTISTACKEDBARCHART:'Multiple Stacked Bar Chart',IDS_MULTISTACKEDVERTICALBARCHART:'Multiple Stacked Column Chart',IDS_MULTIVERTICALBARCHART:'Multiple Column Chart',IDS_MULTIRADARCHART:'Multiple Radar Chart',IDS_RADARCHART:'Radar Chart',IDS_SCATTERMATRIXCHART:'Scatter Matrix Chart',IDS_TAGCLOUDCHART:'Tag Cloud',IDS_TREEMAPCHART:'Tree Map',IDS_GEOBUBBLE:'Geo Bubble Chart',IDS_GEOPIE:'Geo Pie Chart',IDS_CHOROPLETH:'Geo Choropleth Chart',IDS_MULTIGEOBUBBLE:'Multiple Geo Bubble Chart',IDS_MULTICHOROPLETH:'Multiple Geo Choropleth Chart',IDS_REGIONCOLOR:'Region Color',IDS_PRIMARYVALUES:'Primary Values',IDS_SECONDARYVALUES:'Secondary Values',IDS_AXISLABELS:'Axis Labels',IDS_RECTANGLETITLE:'Rectangle Title',IDS_RECTANGLEWEIGHT:'Rectangle Weight',IDS_RECTANGLECOLOR:'Rectangle Color',IDS_TAGNAME:'Tag Name',IDS_TAGWEIGHT:'Tags Weight',IDS_TAGFAMILY:'Tags Family',IDS_CATEGORYAXIS:'Axis Labels Category',IDS_REGIONSHAPE:'Region Shape',IDS_BUBBLEWIDTH:'Bubble Width',IDS_BUBBLEHEIGHT:'Bubble Height',IDS_RADARAXES:'Radar Axes',IDS_RADARAXESVALUE:'Radar Axes Values',IDS_PIESECTORCOLORNAME:'Sector Color',IDS_PIESECTORSIZE:'Sector Size',IDS_MAINLABELAXISNAME:'Main Category Axis',IDS_SECONDARYAXISLABELNAME:'Secondary Category Axis',IDS_SELECTABILITY:'selectability',IDS_PRIMARYVALUECOLORPALETTE:'primaryValuesColorPalette',IDS_SECONDARYVALUESCOLORPALETTE:'secondaryValuesColorPalette',IDS_DRAWINGEFFECT:'drawingEffect',IDS_TOOLTIPVISIBLE:'tooltipVisible',IDS_ENABLEROUNDCORNER:'enableRoundCorner',IDS_ANIMATION:'animation',IDS_DATALOADING:'dataLoading',IDS_DATAUPDATING:'dataUpdating',IDS_BAR:'bar',IDS_LINE:'line',IDS_WIDTH:'width',IDS_HOVERLINEVISIBLE:'hoverlineVisible',IDS_MARKER:'marker',IDS_VISIBLE:'visible',IDS_SHAPE:'shape',IDS_SIZE:'size',IDS_HEADERVISIBLE:'headerVisible',IDS_AXISVISIBLE:'axisVisible',IDS_GRIDVISIBLE:'gridVisible',IDS_COLUMNSEQUENCE:'columnSequence',IDS_COLUMNCONFIG:'columnConfig',IDS_STARTCOLUMN:'startColumn',IDS_LABEL:'label',IDS_VALUEFORMAT:'valueFormat',IDS_ENDCOLUMN:'endColumn',IDS_HIGHCOLUMN:'highColumn',IDS_LOWCOLUMN:'lowColumn',IDS_LINECONFIG:'lineConfig',IDS_MARKERS:'markers',IDS_FILLVISIBLE:'fillVisible',IDS_REFINEVISIBLE:'reflineVisible',IDS_MODE:'mode',IDS_TITLE:'title',IDS_TEXT:'text',IDS_GRIDLINE:'gridline',IDS_SHOWFIRSTLINE:'showFirstLine',IDS_TYPE:'type',IDS_FORMAT:'format',IDS_POSITION:'position',IDS_BORDER:'border',IDS_STARTCOLOR:'startcolor',IDS_ENDCOLOR:'endcolor',IDS_MEKKOCHART:'Mekko Chart',IDS_HORIZONTALMEKKOCHART:'Horizontal Mekko Chart',IDS_PERCENTAGEMEKKOCHART:'100% Mekko Chart',IDS_PERCENTAGEHORIZONTALMEKKOCHART:'100% Horizontal Mekko Chart',IDS_AREACHART:'Area Chart',IDS_PERCENTAGEAREACHART:'100% Area Chart',IDS_HORIZONTALAREACHART:'Horizontal Area Chart',IDS_PERCENTAGEHORIZONTALAREACHART:'100% Horizontal Area Chart',IDS_MULTIAREACHART:'Multi Area Chart',IDS_MULTIHORIZONTALAREACHART:'Multi Horizontal Area Chart',IDS_MULTIPERCENTAGEAREACHART:'Multi 100% Area Chart',IDS_MULTIPERCENTAGEHORIZONTALAREACHART:'Multi 100% Horizontal Area Chart',IDS_HORIZONTALSTACKEDWATERFALL:'Horizontal Stacked Waterfall Chart',IDS_STACKEDWATERFALLCHART:'Stacked Waterfall Chart'};var f='dev',h='en';var m={constructor:function(){return},loadPath:["../../../resources/langs/"],current:function(){return f},register:function(j){f=j.id;e=d[j.id]=O.extend(true,d[j.id],j.value);return m},apply:function(j,k){if(j){j=c.get(j);a(m.loadPath,0,j,function(){o(k)},function(){a(m.loadPath,0,h,function(){o(k);F.error('Loading language {0} failed.',j)},function(){f='dev',e=d['dev'];o(k);F.error('Loading language {0}, {1} failed.',j,h)})})}return m},get:function(j){if(e[j])return e[j];return d['dev'][j]},addListener:function(j){b.push(j);return m},removeListener:function(j){var k=b.indexOf(j);if(k!=-1)b.splice(k,1);return m}};L.addListener({fn:function(j,k){m.apply(j,k)},scope:m});return m});sap.riv.module({qname:'sap.viz.util.Objects',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T){var o={extend:function(){var a,n,s,c,b,d,t=arguments[0]||{},i=1,l=arguments.length,e=false;if(typeof t==="boolean"){e=t;t=arguments[1]||{};i=2}if(typeof t!=="object"&&!T.isFunction(t)){t={}}if(l===i){t=this;--i}for(;i<l;i++){if((a=arguments[i])!==null){for(n in a){if(a.hasOwnProperty(n)){s=t[n];c=a[n];if(t===c){continue}if(e&&c&&(T.isPlainObject(c))){if(b){b=false;d=s&&T.isArray(s)?s:[]}else{d=s&&T.isPlainObject(s)?s:{}}t[n]=o.extend(e,d,c)}else if(c!==undefined){t[n]=c}}}}}return t},equal:function(a,b){if(typeof arguments[0]!==typeof arguments[1]){return false}if(a===undefined){if(b!==undefined){return false}}if(a===null){if(b!==null){return false}}if(a instanceof Array){if(!(b instanceof Array)){return false}if(a.length!==b.length){return false}var c=true;for(var i=0;i<a.length;i++){if(typeof a[i]!==typeof b[i]){return false}if(typeof a[i]==='boolean'||typeof a[i]==='number'||typeof a[i]==='string'||typeof a[i]==='undefined'||a[i]===null){c=(a[i]===b[i])}else if(a[i]instanceof Object){c=this.equal(a[i],b[i])}else{return false}if(!c){return false}}return true}if(a instanceof Object&&b instanceof Object&&typeof a!=='function'&&typeof b!=='function'){if(b===null||b instanceof Array){return false}var d=0,e=0;var f;for(f in a){if(a.hasOwnProperty(f)){if(typeof a[f]==='boolean'||typeof a[f]==='number'||typeof b[f]==='string'||typeof a[f]==='undefined'||a[f]===null){if(a[f]!==b[f]){return false}}else{if(!this.equal(a[f],b[f])){return false}}d++}}for(f in b){if(b.hasOwnProperty(f)){e++}}if(d!==e){return false}return true}return a===b}};return o});sap.riv.module({qname:'sap.viz.Constants',version:'4.0.0'},[],function Setup(){var c={SAPColorSingleAxis:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],SAPColorDualAxis1:["#8FBADD","#B8D4E9","#7AAED6",'#A3C7E3','#3D88C4','#66A1D0','#297CBE','#5295CA','#005BA3','#146FB7','#005395','#0063B1'],SAPColorDualAxis2:["#F6A09B","#F9C3C0","#F58E88",'#F8B1AD','#F05B52','#F37D76','#EE4A40','#F16C64','#D92419','#ED382D','#C52117','#EB271B']};c.SAPColor=c.SAPColorSingleAxis;return c});sap.riv.module({qname:'sap.viz.data.description.DataContainer',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'}],function Setup(O){var D=function(u){this._uId=u;this._isFake=false;this._infos=null};D.prototype.getId=function(){return this._uId};D.prototype.fake=function(_){if(!arguments.length){return this._isFake}this._isFake=_};D.prototype.infos=function(_){if(!arguments.length){return this._infos}this._infos=_};return D});sap.riv.module({qname:'sap.viz.data.description.DimensionLabels',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.data.description.DataContainer',version:'4.0.0'}],function Setup(O,D){var a=O.derive(D,{constructor:function(u,t,v){this._type=t;this._values=v},getValues:function(){return this._values},getType:function(){return this._type}});return a});sap.riv.module({qname:'sap.viz.data.feed.feed',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){return function(f,a,t,m,b,c,d,e,g){var h=f;var j=a;var k=t;var l=m;var n=b;var o=c;var p=d;var q=e;var r=g;var s=[];function u(){return u}u.feedId=function(_){if(!arguments.length){return h}h=_;return u};u.feedName=function(_){if(!arguments.length){return j}j=_;return u};u.type=function(_){if(!arguments.length){return k}k=_;return u};u.min=function(_){if(!arguments.length){return l}l=_;return u};u.max=function(_){if(!arguments.length){return n}n=_;return u};u.analysisAxisIndex=function(_){if(!arguments.length){return o}o=_;return u};u.measureGroupIndex=function(_){if(!arguments.length){return q}q=_;return u};u.acceptMND=function(_){if(!arguments.length){return p}p=_;return u};u.maxStackedDims=function(_){if(!arguments.length){return r}r=_;return u};u.data=function(_){if(!arguments.length){return s}s=_;return u};u.addData=function(_){s.push(_);return u};u.getMeasureNames=function(){var e=q-1;var v=[];for(var i=0;i<s.length;i++){v.push({'val':s[i]['name'],'ctx':{'mg':e,'mi':i}})}return v};u.getMeasureValues=function(){var v=[];if(s.length>0){return s[0].getMeasureValues()}return v};u.getMeasureCount=function(){return s.length};u.hasMNDFeeded=function(){var v=u.data();for(var i=0;i<v.length;i++){if(v[i].getType()==="measureNamesDimension"){return true}}return false};u.hasFeeded=function(){return u.data().length>0?true:false};u.getIndex=function(){return u.analysisAxisIndex()?u.analysisAxisIndex():u.measureGroupIndex()};u.getDataCount=function(){if(u.type()==="Dimension"){return u.data().length}else{return u.data().length>0?u.data()[0].getMeasureValues().length:0}};return u}});sap.riv.module({qname:'sap.viz.data.feed.feeder',version:'4.0.0'},[{qname:'sap.viz.data.feed.feed',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.data.description.DimensionLabels',version:'4.0.0'}],function Setup(F,a,T,D){return function(f,c,b){var d='Dimension';var e='Measure';var g="feedId";var B="binding";var h="type";var I="index";var _=[];var k=[];var l=[];var m={};var n=[];function o(){return o}o.init=function(){p(f);if(c){if(b){r(c,b)}else{q(c)}o.checkValid()}};o.getFeeds=function(){return l};o.findFeed=function(i){return m[i]};o.getAnalysisAxisIndex=function(j){for(var i=0;i<_.length;i++){if(_[i]===j){return i}}};o.getMeasureValuesGroupIndex=function(j){for(var i=0;i<k.length;i++){if(k[i]===j){return i}}};o.getMeasureValuesGroupFeeds=function(){return k};o.checkValid=function(){for(var i=0;i<l.length;i++){var j=l[i];var t;if(j.type()==="Dimension"){t=j.getDataCount();if(t<j.min()||(j.max()!==Number.POSITIVE_INFINITY&&t>j.max())){a.error(j.feedId()+": does not meet min or max number of feed definition")}}else if(j.type()==="Measure"){t=j.getDataCount();if(t<j.min()||(j.max()!==Number.POSITIVE_INFINITY&&t>j.max())){a.error(j.feedId()+": does not meet min or max number of feed definition")}}else{a.error(j.feedId()+": wrong feed type")}}};o.getBindingInfo=function(){return n};function p(j){if(T.isArray(j)){var t=0;for(var i=0;i<j.length;i++){var u=j[i]['type'];var v=j[i]['aaIndex'];var w=j[i]['id'];if(u!==d&&u!==e){a.error('wrong feed type in feed definition: '+j[i]['id'])}if(j[i]['type']===d){if(j[i]['aaIndex']<=0){a.error('wrong analysis axis index in feed definition: '+j[i]['id'])}t++}if(j[i]['type']===e){if(j[i]['mgIndex']<=0){a.error('wrong  measure axis index in feed definition: '+j[i]['id'])}}var x=l.push(F(w,j[i]['name'],u,j[i]['min'],j[i]['max'],v,j[i]['acceptMND'],j[i]['mgIndex'],j[i]['maxStackedDims']));m[w]=l[x-1]}for(i=0;i<t;i++){n[i]=false}}}function q(j){var t=j.getAnalysisAxisCount();var u;for(var i=0;i<t;i++){u=s(l,d,i+1);if(u){var v=j.getAnalysisAxisByIdx(i);if(T.isExist(u.maxStackedDims())&&v.getDimensionLabels().length>u.maxStackedDims()){a.error("Invalid Feeding: exceed max stacked dimension number "+u.feedId()+" feed")}_[i]=u;n[i]=true;u.addData(v)}}var w=j.getMeasureValuesGroupCount();for(i=0;i<w;i++){u=s(l,e,i+1);if(u){k[i]=u;u.addData(j.getMeasureValuesGroupByIdx(i))}}}function s(j,t,u){for(var i=0;i<j.length;i++){if(j[i].type()===t&&j[i].getIndex()===u){return j[i]}}return null}function r(t,u){var v;for(var i=0;i<u.length;i++){var w=u[i];var x=w[g];if(!x){a.error("Invalid Feeding: no feed id")}var y=m[x];if(!y){a.error("Invalid Feeding: no "+x+" feed")}var z=w[B];for(var j=0;j<z.length;j++){var A=z[j][h];var C=z[j][I];if(A==="analysisAxis"){var E=t.getAnalysisAxisByIdx(C-1);if(!E){a.error("could not find axis "+C+" in data set"+x+" feed")}if(T.isExist(y.maxStackedDims())&&E.getDimensionLabels().length>y.maxStackedDims()){a.error("Invalid Feeding: exceed max stacked dimension number "+x+" feed")}v=y.getDataCount();if(y.max()!==Number.POSITIVE_INFINITY&&v>=y.max()){a.error(x+" feed could not accept more data containers")}y.addData(E);_[C-1]=y;n[y.getIndex()-1]=true}else if(A==="measureValuesGroup"){var G=t.getMeasureValuesGroupByIdx(C-1);if(!G){a.error("could not find measure values group "+C+" in data set"+x+" feed")}v=y.getDataCount();if(y.max()!==Number.POSITIVE_INFINITY&&v>=y.max()){a.error(x+" feed could not accept more data containers")}y.addData(G);k[C-1]=y}else if(A==="measureNamesDimension"){if(y.acceptMND()<0){a.error("could not accpet MeasureNamesDimension "+x+" feed")}v=y.getDataCount();if(y.max()!==Number.POSITIVE_INFINITY&&v>=y.max()){a.error(x+" feed could not accept more data containers")}y.addData(new D("","measureNamesDimension",""))}else{a.error("Invalid Binding")}}}}o.init();return o}});sap.riv.module({qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0',exported:true},[{qname:'sap.viz.data.feed.feeder',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(f,l,C){var t=function(){var a=[];var b={};var d=l.get('IDS_ISNOVALUE');var h=function(_){if(_===null||_===undefined){return d}else{return _}};b.generateTooltipData=function(c,s,e,g,n,p){var o=function(c){var r;var u=false;if(s[e][0]!==undefined&&s[e][0].length>0){r=d3.merge([s[e][0],s[e][1]]);u=true}else{r=s[e]}var v={'body':[],'footer':[]};var w=r.length;var x=false;var y=0;var z=[c.getMeasureValuesGroupDataByIdx(0),c.getMeasureValuesGroupDataByIdx(1)];var A=[c.getAnalysisAxisDataByIdx(0),c.getAnalysisAxisDataByIdx(1)];var M=m(A);if(z[0]&&z[1]){x=true;y=z[0].values.length}var B=false;var D;var i=0,j=0,k=0,E;var F;var G;var H;var I;var J;var K;if(!M.hasMNDonCate&&!M.hasMNDonColor){if(A[1]){F=0;if(z[0]){for(i=0;i<z[0].values.length;++i){G={'name':h(z[0].values[i].col),'val':[]};for(j=0,E=z[0].values[i].rows.length;j<E;++j){H=F*E+j;I=[];for(k=0;k<A[1].values.length;++k){I.push(A[1].values[k].rows[j])}J={'shape':n[H%n.length],'color':g[H%g.length],'label':I,'value':r[H].val===' '?d:p===undefined?h(r[H].val):p(r[H].val),'valueAxis':0};G.val.push(J)}v.body.push(G);++F}}if(z[1]){for(i=0;i<z[1].values.length;++i){G={'name':h(z[1].values[i].col),'val':[]};for(j=0,E=z[1].values[i].rows.length;j<E;++j){H=F*E+j;I=[];for(k=0;k<A[1].values.length;++k){I.push(A[1].values[k].rows[j])}J={'shape':n[H%n.length],'color':g[H%g.length],'label':I,'value':r[H].val===' '?d:p===undefined?h(r[H].val):p(r[H].val),'valueAxis':1};G.val.push(J)}v.body.push(G);++F}}}else{G={'name':h(z[0].values[0].col),'val':[]};J={'shape':n[0%n.length],'color':g[0%g.length],'label':null,'value':r[0].val===' '?d:p===undefined?h(r[0].val):p(r[0].val),'valueAxis':0};G.val.push(J);v.body.push(G)}for(i=0,E=A[0].values.length;i<E;++i){K={'label':A[0].values[i].col,'value':A[0].values[i].rows[e]};v.footer.unshift(K)}}else if(M.hasMNDonColor){for(i=0;i<A[1].values.length;++i){if(A[1].values[i].type==='MND'){D=A[1].values[i].rows.length;if(i===0){B=true}break}}F=0;var L;if(z[0]){for(i=0;i<z[0].values.length;++i){G={'name':h(z[0].values[i].col),'val':[]};for(j=0,E=z[0].values[i].rows.length;j<E;++j){L=undefined;if(B){H=F*E+j}else if(!u||!x){H=j*D+F}else{H=j*y+F;L=j*D+F}I=[];for(k=0;k<A[1].values.length;++k){if(A[1].values[k].type!=='MND'){I.push(A[1].values[k].rows[j])}}J={'shape':L!==undefined?n[L%n.length]:n[H%n.length],'color':L!==undefined?g[L%g.length]:g[H%g.length],'label':I,'value':r[H].val===' '?d:p===undefined?h(r[H].val):p(r[H].val),'valueAxis':0};G.val.push(J)}v.body.push(G);++F}}if(z[1]){for(i=0;i<z[1].values.length;++i){G={'name':h(z[1].values[i].col),'val':[]};for(j=0,E=z[1].values[i].rows.length;j<E;++j){L=undefined;if(B){H=F*E+j}else if(!u||!x){H=j*D+F}else{H=j*(D-y)+F-y+parseInt(w*y/D,10);L=j*D+F}I=[];for(k=0;k<A[1].values.length;++k){if(A[1].values[k].type!=='MND'){I.push(A[1].values[k].rows[j])}}J={'shape':L!==undefined?n[L%n.length]:n[H%n.length],'color':L!==undefined?g[L%g.length]:g[H%g.length],'label':I,'value':r[H].val===' '?d:p===undefined?h(r[H].val):p(r[H].val),'valueAxis':1};G.val.push(J)}v.body.push(G);++F}}for(i=0,E=A[0].values.length;i<E;++i){K={'label':A[0].values[i].col,'value':A[0].values[i].rows[e]};v.footer.unshift(K)}}else{var N=null;var O;for(i=0;i<A[0].values.length;++i){if(A[0].values[i].type==='MND'){D=A[0].values[i].rows.length;var P=0;if(s.length!==undefined){P=s.length}else{for(j in s){if(s.hasOwnProperty(j)){++P}}}O=P/D;if(i===0){B=true;N=A[0].values[i].rows[parseInt(e/O,10)]}else{N=A[0].values[i].rows[e%D]}break}}G={'name':N,'val':[]};if(A[1]){if(z[0]){for(j=0,E=z[0].values[0].rows.length;j<E;++j){H=j;I=[];for(k=0;k<A[1].values.length;++k){I.push(A[1].values[k].rows[j])}J={'shape':n[H%n.length],'color':g[H%g.length],'label':I,'value':r[H].val===' '?d:p===undefined?h(r[H].val):p(r[H].val),'valueAxis':0};G.val.push(J)}}}else{J={'shape':n[0%n.length],'color':g[0%g.length],'label':null,'value':r[0].val===' '?d:p===undefined?h(r[0].val):p(r[0].val),'valueAxis':0};G.val.push(J)}v.body.push(G);for(i=0,E=A[0].values.length;i<E;++i){if(A[0].values[i].type!=='MND'){K={'label':A[0].values[i].col,'value':null};if(B){K.value=A[0].values[i].rows[e%O]}else{K.value=A[0].values[i].rows[parseInt(e/D,10)]}v.footer.unshift(K)}}}return v};var q=function(i){if(a[i]===undefined){a[i]=o(c)}return a[i]};return q(e)};return b};function m(a){var h=false;var j,b;if(a[0]){for(j=0,b=a[0].values.length;j<b;++j){if(a[0].values[j].type&&a[0].values[j].type==='MND'){h=true}}}var c=false;if(!h){if(a[1]){for(j=0,b=a[1].values.length;j<b;++j){if(a[1].values[j].type&&a[1].values[j].type==='MND'){c=true}}}}return{hasMNDonCate:h,hasMNDonColor:c}}t.formatTooltipData=function(d){var a={name:C.Module.Event.TooltipShow.name,data:d};return a};t.dataTransform=function(o){var d=o['MG1'];var a=o['MG2'];var b=[];var i,j;if(o.hasMND&&o.MNDOnColor&&o.MNDInner){var c=0,e=0,g=0;if(o['MG1Number']){c=o['MG1Number'];g=d.length/c}if(o['MG2Number']){e=o['MG2Number'];g=a.length/e}for(i=0;i<g;i++){for(j=0;j<c;j++){b.push(d[i*c+j])}for(j=0;j<e;j++){b.push(a[i*e+j])}}}else{if(d){for(i=0;i<d.length;i++){b.push(d[i])}}if(a){for(i=0;i<a.length;i++){b.push(a[i])}}}var s=[];var h;if(d.length!==0){h=d[0].length}else{h=a[0].length}for(j=0;j<h;j++){var k=[];for(i=0;i<b.length;i++){k.push(b[i][j])}s.push(k)}return s};return t});sap.riv.module({qname:'sap.viz.util.NumberUtils',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T){var N={isNoValue:function(n){return T.isNaN(n)}};return N});sap.riv.module({qname:'sap.viz.util.Scaler',version:'4.0.0'},[],function Setup(){var S={perfect:function(_,a,b){var c=2;var d=100;var e=_.domain();var o=e[0];var f=e[e.length-1];var r=-1;var g=-1;if(!b||b<c){if(!a||a<c){var h=_.range();var i=Math.abs(h[0]-h[h.length-1]);if(i>10){r=c+Math.round(i/100)}else{r=c}}else{r=a}}else{g=b}var q=_.nice();if(g<0){var t=q.ticks(r);var j=true;var k;if(t.length==0){j=false}else if(t.length>1){k=t[1]-t[0]}else{var l=Math.abs(e[0]-t[0]);var m=Math.abs(e[e.length-1]-t[0]);if(l>m){k=l}else{k=m}}var n=c;if(j){n=t.length;if(e[0]<e[1]){if(t[0]!=e[0]){e[0]=t[0]-k;n++}if(t[t.length-1]!=e[e.length-1]){e[e.length-1]=t[t.length-1]+k;n++}}else{if(t[0]!=e[e.length-1]){e[e.length-1]=t[0]-k;n++}if(t[t.length-1]!=e[0]){e[0]=t[t.length-1]+k;n++}}}q.tickNum=n;q.distance=k;q.tickHint=n-1;e[0]=parseFloat(e[0].toFixed(8));e[e.length-1]=parseFloat(e[e.length-1].toFixed(8));q.domain(e)}else{this.perfect(q,g);if(q.tickNum>g){var p=g;for(;p>=c;){p--;this.perfect(q,p);if(q.tickNum<=g){break}}}if(q.tickNum<g){var s=(g-q.tickNum);var e=q.domain();for(;s>0;){if(e[0]<e[1]){if(Math.abs(e[1]-f)>Math.abs(o-e[0])){e[0]-=q.distance}else{e[1]+=q.distance}s--;q.tickNum++}else{if(Math.abs(e[1]-f)>Math.abs(o-e[0])){e[0]+=q.distance}else{e[1]-=q.distance}s--;q.tickNum++}}q.tickHint=q.tickNum-1;e[0]=parseFloat(e[0].toFixed(8));e[e.length-1]=parseFloat(e[e.length-1].toFixed(8));q.domain(e)}}return q},perfectDual:function(_,a){this.perfect(_);this.perfect(a);var d=_.domain();var b=a.domain();var r=_.range();var c=a.range();if((d[0]>d[d.length-1]&&b[0]<b[b.length-1])||(d[0]<d[d.length-1]&&b[0]>b[b.length-1])||(d[0]<0&&d[d.length-1]<0)||(b[0]<0&&b[b.length-1]<0)||(d[0]>0&&d[d.length-1]>0)||(b[0]>0&&b[b.length-1]>0)||(Math.abs(r[0]-r[r.length-1])!=Math.abs(c[0]-c[c.length-1]))){return}var p=0;var n=0;var e=0;var f=0;var t=_.tickNum;var g=a.tickNum;var h=(d[d.length-1]-d[0])/(t-1);h=parseFloat(h.toFixed(8));for(var i=0;i<t;i++){var j=d[0]+i*h;if(j>0){p++}else if(j<0){n++}}var k=(b[b.length-1]-b[0])/(g-1);k=parseFloat(k.toFixed(8));for(var i=0;i<g;i++){var j=b[0]+i*k;if(j>0){e++}else if(j<0){f++}}if(p>e){var m=p-e;if(b[0]<b[b.length-1]){b[b.length-1]+=(m*Math.abs(k));a.tickNum+=m}else if(b[0]>b[b.length-1]){b[0]+=(m*Math.abs(k));a.tickNum+=m}}else if(p<e){var m=e-p;if(d[0]<d[d.length-1]){d[d.length-1]+=(m*Math.abs(h));_.tickNum+=m}else if(d[0]>d[d.length-1]){d[0]+=(m*Math.abs(h));_.tickNum+=m}}if(n>f){var m=n-f;if(b[0]<b[b.length-1]){b[0]-=(m*Math.abs(k));a.tickNum+=m}else if(b[0]>b[b.length-1]){b[b.length-1]-=(m*Math.abs(k));a.tickNum+=m}}else if(n<f){var m=f-n;if(d[0]<d[d.length-1]){d[0]-=(m*Math.abs(h));_.tickNum+=m}else if(d[0]>d[d.length-1]){d[d.length-1]-=(m*Math.abs(h));_.tickNum+=m}}d[0]=parseFloat(d[0].toFixed(8));d[1]=parseFloat(d[1].toFixed(8));b[0]=parseFloat(b[0].toFixed(8));b[1]=parseFloat(b[1].toFixed(8));_.domain(d);a.domain(b);_.tickHint=_.tickNum-1;a.tickHint=a.tickNum-1}};return S});sap.riv.module({qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},[{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(c){var C={sap32:function(){return d3.scale.ordinal().range(c.SAPColorSingleAxis)},sap32dualaxis1:function(){return d3.scale.ordinal().range(c.SAPColorDualAxis1)},sap32dualaxis2:function(){return d3.scale.ordinal().range(c.SAPColorDualAxis2)},};return C});sap.riv.module({qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},[],function Setup(){return function(d){var a;var b;var h=false;var m=true;var M=false;var D=false;var c=d.getMeasureValuesGroupDataByIdx(1);var e=d.getMeasureValuesGroupDataByIdx(0);var r=d.getAnalysisAxisDataByIdx(1);var f=d.getAnalysisAxisDataByIdx(0);if((c&&c.values&&c.values.length>0)){D=true}if(f&&f.values&&f.values.length>0){if(f.values[0].type==='MND'){h=true;m=false;M=false}else if(f.values[f.values.length-1].type==='MND'){h=true;m=false;M=true}}if(r&&r.values&&r.values.length>0){if(r.values[0].type==='MND'){h=true;M=false}else if(r.values[r.values.length-1].type==='MND'){h=true;M=true}}function p(o){var q=[];var i,j,k;var s;if(o.values.length<=0){return q}if(h&&!m){for(j=0;j<o.values[0].rows.length;++j){s=new Array(o.values.length*o.values[0].rows[0].length);for(k=0;k<o.values[0].rows[0].length;++k){for(i=0;i<o.values.length;++i){var t={};t.val=o.values[i].rows[j][k].val;t.ctx=o.values[i].rows[j][k].ctx;if(M){s[k*o.values.length+i]=t}else{s[i*o.values[0].rows[0].length+k]=t}}}q.push(s)}}else{q=new Array(o.values.length*o.values[0].rows.length);for(i=0;i<o.values.length;++i){for(j=0;j<o.values[0].rows.length;++j){s=o.values[i].rows[j];if(!h||!M){q[i*o.values[0].rows.length+j]=s}else{q[j*o.values.length+i]=s}}}}return q}function g(j,k){for(var i=0;i<k.length;++i){j[i]=j[i].concat(k[i])}}function l(n){var o=[];var q=e.values.length;var s=c.values.length;var t=e.values[0].rows[0].length;var u=new Array(e.values[0].rows.length);var v=0;var i,j,k;for(i=0;i<u.length;++i){u[i]=[]}if(M){var w=e.values[0].rows.length;for(i=0;i<t;++i){for(j=0;j<q;++j){for(k=0;k<w;++k){u[k][v]=e.values[j].rows[k][i]}o[v]=0;++v}for(j=0;j<s;++j){for(k=0;k<w;++k){u[k][v]=c.values[j].rows[k][i]}o[v]=1;++v}}}else{for(i=0;i<q;++i){for(j=0;j<t;++j){o[v++]=0}g(u,e.values[i].rows)}for(i=0;i<s;++i){for(j=0;j<t;++j){o[v++]=1}g(u,c.values[i].rows)}}n['MG1']=u;n["MG1Number"]=e.values.length;n['color']=o}var n={};if(D&&!m){l(n)}else{a=p(e);n["MG1Number"]=e.values.length;if(D){b=p(c);n["MG2Number"]=c.values.length}n["MG1"]=a;n["MG2"]=b}n["hasMND"]=h;n["MNDOnColor"]=m;n['MNDInner']=M;return n}});sap.riv.module({qname:'sap.viz.modules.dispatch',version:'4.0.0',exported:true},[],function Setup(){return d3.dispatch});sap.riv.module({qname:'sap.viz.modules.horizontalboxplot',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,a,M,C,S,N,t,O,l,B){var b=function(c,e){var w=null,f=[],g=[],s=[],h=[],r=[],o=[],p=[],q=[],u=[],v=null;var z={'sap.viz.modules.horizontalboxplot.dimension':{'key':'sap.viz.modules.horizontalboxplot.dimension','values':null}};var A=undefined,D=undefined,E=d3.scale.ordinal(),F=d3.scale.linear(),G=d3.scale.ordinal(),H,I,J,K=null,L=true,P={min:0,max:0},Q=e.effectManager,R='normal';var U={},V=new a('showTooltip','hideTooltip','initialized');var W={width:'1',color:'#000000'};var X={width:'0',midLineColor:'#000000'};var Y=[],Z=[],$=[],a1=[],b1=[],c1=[],d1=[];var e1=function(){var d=[];for(var i=0;i<s.length;i++){d.push(i)}E.domain(d).rangeBands([0,D]);G.domain(g).rangeBands([0,D]);if(!P||(P.min===0&&P.max===0)){F.domain([0,1]).range([0,A]).nice()}else{F.domain([P.min,P.max]).range([0,A]).nice()}S.perfect(F)};m1.dimensionData=function(_){if(!arguments.length){return z}z=_;return m1};function f1(d){if(T.isExist(d)){length=d.length;var j=false;for(var i=0;i<length;i++){if(d[i].length>0){if(!j){P=g1(d[i]);j=true}else{var k=g1(d[i]);if(k){if(k.min<P.min){P.min=k.min}if(k.max>P.max){P.max=k.max}}}}}}}function g1(d){var m={min:0,max:0};if(T.isExist(d)){d.sort(function(i,j){return i.val-j.val});m={min:d[0].val,max:d[d.length-1].val}}return m}function h1(){Y=[];Z=[];$=[];a1=[];b1=[];c1=[];d1=[]}function i1(){f=[];g=[];s=[];h=[];r=[];o=[];p=[]}function j1(n){return(n&1)==0}function k1(d,i,j){var n=j-i+1;if(n<=0)return-1;var k;var m=d[i+Math.floor((n+1)/2)-1].ctx;if(j1(n)){k=(d[i+Math.floor((n+1)/2)-1].val+d[i+Math.floor((n+1)/2)].val)/2}else{k=d[i+Math.floor((n+1)/2)-1].val}return{'ctx':m,'val':k}}function l1(d){if(d&&d.length>0){var n=d.length,m={'Maximum:':null,'3rd Quartile:':null,'Median:':null,'1st Quartile:':null,'Minimum:':null};midLine=k1(d,0,n-1);m['Median:']=midLine;var x=d[Math.floor(n/2)];d[Math.floor(n/2)]=midLine;var y=k1(d,0,Math.floor(n/2));d[Math.floor(n/2)]=x;x=d[Math.floor((n-1)/2)];d[Math.floor((n-1)/2)]=midLine;var _=k1(d,Math.floor((n-1)/2),n-1);d[Math.floor((n-1)/2)]=x;m['3rd Quartile:']=_;m['1st Quartile:']=y;var y1=_.val-y.val;var z1=y.val-1.5*y1;var A1=_.val+1.5*y1;var i=0;while(d[i].val<z1)i++;lowWhisker=d[i];m['Minimum:']=lowWhisker;if(lowWhisker){if(y){if(y.val!=lowWhisker.val){a1.push({'pair':[y,lowWhisker],'ctx':[y.ctx,lowWhisker.ctx],'val':[y.val,lowWhisker.val]})}}}for(var k=0;k<i;k++)d1.push(d[k]);var j=n-1;while(d[j].val>A1)j--;highWhisker=d[j];m['Maximum:']=highWhisker;for(var k=0;k<n-j-1;k++)d1.push(d[j+1+k]);if(d1.length>0)m['outLiers(s)']=d1.length;if(highWhisker){if(_){if(_.val!=highWhisker.val){b1.push({'pair':[highWhisker,_],'ctx':[highWhisker.ctx,_.ctx],'val':[highWhisker.val,_.val]})}}}if(y&&_&&midLine){if(y.val==_.val){c1.push({'pair':[y,y],'midLine':null,'ctx':[y.ctx],'val':[y.val]})}else if(midLine.val==_.val||midLine.val==y.val){c1.push({'pair':[_,y],'midLine':null,'ctx':[_.ctx,y.ctx],'val':[_.val,y.val]})}else{c1.push({'pair':[_,midLine],'midLine':midLine,'ctx':[_.ctx],'val':[_.val]});c1.push({'pair':[midLine,y],'midLine':midLine,'ctx':[y.ctx],'val':[y.val]})}}p.push(m)}}function m1(i){B.drawBound(i,A,D);i.each(function(){boxNumber=1,boxGroupNumber=s.length,J=8*(E.rangeBand())/(9*boxNumber+7);var j=w=d3.select(this);j.selectAll('g.box').remove();if(H==null){H=j.append('rect').attr('width',A).attr('height',E.rangeBand()-J/2).style('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{H.attr('width',A).attr('height',E.rangeBand()-J/2).style('visibility','hidden')}var k=j.selectAll('g.box').data(s);k.enter().append('g');k.attr('class','box').each(function(m,n){if(m.length==0){p.push({});return}m=m.sort(function(d,x){return d.val-x.val});var _=m.length,y1=m[0],z1=m[_-1];l1(m);var A1=d3.select(this).selectAll('circle.outliers').data(d1);A1.enter().append('circle');A1.attr('cy',function(d){var y=E(n)+J;return y}).attr('cx',function(d,y){var x=F(d.val);return x}).attr('r','2').attr('stroke',Q.register({drawingEffect:'normal',fillColor:W.color})).attr('stroke-width',W.width).attr('fill','none').attr('class','datapoint outliers');A1.exit().remove();var B1=d3.select(this).selectAll('rect.quartile').data(c1);B1.enter().append('rect');B1.attr('y',function(d){var y=E(n)+J/2;return y}).attr('x',function(d,y){var x=F(d.pair[1].val);return x}).attr('height',J).attr('width',function(d,x){var A=0;var y=d.pair[0].val-d.pair[1].val;if(y==0){A=1}else{A=F(d.pair[0].val)-F(d.pair[1].val)}return A}).attr('shape-rendering','crispEdges').attr('fill',function(d){var x={drawingEffect:R,fillColor:u[n%u.length],direction:'vertical'};return Q.register(x)}).attr('stroke-width',X.width).attr('class','datapoint quartile');if(c1.length==2){var C1=E(n)+J/2;var D1=C1+J;var E1=midLineXEnd=F(c1[0].midLine.val);var F1=d3.select(this);F1.append('line').attr('x1',E1).attr('y1',C1).attr('x2',midLineXEnd).attr('y2',D1).attr('stroke','#ffffff').attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','midline')}B1.exit().remove();var G1=0,H1=0,I1=0,J1=0;var K1=0,L1=0,M1=0,N1=0;var O1=d3.select(this).selectAll('rect.rectlowwhisker').data(a1);O1.enter().append('rect');O1.attr('y',function(d){var y=E(n)+J/2;L1=N1=y+J/2;H1=y;J1=y+J;return y}).attr('x',function(d){var x=F(d.pair[1].val);K1=x;G1=I1=x;return x}).attr('height',J).attr('width',function(x){var A=F(x.pair[0].val)-F(x.pair[1].val);M1=F(x.pair[1].val)+A;var F1=d3.select(this.parentNode);F1.append('line').attr('x1',G1).attr('y1',H1).attr('x2',I1).attr('y2',J1).attr('stroke',function(d){var y={drawingEffect:'normal',fillColor:u[n%u.length]};return Q.register(y)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','lineverticallowwhisker');var F1=d3.select(this.parentNode);F1.append('line').attr('x1',K1).attr('y1',L1).attr('x2',M1).attr('y2',N1).attr('stroke',Q.register({drawingEffect:'normal',fillColor:'#000000'})).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','linehorizontallowwhisker');return A}).attr('shape-rendering','crispEdges').attr('fill-opacity','0').attr('stroke-width','0').attr('class','datapoint rectlowwhisker');O1.exit().remove();var G1=0,H1=0,I1=0,J1=0;var K1=0,L1=0,M1=0,N1=0;var O1=d3.select(this).selectAll('rect.recthighwhisker').data(b1);O1.enter().append('rect');O1.attr('y',function(d){var y=E(n)+J/2;L1=N1=y+J/2;H1=y;J1=y+J;return y}).attr('x',function(d,y){var x=F(d.pair[1].val);K1=x;G1=I1=F(d.pair[0].val);return x}).attr('height',J).attr('width',function(x,y){var A=F(x.pair[0].val)-F(x.pair[1].val);M1=F(x.pair[1].val)+A;var F1=d3.select(this.parentNode);F1.append('line').attr('x1',G1).attr('y1',H1).attr('x2',I1).attr('y2',J1).attr('stroke',function(d){var P1={drawingEffect:'normal',fillColor:u[n%u.length]};return Q.register(P1)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','lineverticalhighwhisker');var F1=d3.select(this.parentNode);F1.append('line').attr('x1',K1).attr('y1',L1).attr('x2',M1).attr('y2',N1).attr('stroke',Q.register({drawingEffect:'normal',fillColor:'#000000'})).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','linehorizontalhighwhisker');return A}).attr('shape-rendering','crispEdges').attr('fill-opacity','0').attr('stroke-width','0').attr('class','datapoint recthighwhisker');O1.exit().remove();h1();V.initialized()});k.exit().remove()});return m1};m1.width=function(d){if(!arguments.length){return A}A=d;if(T.isExist(A)&&T.isExist(D)&&T.isExist(s)){e1()}return m1};m1.height=function(d){if(!arguments.length){return D}D=d;if(T.isExist(A)&&T.isExist(D)&&T.isExist(s)){e1()}return m1};var n1=function(_){if(_===null||_===undefined){return defaultString}else{return _}};function o1(d){var j={'body':[],'footer':[]},k=0;if(r){var m={'name':null,'val':[]};k=d%r.length;m.name=r[k].name;if(r[k].label!=null&&r[k].shape!=null&&u[k]!=null){var n={'shape':null,'color':null,'label':null,'value':null};n.shape=r[k].shape;n.color=u[k];n.label=r[k].label;m.val.push(n)}if(p){if(p[d]){for(var i in p[d]){var n={'shape':null,'color':null,'label':null,'value':null};n.label=i;if(p[d][i]){if(i=='outLiers(s)'){n.value=p[d][i]}else{n.value=p[d][i].val}}m.val.push(n)}}}j.body.push(m)}if(o){k=Math.floor(d/r.length);for(var i=0;i<o.length;i++){if(o[i].rows.length>0){var x={'label':null,'value':null};x.label=o[i].col;x.value=o[i].rows[k];j.footer.push(x)}}}return j}function p1(){if(z){for(var i in z){o=z[i].values}}if(h){var d=h.values;if(d.length>1){if(d[0].type=='MND'){for(var j=0;j<d[0].rows.length;j++){for(var m=0;m<d[1].rows.length;m++){var x={'name':null,'shape':null,'color':null,'label':null};x.name=d[0].rows[j];var y=[];for(var n=1;n<d.length;n++){y.push(d[n].rows[m])}x.label=y;r.push(x)}}}else if(d[d.length-1].type=='MND'){for(var m=0;m<d[0].rows.length;m++){var y=[];for(var n=0;n<d.length-1;n++){y.push(d[n].rows[m])}for(var j=0;j<d[d.length-1].rows.length;j++){var x={'name':null,'shape':null,'color':null,'label':null};x.label=y;x.name=d[d.length-1].rows[j];r.push(x)}}}}else{for(var m=0;m<d[0].rows.length;m++){var x={'name':null,'shape':null,'color':null,'label':null};x.name=d[0].rows[m];r.push(x)}}}for(var k=0;k<r.length;k++){r[k].shape='squareWithRadius'}}function q1(d,i,k){if(d){var m=d.getAttribute('class');if(m.indexOf('recthighwhisker')==-1&&m.indexOf('rectlowwhisker')==-1&&m.indexOf('linehorizontalhighwhisker')==-1&&m.indexOf('lineverticalhighwhisker')==-1&&m.indexOf('linehorizontallowwhisker')==-1&&m.indexOf('lineverticallowwhisker')==-1){d.setAttribute(i,k)}else if(m.indexOf('recthighwhisker')!=-1){var n=d.parentNode.querySelectorAll('line');if(n){for(var j=0,x=n.length;j<x;j++){var y=n[j].getAttribute('class');if(y.indexOf('linehorizontalhighwhisker')!=-1||y.indexOf('lineverticalhighwhisker')!=-1){n[j].setAttribute(i,k)}}}}else if(m.indexOf('rectlowwhisker')!=-1){var n=d.parentNode.querySelectorAll('line');if(n){for(var j=0,x=n.length;j<x;j++){var y=n[j].getAttribute('class');if(y.indexOf('linehorizontallowwhisker')!=-1||y.indexOf('lineverticallowwhisker')!=-1){n[j].setAttribute(i,k)}}}}}}m1.parent=function(){return w};m1.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){var k=d[i];q1(k,'opacity',1)}}else{q1(d,'opacity',1)}};m1.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){var k=d[i];q1(k,'opacity',0.2)}}else{q1(d,'opacity',0.2)}};m1.clear=function(d){if(d==null){w.selectAll('.datapoint').attr('opacity',1);w.selectAll('.lineverticallowwhisker').attr('opacity',1);w.selectAll('.lineverticalhighwhisker').attr('opacity',1);w.selectAll('.linehorizontallowwhisker').attr('opacity',1);w.selectAll('.linehorizontalhighwhisker').attr('opacity',1)}else{w.selectAll('.datapoint').attr('opacity',0.2);w.selectAll('.lineverticallowwhisker').attr('opacity',0.2);w.selectAll('.lineverticalhighwhisker').attr('opacity',0.2);w.selectAll('.linehorizontallowwhisker').attr('opacity',0.2);w.selectAll('.linehorizontalhighwhisker').attr('opacity',0.2)}w.selectAll('.recthighwhisker').attr('opacity',0);w.selectAll('.rectlowwhisker').attr('opacity',0)};m1.hoverOnPoint=function(d){var x=d.x,y=d.y;var i=-1;while(i<s.length){if(Math.abs(y-E.rangeBand()*i-0.5*E.rangeBand())<=0.5*E.rangeBand()){break}i++}if(i>(s.length-1)||i<0){H.style('visibility','hidden');return}H.attr('y',E.rangeBand()*i+J/4).style('visibility','visible');if(K!==i){if(L){K=i;var j=w[0][0].getTransformToElement(w[0][0].ownerSVGElement);var k=j.f;var m=o1(i);m.point={x:d3.event.layerX,y:E.rangeBand()*i+0.5*E.rangeBand()+k};m.plotArea={x:j.e,y:j.f,width:A,height:D};V.showTooltip(t.formatTooltipData(m))}}};m1.blurOut=function(){H.style('visibility','hidden');K=null;if(L){V.hideTooltip()}};function r1(d,i,j,k,m){if(d&&i<=j&&j<d.length){var n=subEnd=pos=i;while(pos<=j){while(((pos+1)<=j)&&(d[pos+1].val==d[pos].val)){subEnd++;pos++}k.push({'val':d[n],'parentGroupIndex':m,'start':n,'end':subEnd});pos++;n=subEnd=pos}}}function s1(d){var j=[];if(d){var m=f.length;var k=m>0?f[m-1].val:null;if(k){for(var i=0,n=k.length;i<n;i++){var x=k[i];var y=x.start;var _=x.end;r1(d,y,_,j,i)}}else{r1(d,0,d.length-1,j,null)}}return j}function t1(d){if(d){var j=d.getAnalysisAxisDataByIdx(0);h=d.getAnalysisAxisDataByIdx(1);if(j){var k=j.values.length;if(k==1){f.push({'col':j.values[0].col.val,'val':[]})}else{for(var i=0;i<k-1;i++){var m=j.values[i].rows;f.push({'col':j.values[i].col.val,'val':s1(m)})}}}}}function u1(d,i){var j=f.length,n=0,k=0,m=f[j-1].val;while(m[k].start!=d){k++}while(m[k].end!=i){n++;k++}n++;return n}function v1(){if(f){var d=f.length,n=null;n=f[d-1].val;if(n.length==0){g.push(0);g.push(1)}else{for(var i=0,x=n.length;i<x;i++){g.push(i)}}if(n.length==0){z['sap.viz.modules.horizontalboxplot.dimension'].values=[{'col':{'val':f[d-1].col},'rows':[]}]}else{var y=[];for(var j=0;j<d;j++){var _={'col':{'val':''},'rows':[]};_.col.val=f[j].col;var y1=f[j].val;for(var k=0,z1=y1.length;k<z1;k++){var A1=y1[k].start,B1=y1[k].end,C1=u1(A1,B1);for(var m=0;m<C1;m++){_.rows.push({'val':n1(y1[k].val.val),'info':y1[k].val.info})}}y.push(_)}z['sap.viz.modules.horizontalboxplot.dimension'].values=y}}}function w1(d){u=[];if(q.length>0){for(var i=0;i<d;++i){u.push(q[i%q.length])}}}function x1(){L=U.tooltip.enabled;q=U.colorPalette;R=U.drawingEffect}m1.data=function(d){if(!arguments.length){return v}i1();x1();v=d;var k=M(v);t1(v);dataMG1=k["MG1"];var n=dataMG1.length;var x=f[f.length-1].val;if(x.length!=0){for(var i=0,y=x.length;i<y;i++){var _=x[i].start,y1=x[i].end;for(var j=0;j<n;j++){var z1=[],A1=_,B1=y1;for(;A1<=B1;A1++){if(!N.isNoValue(dataMG1[j][A1].val))z1.push(dataMG1[j][A1])}s.push(z1)}}}else{for(var j=0;j<n;j++){var z1=[];for(var m=0;m<dataMG1[j].length;m++){if(!N.isNoValue(dataMG1[j][m].val)){z1.push(dataMG1[j][m])}}s.push(z1)}}f1(s);v1();if(T.isExist(A)&&T.isExist(D)){e1()}p1();w1(r.length);return m1};m1.primaryAxisTitle=function(_){if(!arguments.length){var d=v.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join('/')}return this};m1.secondAxisTitle=function(_){if(!arguments.length){var d=v.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join('/')}return this};m1.properties=function(d){if(!arguments.length){return U}O.extend(true,U,d);x1();w1(r.length);return m1};m1.categoryScale=function(d){if(!arguments.length){return G}G=d;return m1};m1.primaryScale=function(d){if(!arguments.length){return F}F=d;return m1};m1.colorPalette=function(d){if(!arguments.length){return q}q=d;return m1};m1.dispatch=function(_){if(!arguments.length)return V;V=_;return this};U=c.props(null);return m1};return b});sap.riv.module({qname:'sap.viz.format.XCFormat',version:'4.0.0'},[{qname:'sap.viz.util.Objects',version:'4.0.0'}],function Setup(O){var N={format:function(v){return v},locale:function(){},DEFAULT_FORMAT_DATE_TIME:'',DEFAULT_FORMAT_TIME:'',DEFAULT_FORMAT_SHORT_DATE:'',DEFAULT_FORMAT_LONG_DATE:'',DEFAULT_FORMAT_NUMBER:'',DEFAULT_FORMAT_BOOLEAN:''},s=null,l='en';if(sap&&sap.common&&sap.common.globalization&&sap.common.globalization.NumericFormatManager){s=sap.common.globalization.NumericFormatManager;N=O.extend(true,N,{format:function(v,p){return s.formatToText(v,p,true)},locale:function(_){if(!arguments.length){return l}l=_;s.setPVL(l);N.DEFAULT_FORMAT_DATE_TIME=s.DEFAULT_FORMAT_DATE_TIME;N.DEFAULT_FORMAT_TIME=s.DEFAULT_FORMAT_TIME;N.DEFAULT_FORMAT_SHORT_DATE=s.DEFAULT_FORMAT_SHORT_DATE;N.DEFAULT_FORMAT_LONG_DATE=s.DEFAULT_FORMAT_LONG_DATE;N.DEFAULT_FORMAT_NUMBER=s.DEFAULT_FORMAT_NUMBER;N.DEFAULT_FORMAT_BOOLEAN=s.DEFAULT_FORMAT_BOOLEAN},DEFAULT_FORMAT_DATE_TIME:s.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:s.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:s.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:s.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:s.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:s.DEFAULT_FORMAT_BOOLEAN})}return N});sap.riv.module({qname:'sap.viz.format.FormatManager',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.format.XCFormat',version:'4.0.0'},{qname:'sap.viz.Locale',version:'4.0.0'}],function Setup(T,X,L){var l='en',f=X,p=null;var F={constructor:function(){return},apply:function(_){l=_;f.locale(l)},format:function(v,a){return f.format(v,a)},formatFunc:function(_){if(!arguments.length){return f}f=_},DEFAULT_FORMAT_DATE_TIME:f.DEFAULT_FORMAT_DATE_TIME,DEFAULT_FORMAT_TIME:f.DEFAULT_FORMAT_TIME,DEFAULT_FORMAT_SHORT_DATE:f.DEFAULT_FORMAT_SHORT_DATE,DEFAULT_FORMAT_LONG_DATE:f.DEFAULT_FORMAT_LONG_DATE,DEFAULT_FORMAT_NUMBER:f.DEFAULT_FORMAT_NUMBER,DEFAULT_FORMAT_BOOLEAN:f.DEFAULT_FORMAT_BOOLEAN};L.addListener({fn:function(l){F.apply(l)},scope:F});return F});sap.riv.module({qname:'sap.viz.base.Repository',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(){var g=function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:r&0x3|0x8;return v.toString(16)})};var E={ID_REGISTERED:1,OBJ_REGISTERED:2,ID_NEEDED:3,ID_NOT_REGISTERED:4,OBJ_NULL:5};var a=function(t,p){var c={};c.type=t;switch(t){case E.ID_REGISTERED:c.message="ID '"+p+"' has been registered.";break;case E.OBJ_REGISTERED:c.message="The vizObj has been registered, its Id is '"+p+"'.";break;case E.ID_NEEDED:c.message="Please specify Id";break;case E.ID_NOT_REGISTERED:c.message="No vizObj was registered with Id '"+p+"'";break;case E.OBJ_NULL:c.message="Null object is not allowed";break}return c};var b={};var d=function(i,v){if(!v){throw a(E.OBJ_NULL)}i=i?i:g();if(b[i]){throw a(E.ID_REGISTERED,i)}for(var x in b){if(v==b[x]){throw a(E.OBJ_REGISTERED,x)}}b[i]=v;return i};var u=function(i){if(!i){throw a(E.ID_NEEDED)}if(!b[i]){throw a(E.ID_NOT_REGISTERED,i)}delete b[i]};var e=function(i){if(!i){throw a(E.ID_NEEDED,i)}return b[i]};var f=function(){var i=[];for(var x in b){i.push(x)}return i};var n=function(p){var i=g();return p?p+"_"+i:i};var R={register:d,unregister:u,get:e,getAll:f,newId:n};return R});sap.riv.module({qname:'sap.viz.base.UADetector',version:'4.0.0'},[],function Setup(){var d=window.devicePixelRatio||1;var v;var s=function(l){for(var i=0;i<l.length;i++){var q=l[i].string;var r=l[i].prop;v=l[i].versionSearch||l[i].identity;if(q){if(q.indexOf(l[i].subString)!=-1){return l[i].identity}}else if(r){return l[i].identity}}};var a=[';',' '];var b=function(q){var r=q.indexOf(v);if(r==-1)return;var t=q.substring(r+v.length+1);var i=0,l=a.length,u=-1;while(u===-1&&i<l)u=t.indexOf(a[i++]);if(u!==-1)t=t.slice(0,u);return t};var c=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent,subString:"RIV",versionSearch:"RIV/",identity:"RIV"},{string:navigator.userAgent,subString:"Safari",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Apple",identity:"UIWebView",versionSearch:"AppleWebKit"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var e=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var f=[{string:navigator.userAgent,subString:"Presto",identity:"Presto"},{string:navigator.userAgent,subString:"KHTML",identity:"KHTML"},{string:navigator.userAgent,subString:"Gecko",identity:"Gecko"},{string:navigator.userAgent,subString:"Trident",identity:"Trident"},{string:navigator.userAgent,subString:"RivKit",identity:"RivKit"}];var _=s(c)||"An unknown browser",g=b(navigator.userAgent)||b(navigator.appVersion)||"an unknown version",h=s(c)==="Explorer",j=s(c)==='Firefox',k=s(c)==='Chrome',m=s(c)==='Safari',n=s(c)==='UIWebView',o=s(e)||"an unknown OS",p=s(f)||"An unknown RenderEngine";var U={userAgent:function(){return _},version:function(){return g},isIE:function(){return h},isFirefox:function(){return j},isChrome:function(){return k},isSafari:function(){return m},isUIWebView:function(){return n},os:function(){return o},devicePixelRatio:function(){return d},renderEngine:function(){return p}};return(U)});sap.riv.module({qname:'sap.viz.util.TextUtils',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.UADetector',version:'4.0.0'}],function Setup(T,U){var n="http://www.w3.org/2000/svg";var a;var b=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var t=[];function g(){if(!a){var s=document.body.appendChild(document.createElementNS(n,"svg"));s.style.cssText="position:absolute;left:-1000px;top:-1000px;z-index:-9000;width:1px;height:1px";a=s.appendChild(document.createElementNS(n,"text"))}return a}function c(d,f){var a=g();if(!f)a.removeAttribute("style");else{if(!T.isString(f)){var h=U.isIE()?f.ownerSVGElement.getComputedStyle(f):getComputedStyle(f);var j="";b.forEach(function(i){var s=h.getPropertyValue(i);if(s!=null)j+=i+":"+s+";"});f=j}a.style.cssText=f}if(d==null)d="";a.textContent=d;return a}function e(d,f,h,j,k){if(h>0){var a=k?g():c(d,(j!=null?j:f));if(a.getComputedTextLength()<=h){if(f){f.textContent=d}return d}a.textContent="...";h-=a.getComputedTextLength();a.textContent=d;if(h>0){var l=d.length;var i=0;while(++i<l){if(a.getSubStringLength(0,l-i)<=h){var r=d.substring(0,l-i)+"...";if(f){f.textContent=r;f.appendChild(document.createElementNS(f.namespaceURI,"title")).textContent=d}return r}}}}if(f){f.textContent=""}return""}return{measure:function(d,s){if(d===''){return{width:0,height:0,x:0,y:0}}var f=c(d,s).getBBox();return{width:f.width,height:f.height,x:f.x,y:f.y}},fastMeasure:function(d,f,h,i){var j=d+f+h+i;var k=t[j];if(!k){t[j]=this.measure(d,"font-size:"+f+"; font-weight:"+h+"; font-family:"+i);k=t[j]}return k},ellipsis:function(d,f,m,h){return e(d,f,m,h,false)},ellipsisInCircle:function(d,f,r,h){var a=c(d,f);var m=Math.sqrt(Math.pow(r,2)-Math.pow(h+a.getBBox().height/2,2))*2;e(d,f,m,null,true)},verticalCentralOffset:function(d,f){var h=c(d,f);var i=h.getBBox();var j=-i.y;var k=parseInt(h.ownerSVGElement.getComputedStyle(h)["fontSize"]);return(j-(i.height-k))/2}}});sap.riv.module({qname:'sap.viz.modules.pie.tooltip',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.base.UADetector',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'}],function Setup(T,U,R){var w="tooltip",c="caret",m=8.9*14/2;var b=60,e=8;var r=R.newId();var s="tooltip-caret-shadow-"+r;var f=["viz-pie-tooltip-label-dimensions","viz-pie-tooltip-label-value","viz-pie-tooltip-label-percentage"];function g(p){return p.append("svg:path").attr("class",c).attr("d","M 0 0 Z")}function h(d){var a=d.namespaceURI;var i=d.appendChild(document.createElementNS(a,"filter"));i.id=s;var p=i.appendChild(document.createElementNS(a,"feGaussianBlur"));p.setAttribute("in","SourceAlpha");p.setAttribute("stdDeviation",3);p.setAttribute("result","blur");var t=i.appendChild(document.createElementNS(a,"feMerge"));t.appendChild(document.createElementNS(a,"feMergeNode")).setAttribute("in","blur");t.appendChild(document.createElementNS(a,"feMergeNode")).setAttribute("in","SourceGraphic")}function j(p){var k=[];for(var i=0;i<3;i++){k[i]=p.append("svg:text").attr("class",n(i)).datum(function(d){return{text:""}})}}function k(p){return p.selectAll("text")}function l(k,a){k.attr("style",function(d,i){var p=f[i];return a.cssText(p)})}function n(i){return"label"+(i+1)}function o(k){var t=n(1);var a;k.each(function(d){d.r=d3.select(this.parentNode).datum().r}).filter("."+t).attr("dy",function(d){var i=0,p=d.text;if(U.isIE()){i=T.verticalCentralOffset(p,this)}T.ellipsisInCircle(p,this,d.r,0);a=this.getBBox().height;return i});k.filter(":not(."+t+")").attr("dy",function(d,i){var p=d.text;var x=T.measure(p,this).height;var y=(U.isIE()?(i===0?0:x):(x/2))+a/2+e;var z=Math.sqrt(Math.pow(d.r,2)-Math.pow(x+a/2+e,2))*2;T.ellipsis(p,this,z);if(i===0){y=-y}return y})}function q(a){a%=360;if(a<0){a+=360}return a}function u(a,d){var p=a.transform.baseVal;var x=p.numberOfItems===0?0:q(p.getItem(0).angle);var y=[];y[0]=q(d);y[1]=y[0]-360;y[2]=y[0]+360;var z=360,A=null;for(var i=0;i<y.length;i++){var B=Math.abs(y[i]-x);if(B<z){z=B;A=i}}var C=d3.interpolateNumber(x,y[A]);return function(t){return"rotate("+C(t)+")"}}function v(a){if(a>=12*14){return 14}if(a>=8*14){return 0.8*14}return 0.5*14}return function(){function t(p,a){var x=p.selectAll("g."+w).data(function(d,i){var z;if(d.or>m){z=[{r:d.ir,caretSize:v(d.or)}]}else{z=new Array(0)}return z});x.exit().remove();k(x).call(l,a).call(o);var y=x.enter().append("svg:g").attr("class",w).style("opacity",0).attr("visibility","hidden").attr("pointer-events","none").call(g).call(j);k(y).call(l,a)}t.createShadowFilterDef=h;t.defaultStyle=function(p){return"."+p+" ."+w+" text{dominant-baseline:central}."+p+" ."+w+" ."+c+"{fill:#fff;"+(U.isSafari()?"-webkit-svg-shadow: 0 0 10px rgba(0, 0, 0, 0.25)":"filter:url(#"+s+")")+"}"};t.select=function(p){var a=p.selectAll("g."+w);if(a.empty()){return null}return{show:function(){a.attr("visibility",null).transition().duration(200).style("opacity",1);return this},hide:function(){a.transition().each("end",function(){a.attr("visibility","hidden")}).duration(200).style("opacity",0);return this},texts:function(){var x=arguments;k(a).each(function(d,i){d.text=x[i]}).call(o);return this},caret:function(){var i=a.select("."+c);return{show:function(){i.attr("d",function(d){var x=Math.tan(b*Math.PI/360)*d.caretSize;var y=Math.sqrt(d.r*d.r-x*x);return"M 0 "+-(y+d.caretSize)+" L "+x+" "+-y+" A "+d.r+" "+d.r+" 0 1 1 "+-x+" "+-y+" Z"});return this},hide:function(){i.attr("d",function(d){return"M 0 "+d.r+" A "+d.r+" "+d.r+" 0 1 1 0 "+-d.r+" A "+d.r+" "+d.r+" 0 1 1 0 "+d.r+" Z"});return this},rotateTo:function(d){i.transition().duration(200).attrTween("transform",function(){return u(this,d*180/Math.PI)});return this}}}}};return t}});sap.riv.module({qname:'sap.viz.modules.Constants',version:'4.0.0'},[{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(c){var m={Type:{Chart:'CHART',Container:'CONTAINER',Supplementary:'SUPPLEMENTARY',Controller:'CONTROLLER',ThirdParty:'THIRDPARTY'},CSS:{CLASS:{DATAPOINT:"datapoint"}},Event:{SelectData:{name:'selectData',desc:'Event fired when certain data point(s) is(are) selected, data context of selected item(s) would be passed in accordance with the following format.'+'<code>{name: "selectData",'+'data:[{\n//selected element\'s detail\n'+'target:"Dom Element",//an object pointed to corresponding dom element\n'+'data:[{val: "...",//value of this element\n'+'ctx:{type:"Dimension"||"Measure"||"MND",\n'+'//for Dimension\n'+'path:{aa:"...",di:"...",dii:"..."},\n'+'//for Measure\n'+'path:{mg:"...",mi:"...",dii_a1:"...",dii_a2:"..."},\n'+'//for MND\n'+'path:{mg:"...",mi:"..."}\n'+'//path: analysis path\n'+'//aa: analysis axis index // 0 for analysis axis 1,  1 for analysis 2\n'+'//di: dimension index //zero based\n'+'//dii: dimension item index //zero based\n'+'//mg: measure group index // 0 for measure group 1,1 for measure group 2\n'+'//mi: measure index // measure index in measure group zero based\n'+'//dii_a1: each dii of di in analysis axis 1 index\n'+'//dii_a2: each dii of di in analysis axis 2 index\n'+'}},{\n//for bubble, tagcloud and scatter, there will be more than one values in one selected element.\n'+'var:"...",ctx:"..."}]},{\n//if under multi selection, there will be more than one selected elements\n'+'target:"...",data:["..."]}]}'},DeSelectData:{name:'deselectData',desc:'Event fired when certain data point(s) is(are) deselected, data context of deselected item(s) would be passed in accordance with the following format.'+'<code>{name: "deselectData",'+'data:["---the same as selectedData---"]}'},TooltipShow:{name:'showTooltip',desc:'Event fired when the mouse hover onto the specific part of chart, data context of tooltip would be passed in accordance with the following format.'+'<code>{name:"showTooltip",data:{body:[{\n//data of one group\n'+'name:"...",val:[{\n//data of one row\n'+'color:"...",label:"...",shape:"...",value:"..."},"..."]},"..."],footer:[{label:"...",value:"..."},"..."],'+'plotArea:{\n//this object specifies the plot area of the chart\n'+'height:"...",width:"...",x:"...",y:"..."},point:{\n//this object specifies a point which affects the position of tooltip\n'+'x:"...",y:"..."}}}'},TooltipHide:{name:'hideTooltip',desc:'Event fired when the mouse hover out of the specific part of chart, no data is passed.'},Initialized:{name:'initialized',desc:'Event fired when the loading ends.'},highlightedByLegend:{desc:"Event fired when legend item is clicked, which contains its data context."}}};c.Module=m;return m});sap.riv.module({qname:'sap.viz.modules.pie.sector',version:'4.0.0'},[{qname:'sap.viz.modules.Constants',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(C,N){var a='viz-pie-sector';var b=d3.layout.pie().sort(null).value(function(d){return d.v});function S(c,d,e,r,v,f,g,p){this.dimValueObjects=d;this.color=e;this.r=r;this._value=v;this.startAngle=f;this.endAngle=g;this.p=p;this.decoras=[];for(var i in c){if(c.hasOwnProperty(i)){this[i]=c[i]}}}S.prototype={midAngle:function(){return(this.endAngle+this.startAngle)/2},dimValues:function(){return this.dimValueObjects.map(function(o){var r;if(o.info){var c=o.info.customlabel;if(c){if(c.type==='url'){r=o.val}else if(c.type==='string'){r=c.val}}else{r=o.val}}else{r=o.val}return r})},value:function(f){var v=this._value;if(f){return d3.format(f)(v)}return v},proportion:function(f){var v=(this.endAngle-this.startAngle)/(2*Math.PI);if(f){return d3.format(f)(v)}return v}};function s(d,e){var c=d.measure.rows[0];var f=d.dimensions;var g=[];var h=c.map(function(l,i){g.push(i);return{v:l.val,i:i}}).filter(function(o){var v=o.v;return(!N.isNoValue(v))&&v>0});var j=d.color.domain(g);var r=d.or;var k=b(h).map(function(i){var l=i.data.i;var n=e.register({drawingEffect:d.drawingEffect,graphType:'sector',fillColor:j(l),direction:'vertical',radius:r});return new S(c[l],f.map(function(o){return o.rows[l]}),n,r,i.value,i.startAngle,i.endAngle,d.p)});return k}var m=function(){function c(e,f){var g=m.all(e).data(function(d){return s(d,f)});g.exit().remove();g.enter().append('svg:g').attr('class','datashape').append('svg:path').attr("class",C.CSS.CLASS.DATAPOINT+' '+a);g.select('g.datashape path').attr("fill",function(d){return d.color}).attr("d",d3.svg.arc().outerRadius(function(d){return d.r}))}return c};m.all=function(c){return c.selectAll("g.datashape")};m.cssText=function(c){return'.'+a+'{'+c.cssText(a)+'}'};return m});sap.riv.module({qname:'sap.viz.modules.pie.selection',version:'4.0.0'},[{qname:'sap.viz.modules.pie.sector',version:'4.0.0'}],function Setup(b){var c="selectedSector";var e="selected";var f;function h(s,g,n){s.classed(c,g);var j=0,k=0;if(!n){s=s.transition().duration(200)}s.each(function(d){j=0,k=0;if(g){if(this.parentNode.parentNode.childNodes.length!==1){var a=d.midAngle();var r=d.r;var l;if(r>=96){l=6}else if(r>=24){l=4}else{l=2}j=l*Math.sin(a);k=-l*Math.cos(a)}}d3.select(this.parentNode).attr('transform',"translate("+j+","+k+")")});s.each('start',function(d){var t=d3.select(this.parentNode).attr('transform');d.decoras.forEach(function(a,l,m){f=d3.select(a);f.transition().attr('transform',t);if(f[0][0]!==null){if(j===0&&k===0){f.attr('fill-opacity',null)}else{f.attr('fill-opacity','1')}}else{f.attr('fill-opacity','1')}},this)})}function i(s){return s.classed(c)}return function(){return{allSelected:function(s){return s.selectAll("."+c)},select:function(s,a){h(s,a)},clear:function(g,a){g.classed(e,a)},defaultStyle:function(a,s){var d="."+s+"."+e;return d+"{fill-opacity:0.4}"+" ."+c+","+d+" ."+a+"{fill-opacity:1}"},clearAll:function(s){s.classed(e,false);this.allSelected(s).call(h,false,true)}}}});sap.riv.module({qname:'sap.viz.modules.pie',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.pie.sector',version:'4.0.0'},{qname:'sap.viz.modules.pie.selection',version:'4.0.0'},{qname:'sap.viz.modules.pie.tooltip',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.base.UADetector',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.format.FormatManager',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(a,b,c,T,C,e,U,F,f,R,O,g,l,B){var j=2.414;var r=R.newId();var m=function(d){return j};var n=6;var o=600;var q=C.sap32();var u="viz-pie";var v=u+"-defs"+r;var x=u+"-clipPath-";var y=u,z='datashapesgroup',A="background",D=y+"-donut-title",E="hoverSector",G="sectorgroup";var H=b();var I=c();var J=a();var K="."+y+"{font-family:'Open Sans',Arial,Helvetica,sans-serif;text-anchor:middle}"+"."+y+" ."+A+"{fill-opacity:0;}"+" ."+D+"{font-weight:bold;font-size:16px;fill:#333;dominant-baseline: middle}"+I.defaultStyle(y)+H.defaultStyle(E,G);function L(d,t,h){if(!h){h=t.caret()}h.show().rotateTo(d.midAngle());var i,k;i=d.value();k=d.proportion();if(f.isExist(d.p.tooltip.formatString)){i=g.format(i,d.p.tooltip.formatString[0]);k=g.format(k,d.p.tooltip.formatString[1])}else{i=d.value(d.p.tooltip.valueFormat);k=d.proportion(d.p.tooltip.percentageFormat)}t.texts(d.dimValues().map(function(s){return s===null?l.get('IDS_ISNOVALUE'):s}).join(" - "),i,k).show()}function M(w){var t=w.selectAll("text."+D).data(function(d){if(d.p.isDonut){var h=d.measure.col;if(h===null){h=l.get('IDS_ISNOVALUE')}return[{width:d.ir,title:h}]}return[]});t.exit().remove();t.enter().insert("svg:text",".sectorgroup").attr("class",D);t.each(function(d){T.ellipsisInCircle(d.title,this,d.width,0)})}function N(h){return h/2-n}function P(w){return Math.max(w/2/(1+1/j),n*j)}function Q(w,h,d){if(d){return Math.min(h/2,w/2)}return Math.min(N(h),P(w))}function S(d){return d/m(d)}var V=d3.svg.arc();function W(d){var h=d3.interpolateNumber(d.startAngle,d.endAngle);return function(t){d.endAngle=h(t);return V(d)}}function X(d,s){var h=d3.select(d).selectAll("style").data([K+a.cssText(s)]);h.exit().remove();h.enter().append("style");h.text(String)}function Y(d,h,i,t,s){H.select(f.isArray(d)?d3.selectAll(d):d3.select(d),h);if(i===false){Z(t,s)}}function Z(t,s){if(!t){return}var h=H.allSelected(s);if(h.empty()){t.hide()}else{var d=s.datum();if(!d.p.tooltip.visible){t.hide()}else{var i=0;var p=0;var k=0;h.each(function(d){i+=d.val;p+=d.proportion();k++});var w=t.caret();if(k===1){L(h.datum(),t,w)}else{t.texts(k+" selected",d3.format(d.p.tooltip.valueFormat)(i),d3.format(d.p.tooltip.percentageFormat)(p));w.hide()}}}}var $=function(t,a1){var b1=null,c1=null,d1=null,e1=t.props(null),f1;var g1=a1.effectManager;var h1,i1,j1=F.noop;var k1,l1,m1,n1;var o1=e("selectData","deselectData","initialized",'startToInit');function p1(){k1=this;B.drawBound(k1,b1,c1);var h=this.node().ownerSVGElement;var i=h.getElementById(v);if(!i){i=document.createElementNS(h.namespaceURI,"defs");h.insertBefore(i,h.childNodes[0]);i.id=v;I.createShadowFilterDef(i);g1.setContainer(d3.select(i))}o1.startToInit();X(i,a1.styleManager);m1=this.selectAll("g."+y).data(q1(d1));m1.exit().each(function(d){document.documentElement.removeEventListener("keydown",d.keydownListener);delete d.keydownListener}).remove();var p=m1.enter().append("g").attr("class",y);if(!e1.isGeoPie){p.append("g").attr("class",G+" "+z)}else{p.append("g").attr("class",G)}m1.attr("transform",function(d){if(d.p.alignCenter){return null}return"translate("+d.w/2+","+(d.p.valign==="center"?d.h/2:(d.or+n))+")"}).select("."+A).attr("width",function(d){return d.w}).attr("height",function(d){return d.h}).attr("x",function(d){return-d.w/2}).attr("y",function(d){return-d.h/2});var s=m1.selectAll(function(){var d=[];Array.prototype.forEach.call(this.childNodes,function(k){if(k.tagName==='clipPath'){d.push(k)}});return d}).data(function(d){var k=[];var w=d.p.isDonut;var _=d.animation=d.p.animation.dataLoading;if(w||_){k.push({innerRadius:w?d.ir:0,outerRadius:d.or+n,startAngle:0,endAngle:Math.PI*2,animation:_})}return k});s.exit().remove();s.enter().append("svg:clipPath").attr("id",function(){var u,k=0;while(true){u=x+(k++)+r;if(!document.getElementById(u)){break}}this.parentNode.querySelector("."+G).setAttribute("clip-path","url(#"+u+")");return u}).append("svg:path").attr("clip-rule","evenodd").attr("d",V);m1.call(M);l1=m1.select("g."+G).call(J,g1);H.clearAll(l1);m1.call(I,a1.styleManager);n1=I.select(m1);if(n1){n1.hide()}s.filter(function(d){return d.animation}).select(":first-Child").transition().duration(o).each("end",function(d){var k=this.parentNode;var w=k.parentNode;if(w){if(d.innerRadius===0){w.removeChild(k);w.querySelector("."+G).removeAttribute("clip-path")}var _=d3.select(w).datum();_.animationEnd=true;r1(_)}}).attrTween("d",W);s.filter(function(d){return!d.animation}).select(":first-Child").attr("d",V);m1.each(function(d){d.domInitialized=true;r1(d)})}function q1(d){var i=this.parentNode;var p=j1.apply(i,arguments);var w=h1.apply(i,arguments);var h=i1.apply(i,arguments);var k=Q(w,h,p.maxRadius);var s=d3.functor(f1).apply(i,arguments);var _={w:w,h:h,p:p,or:k,ir:S(k),color:s?d3.scale.ordinal().range(s):q.copy(),measure:d.getMeasureValuesGroupDataByIdx(0).values[0],dimensions:d.getAnalysisAxisDataByIdx(0).values};_.drawingEffect=_.p.drawingEffect;return[_]}function r1(d){if(d.domInitialized&&(!d.animation||d.animationEnd)){o1.initialized({name:'initialized'})}}p1.afterUIComponentAppear=function(){o1.initialized()};p1.dataLabel=function(_){};p1.parent=function(){return k1};p1.clear=function(d){H.clear(l1,d);return p1};p1.highlight=function(d,h){Y(d,true,h,n1,l1);return p1};p1.unhighlight=function(d,h){Y(d,false,h,n1,l1);return p1};p1.mouseover=function(h){var s=d3.select(h);s.classed(E,true);var d=s.datum();if(d.p.tooltip.visible){if(n1){L(d,n1,undefined)}}else{if(n1){n1.hide()}}return p1};p1.mouseout=function(d){var s=d3.select(d);if(U.isIE()){setTimeout(function(){s.classed(E,false)},0)}else{s.classed(E,false)}if(!n1){return}Z(n1,l1);return p1};p1.width=function(_){if(arguments.length===0){return b1}b1=_;h1=d3.functor(b1);return p1};p1.height=function(_){if(arguments.length===0){return c1}c1=_;i1=d3.functor(c1);return p1};p1.size=function(w,h){if(arguments.length===0){return{width:this.width(),height:this.height()}}p1.width(w).height(h);return p1};p1.data=function(_){if(arguments.length===0){return d1}d1=_;return p1};p1.dispatch=function(_){return o1};p1.properties=function(_){if(arguments.length===0){return e1}O.extend(true,e1,_);j1=d3.functor(e1);if(typeof(e1)==="function"){f1=function(d,i){return j1.apply(this,arguments).colorPalette}}else if(e1.colorPalette){f1=e1.colorPalette}return p1};p1.colorPalette=function(_){if(arguments.length===0){return f1||q.range()}f1=_;return p1};return p1};return $});sap.riv.module({qname:'sap.viz.modules.stackedverticalbar',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,O,a,M,t,C,S,R,N,b,l,c){var e=function(f,g){var h;var n,o=[[]],p=[[]],s=[],q=[],u=0,v=0,w=false,z=false,A=0,B=0,D=null;var E=undefined,F=undefined,x=0,y=0,G=false,H=false,I=[],J,K,L=false,P=0,Q=0,U=['squareWithRadius'],V,W=new a('selectData','deselectData','showTooltip','hideTooltip','initialized','startToInit');var X=g.effectManager;var Y=new Array(2);xScale=d3.scale.ordinal(),yScale=d3.scale.linear(),yScale2=d3.scale.linear();var Z,$=[],a1=true,b1=null;var c1,d1,e1,f1=[],g1;var h1,i1,j1=R.newId();var k1=true,l1=true,m1=false,n1=true,o1=false,p1=false,q1=800;var r1='comparison';var s1='normal';var t1=false,u1=false,v1=false,w1=false;z1.hoverOnPoint=function(d){var j=d.x,k=d.y;var i=-1;while(i<s.length){if(Math.abs(j-xScale.rangeBand()*i-0.5*xScale.rangeBand())<=0.5*xScale.rangeBand()){break}i++}if(i>(s.length-1)||i<0){Z.attr('visibility','hidden');return}Z.attr('x',xScale.rangeBand()*i+g1/4).attr('visibility','visible');if(b1!==i){if(a1){b1=i;var r=D.node().getTransformToElement(D.node().ownerSVGElement);var _=r.e;var D1=100,E1=100,m=0;var F1=h.generateTooltipData(n,q,i,I,U);F1.point={x:xScale.rangeBand()*i+0.5*xScale.rangeBand()+_,y:d3.event.layerY};F1.plotArea={x:r.e,y:r.f,width:E,height:F};F1.valueAxis0Count=s[0][0].length;F1.valueAxis1Count=T.isExist(s[0][1])?s[0][1].length:0;W.showTooltip(t.formatTooltipData(F1))}}};function x1(){for(var i=0,d=s.length;i<d;i++){for(var j=0,r=s[i],m=q[i];j<r.length;j++){var _=0,D1=0;;for(var k=0;k<r[j].length;k++){_+=Math.abs(r[j][k].val);if(!r[j][k].isNaN)D1++}if(_===0){for(var k=0;k<r[j].length;k++){r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=r[j][k].isNaN?0:1/D1;if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':1/D1}}}else{for(var k=0;k<r[j].length;k++){if(r[j][k].val<0){r[j][k].isNegative=true}r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=Math.abs(r[j][k].val/_);if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':m[j][k].val/_}}}}}};z1.parent=function(){return D};z1.blurOut=function(){Z.attr('visibility','hidden');b1=null;if(a1){W.hideTooltip()}};z1.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};z1.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};z1.clear=function(d){if(d==null){D.selectAll('.datapoint').attr('fill-opacity',1)}else{D.selectAll('.datapoint').attr('fill-opacity',0.2)}};var y1=function(){m1=V.isRoundCorner;r1=V.mode==='percentage'?'percentage':'comparison';k1=V.animation.dataLoading;l1=V.animation.dataUpdating;a1=V.tooltip.enabled;if(G&&!H){J=V.primaryValuesColorPalette;K=V.secondaryValuesColorPalette}else{K=V.colorPalette;J=V.colorPalette}s1=V.drawingEffect;I=[];indexforSecondaryAxis=o.length;if(L){var d=0,k=0,j=0;for(var i=0;i<s[0][0].length;i++){I.push(J[i%J.length]);d++;if(d==P&&G&&T.isExist(s[0][1])){k=0;for(;j<=s[0][1].length;j++){if(k>=Q){d=0;break}I.push(K[j%K.length]);k++}}}}else{for(var i=0;i<s[0].length;i++){for(var j=0;j<s[0][0].length;j++){I.push(J[j%J.length])}if(G&&T.isExist(s[0][1])){for(var j=0;j<s[0][1].length;j++){I.push(K[j%K.length])}}}}};function z1(_){c.drawBound(_,E,F);h=t();if(r1==='percentage'){x1()};if(!T.isExist(yScale)&&!T.isExist(yScale2)){return}W.startToInit();_.each(function(){var D1=o.length;e1=s[0][0].length+((T.isExist(s[0][1]))?s[0][1].length:0);var E1=8*(xScale.rangeBand())/(9*e1+7);c1=(T.isExist(p))?2:1;g1=8*(xScale.rangeBand())/(9*c1+7);var F1=D=d3.select(this);if(Z==null){Z=F1.append('rect').attr('width',xScale.rangeBand()-g1/2).attr('height',F).attr('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{Z.attr('width',xScale.rangeBand()-g1/2).attr('height',F).attr('visibility','hidden')}if(h1==null){h1=F1.append('defs').append('clipPath').append('rect').attr('width',E).attr('height',F)}else{h1.attr('width',E).attr('height',F)}if(i1==null){i1=F1.append('defs')}else{if(u1||t1||v1||!m1){i1.remove();i1=F1.append('defs')}}var r=Math.log(g1)/Math.log(2);if(r<0){m1=false}var G1,H1=tempNeg=0,I1=postiveIndex=0;var J1=F1.selectAll('g.datashapesgroup');if(!T.isExist(J1[0][0])){J1=F1.append('g').attr('class','datashapesgroup')}var K1=J1.selectAll('g.bar').data(s);K1.enter().append('g');K1.attr('class','bar').each(function(L1,i){var M1=d3.select(this).selectAll('g.axisGroup').data(L1);M1.enter().append('g');M1.attr('class','axisGroup').each(function(N1,j){var G1=(j==0)?yScale:yScale2;var O1=(j==0)?g1/2:(g1/2+g1+g1/8);var P1=(j==0)?xScale(i):(xScale(i)+g1/2+g1);var Q1=(j==0)?J:K;var R1=0,S1=0,T1=0,U1=0;var V1=[],W1=[];var X1=d3.select(this).selectAll('g.datashape').data(N1);X1.enter().append('g').attr('class','datashape').append('rect').attr('class','datapoint');X1.exit().remove();if(p1){X1.each(function(){V1.push(this.getTransformToElement(this.parentNode).f)})}X1.attr('transform',function(d,m){var y;if(d.val>=0){T1+=N1[m].val;R1=G1(T1);y=R1}else{S1=G1(U1);U1+=N1[m].val;y=S1}var x=xScale(i)+O1;W1.push(x);return'translate('+x+','+y+')'});var e=X1.select('rect.datapoint');e.attr('fill',function(d,k){d.fillColor=Q1[k%Q1.length];var m={drawingEffect:s1,fillColor:d.fillColor,direction:'horizontal'};return X.register(m)}).attr('shape-rendering','crispEdges').attr('fill-opacity',1);if(k1&&!o1){if(u1){e.attr('x',function(d,m){var x=P1-W1[m]+E1*m;x=x+E1/8*(m)+E1/2;return x}).attr('width',E1).attr('height',0).attr('y',function(d){if(d.val>0){return Math.abs(G1(d.val)-G1(0))}else{return 0}});if(m1){e.attr('clip-path',function(d,k){if(k===negativeIndexes[j][i]||k===positiveIndexes[j][i]){var m='roundCorner-clip'+'-'+k+i+j+j1;var $1=i1.append('clipPath').attr('id',m).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',Math.abs(G1(d.val)-G1(0))+r).attr('height',r).attr('width',E1).attr('x',this.x.baseVal.value).transition().duration(q1/2).attr('y',function(){if(k===negativeIndexes[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(G1(d.val)-G1(0))+r}).transition().delay(q1/2).duration(q1/2).attr('x',0).attr('width',g1);return'url(#'+m+')'}})}e.transition().duration(q1/2).attr('height',function(d){if(i==0){w1=true}return Math.abs(G1(d.val)-G1(0))}).attr('y',0);e.transition().delay(q1/2).duration(q1/2).attr('width',g1).attr('x',0).each('end',function(d,m){if(w1==false){this.setAttribute('height',Math.abs(G1(d.val)-G1(0)))}if(m===s[0][0].length-1&&i==0){A1()}})}else if(t1){e.attr('y',function(d,k){return V1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f}).attr('height',function(d,k){var m=Math.abs(G1(d.val)-G1(0));if(parseFloat(this.height.baseVal.value)>m){return this.height.baseVal.value}else{return m}});var Y1=e.transition();Y1.duration(q1/2).attr('width',g1).attr('x',0).attr('height',function(d){if(i==0){w1=true}return Math.abs(G1(d.val)-G1(0))}).attr('y',0).each('end',function(d,m){if(w1==false){this.setAttribute('height',Math.abs(G1(d.val)-G1(0)))}if(m===s[0][0].length-1&&i==0){A1()}});if(m1){Y1.attr('clip-path',function(d,k){if(k===negativeIndexes[j][i]||k===positiveIndexes[j][i]){var m='roundCorner-clip'+'-'+k+i+j+j1;var y=parseFloat(this.y.baseVal.value);var $1=i1.append('clipPath').attr('id',m).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){return y-((k===negativeIndexes[j][i])?r:0)}).attr('height',this.height.baseVal.value+r).attr('width',this.width.baseVal.value).attr('x',this.x.baseVal.value).transition().duration(q1/2).attr('y',function(){if(k===negativeIndexes[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(G1(d.val)-G1(0))+r}).attr('x',0).attr('width',g1);return'url(#'+m+')'}})}}else if(v1){e.attr('y',function(d,k){return V1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var Z1=e.transition();Z1.duration(q1/2).attr('height',function(d){if(i==0){w1=true}return Math.abs(G1(d.val)-G1(0))}).attr('y',0).each('end',function(d,m){if(w1==false){this.setAttribute('height',Math.abs(G1(d.val)-G1(0)))}if(m===s[0][0].length-1&&i==0){A1()}});if(m1){Z1.attr('clip-path',function(d,k){if(k===negativeIndexes[j][i]||k===positiveIndexes[j][i]){var m='roundCorner-clip'+'-'+k+i+j+j1;var y=parseFloat(this.y.baseVal.value);var $1=i1.append('clipPath').attr('id',m).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){return y-((k===negativeIndexes[j][i])?r:0)}).attr('height',this.height.baseVal.value+r).attr('width',this.width.baseVal.value).attr('x',this.x.baseVal.value).transition().duration(q1/2).attr('y',function(){if(k===negativeIndexes[j][i]){return S1-r}else{return R1}}).attr('height',function(){return Math.abs(G1(d.val)-G1(0))+r});return'url(#'+m+')'}})}}else if(m1){e.attr('clip-path',function(d,k){if(k===negativeIndexes[j][i]||k===positiveIndexes[j][i]){var m='roundCorner-clip'+'-'+k+i+j+j1;var $1=i1.append('clipPath').attr('id',m).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){if(k===negativeIndexes[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(G1(d.val)-G1(0))+r}).attr('x',0).attr('width',g1);return'url(#'+m+')'}})}}else{e.attr('y',0).attr('x',0).attr('width',g1).attr('height',function(d){return Math.abs(G1(d.val)-G1(0))});if(m1){e.attr('clip-path',function(d,k){if(k===negativeIndexes[j][i]||k===positiveIndexes[j][i]){var m='roundCorner-clip'+'-'+k+i+j+j1;var $1=i1.append('clipPath').attr('id',m).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){if(k===negativeIndexes[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(G1(d.val)-G1(0))+r}).attr('x',0).attr('width',g1);return'url(#'+m+')'}})}}})});if(!l1){o1=true}K1.exit().remove();t1=false,v1=false,u1=false,w1=false});if(!k1)A1();return z1}function A1(){W.initialized();p1=true};z1.afterUIComponentAppear=function(){W.initialized()};z1.width=function(d){if(!arguments.length){return E}t1=(E===d)&&!t1?false:true;E=d;if(T.isExist(E)&&T.isExist(F)&&T.isExist(s)){B1()}return z1};z1.height=function(d){if(!arguments.length){return F}t1=(F===d)&&!t1?false:true;F=d;if(T.isExist(E)&&T.isExist(F)&&T.isExist(s)){B1()}return z1};z1.data=function(d){if(!arguments.length){return n}n=d;var k=M(n);var _=k["MG1"];var m=k["MG2"];P=k.MG1Number;Q=k.MG2Number||0;L=k.MNDOnColor&&k.MNDInner;q=[];if(T.isExist(k.color)){H=true;G=true;var r=[],D1=[];var E1=[],F1=[];for(var i=0;i<_.length;i++){r=[];D1=[];for(var j=0;j<_[i].length;j++){if(k.color[j]==0){r.push(_[i][j]);D1.push({val:null,hasMNDonCategoryAxis:true})}else{r.push({val:null,hasMNDonCategoryAxis:true});D1.push(_[i][j])}}E1.push(r);F1.push(D1)}_=E1;m=F1}else{H=false;if(T.isExist(m)){if(!u1&&(p.length!==m.length||p[0].length!==m[0].length)){u1=true}G=true}else{G=false}}if(o.length!==_.length||o[0].length!==_[0].length){u1=true}var G1=C1(_,m);s=G1;o=_;p=m;if(!u1){v1=true}if(H){for(var i=0;i<s.length;i++){var H1=s[i];if(H1[0][0].hasMNDonCategoryAxis){q.push(H1[1])}else{q.push(H1[0])}}}else{q=O.extend(true,{},s)}if(T.isExist(E)&&T.isExist(F)){B1()}y1();return z1};z1.properties=function(d){if(!arguments.length){return V}b.extend(true,V,d);y1();return z1};var B1=function(){var d=[];for(var i=0;i<s.length;i++){d.push(i)}xScale.domain(d).rangeBands([0,E]);if(r1==='percentage'){yScale.domain([0,1]).range([F,0]);yScale2.domain([0,1]).range([F,0])}else{if(v===0&&u===0){yScale.domain([0,1]).range([F,0])}else{yScale.domain([v,u]).range([F,0])}if(T.isExist(p)||G){if(A===0&&B===0){yScale2.domain(yScale.domain()).range(yScale.range())}else{yScale2.domain([B,A]).range([F,0]);if(v===0&&u===0){yScale.domain(yScale2.domain()).range(yScale2.range())}}if(!w&&!z){S.perfectDual(yScale,yScale2)}else if(!w&&z){S.perfect(yScale)}else if(w&&!z){S.perfect(yScale2)}}else{if(!w){S.perfect(yScale)}}}if(!T.isExist(p)){yScale2.range([0,0])}};z1.colorPalette=function(d){if(!arguments.length){return I}I=d;return z1};z1.primaryDataRange=function(r){if(!arguments.length){var m,d;if(r1==='percentage'){m=1;d=0}else{d=v<0?v:0;m=u}return{min:d,max:m}}if(r!==null){u=r.max;v=r.min;if(r.from==='axis'){w=true}if(T.isExist(E)&&T.isExist(F)){B1()}}return z1};z1.secondDataRange=function(r){if(!arguments.length){var m,d;if(r1==='percentage'){m=1;d=0}else{d=B<0?B:0;m=A}return{min:d,max:m}}if(r!==null){A=r.max;B=r.min;if(r.from==='axis'){z=true}if(T.isExist(E)&&T.isExist(F)){B1()}}return z1};z1.categoryScale=function(d){if(!arguments.length){return xScale}xScale=d;return z1};z1.primaryScale=function(d){if(!arguments.length){return yScale}yScale=d;Y[0]=yScale;return z1};z1.secondScale=function(d){if(!arguments.length){return yScale2}yScale2=d;Y[0]=yScale2;return z1};z1.primaryAxisColor=function(){if(G&&!H){return I[0]}else{return undefined}};z1.secondAxisColor=function(){if(T.isExist(s[0][1])&&!H){return K[s[0][1].length-1]}else{return undefined}};z1.getPreferredSize=function(){};z1.dataLabel=function(_){};z1.x=function(_){if(!arguments.length){return x}x=_;return this};z1.y=function(_){if(!arguments.length)return y;y=_;return this};z1.dispatch=function(_){if(!arguments.length)return W;W=_;return this};z1.primaryAxisTitle=function(_){if(!arguments.length){var d=n.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join('/')}return this};z1.secondAxisTitle=function(_){if(!arguments.length){var d=n.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join('/')}return this};var C1=function(d,k,m){var r=-1,_=-1;positiveIndexes=[[],[]],negativeIndexes=[[],[]];u=v=0;A=B=0;var D1=[];d1=d[0].length;;var E1,F1;for(var j=0;j<d1;j++){var G1=[],H1=[];var I1=[];E1=0,F1=0;r=-1,_=-1;for(var i=0;i<d.length;i++){if(N.isNoValue(d[i][j].val)){d[i][j].val=null;d[i][j].isNaN=true}else{if(d[i][j].val>=0){E1+=d[i][j].val;r=i}else{F1+=d[i][j].val;_=i}}G1.push(d[i][j])}positiveIndexes[0].push(r);negativeIndexes[0].push(_);if(u<E1){u=E1}if(v>F1){v=F1}I1.push(G1);if(T.isExist(k)){E1=0,F1=0;r=-1,_=-1;for(i=0;i<k.length;i++){if(N.isNoValue(k[i][j].val)){k[i][j].val=null;k[i][j].isNaN=true}else{if(k[i][j].val>=0){E1+=k[i][j].val;r=i}else{F1+=k[i][j].val;_=i}}H1.push(k[i][j])}positiveIndexes[1].push(r);negativeIndexes[1].push(_);if(A<E1){A=E1}if(B>F1){B=F1}I1.push(H1)}D1.push(I1)}return D1};V=f.props(null);return z1};return e});sap.riv.module({qname:'sap.viz.modules.background',version:'4.0.0',exported:true},[{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(R,a,O,B){return function(m,c){var C='viz-plot-background-border',b='viz-plot-background';var r=R.newId();var w=0,h=0;var e=c.effectManager,p,f;var g=new a('initialized');function i(s){f=s;B.drawBound(s,w,h);if(p.visible){k();j();var l=f.select('#'+'background-rect-'+r);if(l.empty()){l=f.append('svg:rect').attr('id','background-rect-'+r)}var n=e.register({graphType:'background',fillColor:p.style.fillColor,drawingEffect:p.drawingEffect,direction:p.direction});l.attr('x',0).attr('y',0).attr('width',w).attr('height',h).attr('fill',n);var o=[];if(p.border.left.visible){o.push({x1:0,y1:0,x2:0,y2:h})}if(p.border.right.visible){o.push({x1:w,y1:0,x2:w,y2:h})}if(p.border.top.visible){o.push({x1:0,y1:0,x2:w,y2:0})}if(p.border.bottom.visible){o.push({x1:0,y1:h,x2:w,y2:h})}var q=s.selectAll("."+C).data(o);q.enter().append('svg:line').attr('class',C);q.exit().remove();q.attr('x1',function(d){return d.x1}).attr('y1',function(d){return d.y1}).attr('x2',function(d){return d.x2}).attr('y2',function(d){return d.y2})}else{var t=f.node();while(t.hasChildNodes()){t.removeChild(t.firstChild)}}g.initialized();return i}i.properties=function(_){if(!arguments.length){return p}O.extend(true,p,_);return i};i.size=function(_){if(arguments.length===0){return{"width":w,"height":h}}w=_.width;h=_.height;return i};i.width=function(_){if(arguments.length===0){return w}w=_;return i};i.height=function(_){if(arguments.length===0){return h}h=_;return i};i.data=function(_){if(!arguments.length){return{}}return i};i.parent=function(){return null};i.dispatch=function(_){if(!arguments.length){return g}g=_;return i};function j(){var d=f.select('#'+'background-defs-'+r);if(d.empty()){d=f.insert('defs',':first-child').attr('id','background-defs-'+r)}var l=d.select('style');if(l.empty()){l=d.insert('style',':first-child');l[0][0].setAttribute('type','text/css')}var n='.'+C+'{'+c.styleManager.cssText(C)+'}';l[0][0].textContent=n}function k(){if(!p.style){p.style={}}var d=c.styleManager.query(b);if(d){if(d['fill']){p.style.fillColor=d['fill']}}}p=m.props(null);return i}});sap.riv.module({qname:'sap.viz.mvc.CSSParserUtility',version:'4.0.0'},[],function Setup(){var C=function(){};var a=C.prototype;a.split=function(s,b){if(/['"]/.test(b))throw'\' " is not allowed in splitter.';if(s=='')return[s];var d=[];var r=[];var e=0;var f=b.length;var l=s.length;for(var i=0;i<l;i++){var c=s.charAt(i);if(c=="'"||c=='"'){if(d.length>0){var g=d.pop();if(c!=g){d.push(g);d.push(c)}}else{d.push(c)}continue}if(d.length>0)continue;var h=s.substring(i,i+f);if(h==b){r.push(s.substring(e,i));i=e=i+f}}if(e<l)r.push(s.substring(e));return r};a.COLORS=['aqua','black','blue','fuchsia','gray','green','lime','maroon','navy','olive','orange','purple','red','silver','teal','white','yellow','transparent'];a.isColor=function(c){c=c.toLowerCase();if(this.COLORS.indexOf(c)>=0)return true;if(c.charAt(0)=='#'){var l=c.length;if(l!=4&&l!=7)return false;return!/[^0-9a-f]/.test(c.substring(1))}var n='-?[0-9\\.]+%?';var r=RegExp('^rgb\\('+n+','+n+','+n+'\\)$');if(r.test(c))return true;return false};a.NUM_RE_STR='[0-9]+|[0-9]*\\.[0-9]+';a.isLength=function(l){l=l.toLowerCase();var b=new RegExp('^('+this.NUM_RE_STR+')(em|ex|in|cm|mm|pt|pc|px)$');return b.test(l)};a.isPercentage=function(s){var r=new RegExp('^'+this.NUM_RE_STR+'%$');return r.test(s)};a.WIDTHS=['thin','medium','thick'];a.isWidth=function(w){return this.WIDTHS.indexOf(w)>=0||this.isLength(w)};a.BORDER_STYLES=['none','hidden','dotted','dashed','solid','double','groove','ridge','inset','outset'];a.isBorderStyle=function(s){s=s.toLowerCase();return this.BORDER_STYLES.indexOf(s)>=0};a.FONT_STYLES=['italic','oblique'];a.isFontStyle=function(s){return this.FONT_STYLES.indexOf(s.toLowerCase())>=0};a.isFontVariant=function(s){return'small-caps'==s};a.FONT_WEIGHTS=['bold','bolder','lighter','100','200','300','400','500','600','700','800','900'];a.isFontWeight=function(s){return this.FONT_WEIGHTS.indexOf(s.toLowerCase())>=0};a.TYPE_COLOR='color';a.TYPE_WIDTH='width';a.TYPE_BORDERSTYLE='borderstyle';a.TYPE_FONTSTYLE='font-style';a.TYPE_FONTVARIANT='font-variant';a.TYPE_FONTWEIGHT='font-weight';a.TYPE_UNKNOWN='unknown';a.valueType=function(v){if(this.isColor(v))return this.TYPE_COLOR;if(this.isWidth(v))return this.TYPE_WIDTH;if(this.isBorderStyle(v))return this.TYPE_BORDERSTYLE;if(this.isFontStyle(v))return this.TYPE_FONTSTYLE;if(this.isFontVariant(v))return this.TYPE_FONTVARIANT;if(this.isFontWeight(v))return this.TYPE_FONTWEIGHT;return this.TYPE_UNKNOWN};a.FONT_SIZES=['xx-small','x-small','small','medium','large','x-large','xx-large','smaller','larger'];a.validateFontSize=function(s){return this.FONT_SIZES.indexOf(s)>=0||this.isLength(s)||this.isPercentage(s)};a.validateMargin=function(s){return s=='auto'||this.isLength(s)||this.isPercentage(s)};a.validatePadding=function(s){return this.isLength(s)||this.isPercentage(s)};return C});sap.riv.module({qname:'sap.viz.mvc.CSSParser',version:'4.0.0'},[{qname:'sap.viz.mvc.CSSParserUtility',version:'4.0.0'}],function Setup(C){var b=(function(){var b={trace:function trace(){},yy:{},symbols_:{"error":2,"theme":3,"ruleset":4,"rule":5,"selector_list":6,"{":7,"declaration_list":8,"}":9,"selector":10,",":11,"class":12,".":13,"IDENT":14,"declaration":15,";":16,"property":17,":":18,"expr":19,"prio":20,"IMPORTANT_SYM":21,"term":22,"operator":23,"/":24,"signed_term":25,"STRING":26,"URI":27,"HASH":28,"function":29,"NUMBER":30,"PERCENTAGE":31,"LENGTH":32,"EMS":33,"EXS":34,"ANGLE":35,"TIME":36,"FREQ":37,"unary_operator":38,"FUNCTION":39,")":40,"-":41,"+":42,"$accept":0,"$end":1},terminals_:{2:"error",7:"{",9:"}",11:",",13:".",14:"IDENT",16:";",18:":",21:"IMPORTANT_SYM",24:"/",26:"STRING",27:"URI",28:"HASH",30:"NUMBER",31:"PERCENTAGE",32:"LENGTH",33:"EMS",34:"EXS",35:"ANGLE",36:"TIME",37:"FREQ",39:"FUNCTION",40:")",41:"-",42:"+"},productions_:[0,[3,1],[4,1],[4,2],[5,4],[6,1],[6,3],[10,1],[10,2],[12,2],[8,1],[8,3],[8,2],[15,3],[15,2],[17,1],[20,1],[19,1],[19,2],[19,3],[23,1],[23,1],[22,1],[22,1],[22,1],[22,1],[22,1],[22,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,2],[29,3],[38,1],[38,1]],performAction:function anonymous(y,a,c,f,g,$,_){var h=$.length-1;switch(g){case 1:return $[h];case 2:this.$=[$[h]];break;case 3:this.$=$[h-1];this.$.push($[h]);break;case 4:this.$={selector:$[h-3],declaration:$[h-1]};break;case 5:this.$=[$[h]];break;case 6:this.$=$[h-2];this.$.push($[h]);break;case 7:this.$=$[h];break;case 8:this.$=$[h-1]+$[h];break;case 9:this.$=$[h-1]+$[h];break;case 10:this.$=[$[h]];break;case 11:this.$=$[h-2];this.$.push($[h]);break;case 12:this.$=$[h-1];break;case 13:this.$={name:$[h-2],value:$[h]};break;case 14:this.$=$[h-1];this.$.important=true;break;case 18:this.$=$[h-1]+' '+$[h];break;case 19:this.$=$[h-2]+$[h-1]+$[h];break;case 36:this.$=$[h-1]+$[h];break;case 37:this.$=$[h-2]+$[h-1]+$[h];break}},table:[{3:1,4:2,5:3,6:4,10:5,12:6,13:[1,7]},{1:[3]},{5:8,6:4,10:5,12:6,13:[1,7],1:[2,1]},{1:[2,2],13:[2,2]},{7:[1,9],11:[1,10]},{12:11,13:[1,7],7:[2,5],11:[2,5]},{7:[2,7],13:[2,7],11:[2,7]},{14:[1,12]},{1:[2,3],13:[2,3]},{8:13,15:14,17:15,14:[1,16]},{10:17,12:6,13:[1,7]},{7:[2,8],13:[2,8],11:[2,8]},{7:[2,9],11:[2,9],13:[2,9]},{9:[1,18],16:[1,19]},{20:20,21:[1,21],9:[2,10],16:[2,10]},{18:[1,22]},{18:[2,15]},{12:11,13:[1,7],7:[2,6],11:[2,6]},{1:[2,4],13:[2,4]},{15:23,17:15,14:[1,16],9:[2,12],16:[2,12]},{9:[2,14],21:[2,14],16:[2,14]},{21:[2,16],9:[2,16],16:[2,16]},{19:24,22:25,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{20:20,21:[1,21],9:[2,11],16:[2,11]},{22:44,23:45,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,24:[1,46],11:[1,47],30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43],9:[2,13],21:[2,13],16:[2,13]},{9:[2,17],16:[2,17],30:[2,17],31:[2,17],32:[2,17],33:[2,17],34:[2,17],35:[2,17],36:[2,17],37:[2,17],41:[2,17],42:[2,17],26:[2,17],14:[2,17],27:[2,17],28:[2,17],39:[2,17],24:[2,17],11:[2,17],21:[2,17],40:[2,17]},{16:[2,22],9:[2,22],21:[2,22],11:[2,22],24:[2,22],39:[2,22],28:[2,22],27:[2,22],14:[2,22],26:[2,22],42:[2,22],41:[2,22],37:[2,22],36:[2,22],35:[2,22],34:[2,22],33:[2,22],32:[2,22],31:[2,22],30:[2,22],40:[2,22]},{16:[2,23],9:[2,23],21:[2,23],11:[2,23],24:[2,23],39:[2,23],28:[2,23],27:[2,23],14:[2,23],26:[2,23],42:[2,23],41:[2,23],37:[2,23],36:[2,23],35:[2,23],34:[2,23],33:[2,23],32:[2,23],31:[2,23],30:[2,23],40:[2,23]},{16:[2,24],9:[2,24],21:[2,24],11:[2,24],24:[2,24],39:[2,24],28:[2,24],27:[2,24],14:[2,24],26:[2,24],42:[2,24],41:[2,24],37:[2,24],36:[2,24],35:[2,24],34:[2,24],33:[2,24],32:[2,24],31:[2,24],30:[2,24],40:[2,24]},{16:[2,25],9:[2,25],21:[2,25],11:[2,25],24:[2,25],39:[2,25],28:[2,25],27:[2,25],14:[2,25],26:[2,25],42:[2,25],41:[2,25],37:[2,25],36:[2,25],35:[2,25],34:[2,25],33:[2,25],32:[2,25],31:[2,25],30:[2,25],40:[2,25]},{16:[2,26],9:[2,26],21:[2,26],11:[2,26],24:[2,26],39:[2,26],28:[2,26],27:[2,26],14:[2,26],26:[2,26],42:[2,26],41:[2,26],37:[2,26],36:[2,26],35:[2,26],34:[2,26],33:[2,26],32:[2,26],31:[2,26],30:[2,26],40:[2,26]},{16:[2,27],9:[2,27],21:[2,27],11:[2,27],24:[2,27],39:[2,27],28:[2,27],27:[2,27],14:[2,27],26:[2,27],42:[2,27],41:[2,27],37:[2,27],36:[2,27],35:[2,27],34:[2,27],33:[2,27],32:[2,27],31:[2,27],30:[2,27],40:[2,27]},{9:[2,28],16:[2,28],30:[2,28],31:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],37:[2,28],41:[2,28],42:[2,28],26:[2,28],14:[2,28],27:[2,28],28:[2,28],39:[2,28],24:[2,28],11:[2,28],21:[2,28],40:[2,28]},{9:[2,29],16:[2,29],30:[2,29],31:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],37:[2,29],41:[2,29],42:[2,29],26:[2,29],14:[2,29],27:[2,29],28:[2,29],39:[2,29],24:[2,29],11:[2,29],21:[2,29],40:[2,29]},{9:[2,30],16:[2,30],30:[2,30],31:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],37:[2,30],41:[2,30],42:[2,30],26:[2,30],14:[2,30],27:[2,30],28:[2,30],39:[2,30],24:[2,30],11:[2,30],21:[2,30],40:[2,30]},{9:[2,31],16:[2,31],30:[2,31],31:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],37:[2,31],41:[2,31],42:[2,31],26:[2,31],14:[2,31],27:[2,31],28:[2,31],39:[2,31],24:[2,31],11:[2,31],21:[2,31],40:[2,31]},{9:[2,32],16:[2,32],30:[2,32],31:[2,32],32:[2,32],33:[2,32],34:[2,32],35:[2,32],36:[2,32],37:[2,32],41:[2,32],42:[2,32],26:[2,32],14:[2,32],27:[2,32],28:[2,32],39:[2,32],24:[2,32],11:[2,32],21:[2,32],40:[2,32]},{9:[2,33],16:[2,33],30:[2,33],31:[2,33],32:[2,33],33:[2,33],34:[2,33],35:[2,33],36:[2,33],37:[2,33],41:[2,33],42:[2,33],26:[2,33],14:[2,33],27:[2,33],28:[2,33],39:[2,33],24:[2,33],11:[2,33],21:[2,33],40:[2,33]},{9:[2,34],16:[2,34],30:[2,34],31:[2,34],32:[2,34],33:[2,34],34:[2,34],35:[2,34],36:[2,34],37:[2,34],41:[2,34],42:[2,34],26:[2,34],14:[2,34],27:[2,34],28:[2,34],39:[2,34],24:[2,34],11:[2,34],21:[2,34],40:[2,34]},{9:[2,35],16:[2,35],30:[2,35],31:[2,35],32:[2,35],33:[2,35],34:[2,35],35:[2,35],36:[2,35],37:[2,35],41:[2,35],42:[2,35],26:[2,35],14:[2,35],27:[2,35],28:[2,35],39:[2,35],24:[2,35],11:[2,35],21:[2,35],40:[2,35]},{25:48,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,41:[1,42],42:[1,43]},{19:49,22:25,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{30:[2,38],31:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],37:[2,38],41:[2,38],42:[2,38]},{30:[2,39],31:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],37:[2,39],41:[2,39],42:[2,39]},{9:[2,18],16:[2,18],30:[2,18],31:[2,18],32:[2,18],33:[2,18],34:[2,18],35:[2,18],36:[2,18],37:[2,18],41:[2,18],42:[2,18],26:[2,18],14:[2,18],27:[2,18],28:[2,18],39:[2,18],24:[2,18],11:[2,18],21:[2,18],40:[2,18]},{22:50,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{30:[2,20],31:[2,20],32:[2,20],33:[2,20],34:[2,20],35:[2,20],36:[2,20],37:[2,20],41:[2,20],42:[2,20],26:[2,20],14:[2,20],27:[2,20],28:[2,20],39:[2,20]},{30:[2,21],31:[2,21],32:[2,21],33:[2,21],34:[2,21],35:[2,21],36:[2,21],37:[2,21],41:[2,21],42:[2,21],26:[2,21],14:[2,21],27:[2,21],28:[2,21],39:[2,21]},{9:[2,36],16:[2,36],30:[2,36],31:[2,36],32:[2,36],33:[2,36],34:[2,36],35:[2,36],36:[2,36],37:[2,36],41:[2,36],42:[2,36],26:[2,36],14:[2,36],27:[2,36],28:[2,36],39:[2,36],24:[2,36],11:[2,36],21:[2,36],40:[2,36]},{40:[1,51],22:44,23:45,25:26,26:[1,27],14:[1,28],27:[1,29],28:[1,30],29:31,24:[1,46],11:[1,47],30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{9:[2,19],16:[2,19],30:[2,19],31:[2,19],32:[2,19],33:[2,19],34:[2,19],35:[2,19],36:[2,19],37:[2,19],41:[2,19],42:[2,19],26:[2,19],14:[2,19],27:[2,19],28:[2,19],39:[2,19],24:[2,19],11:[2,19],21:[2,19],40:[2,19]},{9:[2,37],16:[2,37],30:[2,37],31:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],37:[2,37],41:[2,37],42:[2,37],26:[2,37],14:[2,37],27:[2,37],28:[2,37],39:[2,37],24:[2,37],11:[2,37],21:[2,37],40:[2,37]}],defaultActions:{16:[2,15]},parseError:function parseError(s,h){throw new Error(s)},parse:function parse(i){var s=this,c=[0],v=[null],f=[],t=this.table,y='',g=0,h=0,j=0,T=2,E=1;this.lexer.setInput(i);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=='undefined')this.lexer.yylloc={};var k=this.lexer.yylloc;f.push(k);var m=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==='function')this.parseError=this.yy.parseError;function o(n){c.length=c.length-2*n;v.length=v.length-n;f.length=f.length-n}function q(){var n;n=s.lexer.lex()||1;if(typeof n!=='number'){n=s.symbols_[n]||n}return n}var w,x,z,A,a,r,B={},p,D,F,G;while(true){z=c[c.length-1];if(this.defaultActions[z]){A=this.defaultActions[z]}else{if(w===null||typeof w=='undefined'){w=q()}A=t[z]&&t[z][w]}_handle_error:if(typeof A==='undefined'||!A.length||!A[0]){var H='';if(!j){G=[];for(p in t[z])if(this.terminals_[p]&&p>2){G.push("'"+this.terminals_[p]+"'")}if(this.lexer.showPosition){H='Parse error on line '+(g+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+G.join(', ')+", got '"+(this.terminals_[w]||w)+"'"}else{H='Parse error on line '+(g+1)+": Unexpected "+(w==1?"end of input":("'"+(this.terminals_[w]||w)+"'"))}this.parseError(H,{text:this.lexer.match,token:this.terminals_[w]||w,line:this.lexer.yylineno,loc:k,expected:G})}if(j==3){if(w==E){throw new Error(H||'Parsing halted.')}h=this.lexer.yyleng;y=this.lexer.yytext;g=this.lexer.yylineno;k=this.lexer.yylloc;w=q()}while(1){if((T.toString())in t[z]){break}if(z===0){throw new Error(H||'Parsing halted.')}o(1);z=c[c.length-1]}x=w==2?null:w;w=T;z=c[c.length-1];A=t[z]&&t[z][T];j=3}if(A[0]instanceof Array&&A.length>1){throw new Error('Parse Error: multiple actions possible at state: '+z+', token: '+w)}switch(A[0]){case 1:c.push(w);v.push(this.lexer.yytext);f.push(this.lexer.yylloc);c.push(A[1]);w=null;if(!x){h=this.lexer.yyleng;y=this.lexer.yytext;g=this.lexer.yylineno;k=this.lexer.yylloc;if(j>0)j--}else{w=x;x=null}break;case 2:D=this.productions_[A[1]][1];B.$=v[v.length-D];B._$={first_line:f[f.length-(D||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(D||1)].first_column,last_column:f[f.length-1].last_column};if(m){B._$.range=[f[f.length-(D||1)].range[0],f[f.length-1].range[1]]}r=this.performAction.call(B,y,h,g,this.yy,A[1],v,f);if(typeof r!=='undefined'){return r}if(D){c=c.slice(0,-1*D*2);v=v.slice(0,-1*D);f=f.slice(0,-1*D)}c.push(this.productions_[A[1]][0]);v.push(B.$);f.push(B._$);F=t[c[c.length-2]][c[c.length-1]];c.push(F);break;case 3:return true}}return true}};var l=(function(){var l=({EOF:1,parseError:function parseError(s,h){if(this.yy.parser){this.yy.parser.parseError(s,h)}else{throw new Error(s)}},setInput:function(i){this._input=i;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match='';this.conditionStack=['INITIAL'];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function(){var c=this._input[0];this.yytext+=c;this.yyleng++;this.offset++;this.match+=c;this.matched+=c;var a=c.match(/(?:\r\n?|\n).*/g);if(a){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return c},unput:function(c){var a=c.length;var f=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-a-1);this.offset-=a;var o=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(f.length-1)this.yylineno-=f.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f?(f.length===o.length?this.yylloc.first_column:0)+o[o.length-f.length].length-f[0].length:this.yylloc.first_column-a};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-a]}return this},more:function(){this._more=true;return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?'...':'')+p.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;if(n.length<20){n+=this._input.substr(0,20-n.length)}return(n.substr(0,20)+(n.length>20?'...':'')).replace(/\n/g,"")},showPosition:function(){var p=this.pastInput();var c=new Array(p.length+1).join("-");return p+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=true;var t,m,a,c,f,g;if(!this._more){this.yytext='';this.match=''}var r=this._currentRules();for(var i=0;i<r.length;i++){a=this._input.match(this.rules[r[i]]);if(a&&(!m||a[0].length>m[0].length)){m=a;c=i;if(!this.options.flex)break}}if(m){g=m[0].match(/(?:\r\n?|\n).*/g);if(g)this.yylineno+=g.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+m[0].length};this.yytext+=m[0];this.match+=m[0];this.matches=m;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(m[0].length);this.matched+=m[0];t=this.performAction.call(this,this.yy,this,r[c],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(t)return t;else return}if(this._input===""){return this.EOF}else{return this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\n'+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=='undefined'){return r}else{return this.lex()}},begin:function begin(c){this.conditionStack.push(c)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(c){this.begin(c)}});l.options={"flex":true,"case-insensitive":true};l.performAction=function anonymous(y,a,$,Y){var c=Y;switch($){case 0:break;case 1:break;case 2:break;case 3:return'CDO';case 4:return'CDC';case 5:return'INCLUDES';case 6:return'DASHMATCH';case 7:return 26;case 8:return'BAD_STRING';case 9:return 14;case 10:return 28;case 11:return'IMPORT_SYM';case 12:return'PAGE_SYM';case 13:return'MEDIA_SYM';case 14:return'CHARSET_SYM';case 15:return 21;case 16:return 33;case 17:return 34;case 18:return 32;case 19:return 32;case 20:return 32;case 21:return 32;case 22:return 32;case 23:return 32;case 24:return 35;case 25:return 35;case 26:return 35;case 27:return 36;case 28:return 36;case 29:return 37;case 30:return 37;case 31:return'DIMENSION';case 32:return 31;case 33:return 30;case 34:return 27;case 35:return 27;case 36:return'BAD_URI';case 37:return 39;case 38:return a.yytext;case 39:console.log(a.yytext);break}};l.rules=[/^(?:([ \t\r\n\f]+))/i,/^(?:\/\*[^*]*\*+([^\/*][^*]*\*+)*\/)/i,/^(?:((\/\*[^*]*\*+([^\/*][^*]*\*+)*)|(\/\*[^*]*(\*+[^\/*][^*]*)*)))/i,/^(?:<!--)/i,/^(?:-->)/i,/^(?:~=)/i,/^(?:\|=)/i,/^(?:(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*')))/i,/^(?:(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)))/i,/^(?:([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*))/i,/^(?:#(([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))+))/i,/^(?:@([iI])([mM])([pP])([oO])([rR])([tT]))/i,/^(?:@([pP])([aA])([gG])([eE]))/i,/^(?:@([mM])([eE])([dD])([iI])([aA]))/i,/^(?:@charset )/i,/^(?:!((([ \t\r\n\f]+)?)|(\/\*[^*]*\*+([^\/*][^*]*\*+)*\/))*([iI])([mM])([pP])([oO])([rR])([tT])([aA])([nN])([tT]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([eE])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([eE])([xX]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([xX]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([cC])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([mM])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([iI])([nN]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([tT]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([cC]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([dD])([eE])([gG]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([rR])([aA])([dD]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([gG])([rR])([aA])([dD]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([mM])([sS]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([sS]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([hH])([zZ]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([kK])([hH])([zZ]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)%)/i,/^(?:([0-9]+|[0-9]*\.[0-9]+))/i,/^(?:url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*'))(([ \t\r\n\f]+)?)\))/i,/^(?:url\((([ \t\r\n\f]+)?)(([!#$%&*-~]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*)(([ \t\r\n\f]+)?)\))/i,/^(?:((url\((([ \t\r\n\f]+)?)([!#$%&*-\[\]-~]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*(([ \t\r\n\f]+)?))|(url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*'))(([ \t\r\n\f]+)?))|(url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)))))/i,/^(?:([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*)\()/i,/^(?:.)/i,/^(?:.)/i];l.conditions={"INITIAL":{"rules":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],"inclusive":true}};return l})();b.lexer=l;function P(){this.yy={}}P.prototype=b;b.Parser=P;return new P()})();if(typeof require!=='undefined'&&typeof exports!=='undefined'){exports.parser=b;exports.Parser=b.Parser;exports.parse=function(){return b.parse.apply(b,arguments)};exports.main=function commonjsMain(a){if(!a[1])throw new Error('Usage: '+a[0]+' FILE');var s,c;if(typeof process!=='undefined'){s=require("fs").readFileSync(require("path").resolve(a[1]),"utf8")}else{s=require("file").path(require("file").cwd()).join(a[1]).read({charset:"utf-8"})}return exports.parser.parse(s)};if(typeof module!=='undefined'&&require.main===module){exports.main(typeof process!=='undefined'?process.argv.slice(1):require("system").args)}}var d=function(){};var e=d.prototype;var u=new C();e._processBorderCommon=function(v,a){var c=v.split(' ');var l=c.length;if(l==0||l>3)return null;var r={};var f=[];var g=[u.TYPE_COLOR,u.TYPE_WIDTH,u.TYPE_BORDERSTYLE];for(var i=0;i<l;i++){var h=c[i];var t=u.valueType(h);if(g.indexOf(t)<0||r[t])return null;r[t]='XXX';for(var j=0;j<a.length;j++){var n=a[j]+'-';switch(t){case u.TYPE_COLOR:n+='color';break;case u.TYPE_WIDTH:n+='width';break;case u.TYPE_BORDERSTYLE:n+='style';break}f.push({name:n,value:h})}}if(!r[u.TYPE_BORDERSTYLE])return null;return f};e.processBorder=function(v){var a=['border-top','border-right','border-bottom','border-left'];return this._processBorderCommon(v,a)};e.processBorderEdge=function(v,a){return this._processBorderCommon(v,[a])};e._expandAttrTo4Edges=function(v,a,f,r,c){var g=v.split(' ');var l=g.length;if(l==0||l>4)return null;var h=[];for(var i=0;i<4;i++){var n=c[i].replace('*',a);var k=i;k<l||(k-=2)<l||(k-=3)<l;k>=0||(k=0);var j=g[k];if(v!='inherit'&&!f.call(r,j))return null;h.push({name:n,value:j})}return h};e._processBorderAttr=function(v,a){var f=null;switch(a){case'color':f=u.isColor;break;case'width':f=u.isWidth;break;case'style':f=u.isBorderStyle;break;default:return null}var c=['border-top-*','border-right-*','border-bottom-*','border-left-*'];return this._expandAttrTo4Edges(v,a,f,u,c)};e.processBorderColor=function(v){return this._processBorderAttr(v,'color')};e.processBorderWidth=function(v){return this._processBorderAttr(v,'width')};e.processBorderStyle=function(v){return this._processBorderAttr(v,'style')};e.processFont=function(v){var a=u.split(v,' ');if(a.length<2)return null;var h=v.indexOf('/')>=0;var r=[];r.push({name:'font-family',value:a.pop()});var s=a.pop();if(h){var c=s.split('/');if(c.length!=2||c[1]=='')return null;r.push({name:'line-height',value:c[1]});s=c[0]}if(s=='')return null;if(!u.validateFontSize(s))return null;r.push({name:'font-size',value:s});var f={};var g=[u.TYPE_FONTSTYLE,u.TYPE_FONTVARIANT,u.TYPE_FONTWEIGHT];for(var i=0,l=a.length;i<l;i++){var t=u.valueType(a[i]);if(g.indexOf(t)<0||f[t])return null;f[t]='XXX';var n=null;r.push({name:t,value:a[i]})}return r};e.processMargin=function(s){var a=['*-top','*-right','*-bottom','*-left'];return this._expandAttrTo4Edges(s,'padding',u.validateMargin,u,a)};e.processPadding=function(s){var a=['*-top','*-right','*-bottom','*-left'];return this._expandAttrTo4Edges(s,'margin',u.validatePadding,u,a)};e.processParentAttrs=function(a){var r=[];for(var i=0,l=a.length;i<l;i++){var c=a[i];var f=c.name.toLowerCase();var s=c;switch(f){case'border':s=this.processBorder(c.value);break;case'border-top':case'border-right':case'border-bottom':case'border-left':s=this.processBorderEdge(c.value,f);break;case'border-color':s=this.processBorderColor(c.value);break;case'border-style':s=this.processBorderStyle(c.value);break;case'border-width':s=this.processBorderWidth(c.value);break;case'font':s=this.processFont(c.value);break;case'margin':s=this.processMargin(c.value);break;case'padding':s=this.processPadding(c.value);break;default:break}if(s===c){r.push(c)}else{for(var g in s){s[g].important=c.important;r.push(s[g])}}}return r};e.parse=function(c){var s=null;try{s=b.parse(c)}catch(a){alert('Parse error, please check your console output: \n'+a);console.log(a);console.log(a.message);return null}var r=[];var f=1;for(var i=0,l=s.length;i<l;i++){var g=s[i];var h=this.processParentAttrs(g.declaration);for(var j=0,k=h.length;j<k;j++){var m={idx:f++,selector:g.selector,property:h[j].name,value:h[j].value,important:h[j].important?true:false};r.push(m)}}return r};return new d()});sap.riv.module({qname:'sap.viz.util.parseCSS',version:'4.0.0'},[{qname:'sap.viz.mvc.CSSParser',version:'4.0.0'}],function Setup(C){function p(a,v,r){var s;a=a.toLowerCase();switch(a){case'border':s=C.processBorder(v);break;case'border-top':case'border-right':case'border-bottom':case'border-left':s=C.processBorderEdge(v,name);break;case'border-color':s=C.processBorderColor(v);break;case'border-style':s=C.processBorderStyle(v);break;case'border-width':s=C.processBorderWidth(v);break;case'font':s=C.processFont(v);break;case'margin':s=C.processMargin(v);break;case'padding':s=C.processPadding(v);break;default:break}if(!s){r[a]=v}else{s.forEach(function(b){r[b.name]=b.value})}}return function(c){var r={};for(var s in c){if(c.hasOwnProperty(s)){var d=c[s];var a={};for(var n in d){if(d.hasOwnProperty(n)){p(n,d[n],a)}}r[s]=a}}return r}});sap.riv.module({qname:'sap.viz.manifest',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'}],function Setup(T,F,O){var m={};m.registerCategory=function(n,f,a){if(!T.isNonEmptyString(n)){F.error("The category name must be a non-empty string.")}if(f&&!T.isFunction(f)){F.error("The category factory must be a function.")}if(m.hasOwnProperty(n)){F.error("There is already a category named \"{0}\"",n)}var c=d3.map();var b={get:function(i,t){var r=c.get(i);if(r===undefined&&t){F.error("Cannot find \"{0}\" in category \"{1}\"",i,n)}return r},each:function(d,t){c.forEach(function(i,o){d.call(t,o,i)});return m},unregister:function(i){var r;if(T.isExist(i)){r=c.get(i);c.remove(i)}return r},register:function(){Array.prototype.forEach.call(arguments,function(o){if(T.isUndefined(o)){F.error("Cannot register a undefined object.")}var i=o.id;if(!T.isNonEmptyString(i)){F.error("Cannot register without a valid id.")}if(c.has(i)){F.error("There is already an item named \"{0}\" in category \"{1}\".",i,n)}var d=o["abstract"]===true;o=O.extend(true,null,o.base!==undefined?b.get(o.base,true):null,o);Object.defineProperty(o,"abstract",{value:d,enumerable:false});if(f&&!d){f.call(a,o,m)}c.set(i,o)});return m}};m[n]=b;return b};m.unregisterCategory=function(c){return c in m&&delete m[c]};return m});sap.riv.module({qname:'sap.viz.TemplateManager',version:'4.0.0',exported:true},[{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.util.parseCSS',version:'4.0.0'}],function Setup(m,F,T,O,p){function l(u,j,k){var n=document.getElementsByTagName("head")[0]||document.documentElement;var s=document.createElement("script");s.type='text/javascript';s.src=u;var q=false;s.onload=s.onreadystatechange=function(){if(!q&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){q=true;c(s);j()}};if(s.addEventListener){s.addEventListener('error',function(){c(s);k()},true)}n.insertBefore(s,n.firstChild)}function a(j,k,n,q,r){if(k<j.length){var u=j[k]+n+'/template.js';var s=function(){a(j,k+1,n,q,r)};l(u,s,s)}else{var v=g(n);if(v){q(v)}else{r()}}}function b(j,k){a(h.loadPath,0,j,k,function(){F.error('Loading template {0} failed.',j)})}function c(s){s.onload=s.onreadystatechange=null;s.parentNode.removeChild(s)}var t=m.registerCategory("template",function(j){j.css=p(j.css);Object.defineProperties(j,{props:{value:function(v){var k=j.properties;if(k){return k[v]}}}});return j});var d;function g(j){return t.get(j)}function o(j,k,n){d=j;if(k){k.call(n,d)}}var e="default",f={id:e,name:"Default"};var h={constructor:function(){return},loadPath:["../../../resources/templates/"],current:function(){return d},apply:function(j,k,n){var q=g(j);if(!q){b(j,function(q){o(q,k,n)})}else{o(q,k,n)}return h},register:function(){t.register.apply(t,arguments);return h},extend:function(j,k){var n=t.get(j,true);O.extend(true,n,k);return h}};delete h.constructor;var i={writable:false,configurable:false};Object.defineProperties(h,{loadPath:{configurable:false},current:i,apply:i,register:i});h.register(f);d=g(e);return h});sap.riv.module({qname:'sap.viz.StyleManager',version:'4.0.0'},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'}],function Setup(O){function S(r){O.extend(this,r)}S.prototype.toString=function(){var s="",i;for(i in this){if(this.hasOwnProperty(i)){s+=i+":"+this[i]+";"}}return s};function a(){this.style={};this.defaultStyle={}}a.prototype.update=function(c){O.extend(true,this.style,c)};a.prototype.setDefault=function(c){this.defaultStyle=O.extend(true,null,c,this.defaultStyle)};a.prototype.query=function(c,b){if(/\./.test(c)){throw'. is not allowed'}var d=c.split(' ');var e={};for(var i=0,l=d.length;i<l;i++){if(d[i]===''){continue}O.extend(e,this.defaultStyle['.'+d[i]],b,this.style['.'+d[i]])}return new S(e)};a.prototype.cssText=function(c){return this.query(c).toString()};return a});sap.riv.module({qname:'sap.viz.config',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var c={};var e=false;var m={constructor:function(){return},enableCanvg:function(_){if(!arguments.length){return e}e=_;return m},register:function(o){if(c[o.id]){return}c[o.id]=o.value;return m},get:function(i){if(c[i]){return c[i]}}};return m});sap.riv.module({qname:'sap.viz.util.EffectManager',version:'4.0.0'},[],function Setup(){function E(s,b){this._defs=s;this._enableGhostEffect=b}function c(b){var g;if(b!==undefined&&typeof(b)==='object'){if(b.rgb){g=b.rgb().toString()}else{g=b.toString()}}else if(typeof(b)==='string'){g=d3.rgb(b.toLowerCase()).toString()}return g}function a(k){var r=parseInt(k.substr(1,2),16);var g=parseInt(k.substr(3,2),16);var b=parseInt(k.substr(5,2),16);var l;if((r===g)&&(g===b)){l=(Math.round(256+r+(255-r)*0.6).toString(16)).substr(1)}else{var m=(r*299+g*587+b*114+500)/1000;l=(Math.round(256+m).toString(16)).substr(1)}return'#'+l+l+l}function i(k,p){var r=parseInt(k.substr(1,2),16);var g=parseInt(k.substr(3,2),16);var b=parseInt(k.substr(5,2),16);var t;if(p>=0){t='#';t+=(Math.round(256+r+(255-r)*p/100).toString(16)).substr(1);t+=(Math.round(256+g+(255-g)*p/100).toString(16)).substr(1);t+=(Math.round(256+b+(255-b)*p/100).toString(16)).substr(1);return t}else{t='#';t+=(Math.round(256+r*(100+p)/100).toString(16)).substr(1);t+=(Math.round(256+g*(100+p)/100).toString(16)).substr(1);t+=(Math.round(256+b*(100+p)/100).toString(16)).substr(1);return t}}function d(b,g,k,r){var l=k;var m=i(l,50);var n=i(k,-30);var o=b.append('radialGradient');var p=o[0][0];p.setAttribute('id',g);p.setAttribute('cx',0);p.setAttribute('cy',0);p.setAttribute('r',r);p.setAttribute('fx',0);p.setAttribute('fy',0);p.setAttribute('gradientUnits',"userSpaceOnUse");o.append("stop").attr('stop-opacity',1).attr("offset",0).attr("stop-color",m);o.append("stop").attr('stop-opacity',1).attr("offset",0.9).attr("stop-color",l);o.append("stop").attr('stop-opacity',1).attr("offset",1).attr("stop-color",n)}function e(b,g,k){var l=k;var m=i(l,10);var n=i(l,80);var o=b.append('radialGradient');var r=o[0][0];r.setAttribute('id',g);r.setAttribute('cx','50%');r.setAttribute('cy','50%');r.setAttribute('r','50%');r.setAttribute('fx','50%');r.setAttribute('fy','20%');o.append("stop").attr('stop-opacity',1).attr("offset",0).attr("stop-color",n);o.append("stop").attr('stop-opacity',1).attr("offset",0.7).attr("stop-color",m);o.append("stop").attr('stop-opacity',1).attr("offset",0.9).attr("stop-color",l);o.append("stop").attr('stop-opacity',1).attr("offset",1).attr("stop-color",l)}function f(b,g,k,l){var m=i(k,30);var n=i(k,50);var o=i(k,-10);var p=i(k,10);var q=b.append("svg:linearGradient").attr("id",g).attr("x1","0%").attr("y1","0%");if(l==='horizontal'){q.attr("y2","0%").attr("x2","100%")}else{q.attr("y2","100%").attr("x2","0%")}q.append("stop").attr('stop-opacity',1).attr("offset",0).attr("stop-color",m);q.append("stop").attr('stop-opacity',1).attr("offset",0.2).attr("stop-color",n);q.append("stop").attr('stop-opacity',1).attr("offset",0.8).attr("stop-color",o);q.append("stop").attr('stop-opacity',1).attr("offset",1).attr("stop-color",p)}function h(b,g,k,l){var m=b.append("svg:linearGradient").attr("id",g);if(l==='horizontal'){m.attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","0%")}else{m.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%")}m.append("stop").attr('stop-opacity',1).attr("offset",0).attr("stop-color",'#ffffff');m.append("stop").attr('stop-opacity',1).attr("offset",1).attr("stop-color",k)}function j(p,b){var g;if(p.drawingEffect==="glossy"){switch(p.graphType){case'sector':g=p.drawingEffect+p.graphType+b.slice(1)+Math.round(p.radius);break;case'circle':g=p.drawingEffect+p.graphType+b.slice(1);break;case'triangle-up':case'triangle-down':g=p.drawingEffect+'triangle'+b.slice(1)+'vertical';break;case'triangle-left':case'triangle-right':g=p.drawingEffect+'triangle'+b.slice(1)+'horizontal';break;case'rectangle':case'diamond':case'cross':case'star':case'intersection':case'background':g=p.drawingEffect+'rectangle'+b.slice(1)+p.direction;break;default:g=p.drawingEffect+'rectangle'+b.slice(1)+p.direction;break;case'line':g=null;break}}return g}E.prototype.register=function(p){var o=p.fillColor;if(this._enableGhostEffect){o=c(o);o=a(o)}var b=c(o);var g=j(p,b);if(!g){return o}var k=this._defs.select("#"+g);if(k.empty()){if(p.drawingEffect==="glossy"){switch(p.graphType){case'background':h(this._defs,g,b,p.direction);break;case'sector':d(this._defs,g,b,p.radius);break;case'circle':e(this._defs,g,b,p.direction);break;case'triangle-up':case'triangle-down':f(this._defs,g,b,'vertical');break;case'triangle-left':case'triangle-right':f(this._defs,g,b,'horizontal');break;case'rectangle':case'diamond':case'cross':case'star':case'intersection':f(this._defs,g,b,p.direction);break;default:f(this._defs,g,b,p.direction);break}}else{return b}}return"url(#"+g+")"};E.prototype.setContainer=function(b){this._defs=b};E.prototype.ghostEffect=function(_){if(!arguments.length){return this._enableGhostEffect}this._enableGhostEffect=_};return E});sap.riv.module({qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(T,F){function M(b){this._bindingInfo=b;this._aa=[];this._mg=[];this._fakeData=false;this._dataPointCount=0;this._emptyDataset=false}M.prototype.addAnalysisAxis=function(a){if(a){this._aa.push(a)}};M.prototype.addMeasureValuesGroup=function(m){if(m){this._mg.push(m)}};M.prototype.getAnalysisAxisDataByIdx=function(a){if(!arguments.length){return this._aa}for(var i=0;i<this._aa.length;i++){if(this._aa[i].index===a){return this._aa[i]}}return null};M.prototype.getMeasureValuesGroupDataByIdx=function(a){if(!arguments.length){return this._mg}for(var i=0;i<this._mg.length;i++){if(this._mg[i].index===a){return this._mg[i]}}return null};M.prototype.createDataAdapterForModule=function(c){var s=new M();var i;if(c&&c.aa){for(i=0;i<c.aa.length;i++){var a=this.getAnalysisAxisDataByIdx(c.aa[i]-1);if(a){s.addAnalysisAxis({index:i,values:a.values})}}}if(c&&c.mg){for(i=0;i<c.mg.length;i++){var m=this.getMeasureValuesGroupDataByIdx(c.mg[i]-1);if(m){s.addMeasureValuesGroup({index:i,values:m.values})}}}return s};M.prototype.getBindingInfo=function(){return this._bindingInfo};M.prototype.fakeData=function(_){if(!arguments.length){return this._fakeData}this._fakeData=_};M.prototype.dataPointCount=function(_){if(!arguments.length){return this._dataPointCount}this._dataPointCount=_};M.prototype.emptyDataset=function(_){if(!arguments.length){return this._emptyDataset}this._emptyDataset=_};return M});sap.riv.module({qname:'sap.viz.data.handler.BaseDataHandler',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(F,T,l){function d(f){var c=[];var e=true;var i=0;for(;i<f.length;i++){var g=f[i];if(g.type()==="Dimension"&&g.acceptMND()>=0){if(g.hasMNDFeeded()){return g.feedId()}else if(g.getDataCount()<g.max()){c[g.acceptMND()]=g;if(e){e=g.hasFeeded()}}}}if(c.length===0){return""}if(e){return c[c.length-1].feedId()}for(i=c.length-1;i>=0;i--){if(c[i]&&!c[i].hasFeeded()){return c[i].feedId()}}return""}function v(c){if(T.isString(c)){return c}else if(T.isNumber(c)){return c.toString()}else{return null}}function a(c){if(T.isNumber(c)){return parseFloat(c)}else{return null}}function b(r,u){var c=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];var e=r.getDataPointCount();if(u===Number.POSITIVE_INFINITY||!T.isNumber(u)||u>=e){return c}var m=0;var f=r.getMeasureValuesGroupCount();for(var i=0;i<f;i++){m+=r.getMeasureValuesGroupByIdx(i).getMeasureValues().length}var g=Math.floor(u/m);var h=r.getAnalysisAxisCount();if(h===0||h===1){c[0]=g}else if(h===2){var j=r.getMeasureValuesGroupByIdx(0).getMeasureValues()[0];var k=j.getValues()[0].length;if(g/k<1){c[0]=g;c[1]=1}else{c[1]=Math.floor(g/k)}}return c}function B(f,r,u){this._feeder=f;this._feeds=f.getFeeds();this._mndFeed=d(this._feeds);this._limit=b(r,u)}B.prototype.getFeedValues=function(f){var c=this._feeder.findFeed(f);if(!c){F.error('could not find feed definition of '+f)}if(c.type()==="Dimension"){return this.getDimensionFeedValues(c)}else if(c.type()==="Measure"){return this.getMeasureFeedValues(c)}};B.prototype.getDimensionFeedValues=function(f){var c=[];var h=false;var e=f.data();var o;var m=l.get('IDS_DEFAULTMND');if(e.length>0){for(var i=0;i<e.length;i++){var g=e[i];if(g){if(g.getType()==="measureNamesDimension"){o={};o['col']={'val':m};o['type']='MND';o['rows']=this.getMeasureNamesValues();c.push(o);h=true}else if(g.getType()==="analysisAxis"){var n=g.getDimensionLabels();var p=this._feeder.getAnalysisAxisIndex(f);for(var j=0;j<n.length;j++){o={};o['col']={'val':v(n[j].getId())};var r=[];var q=n[j].getValues();var s=n[j].infos();var t=q.length;if(this._limit[p]!==Number.POSITIVE_INFINITY){t=this._limit[p]}for(var k=0;k<t;k++){var u={'val':v(q[k]),'ctx':{'type':'Dimension','path':{'aa':p,'di':j,'dii':k}}};if(T.isExist(s)){u.info=s[k]}r.push(u)}o['rows']=r;c.push(o)}}else{F.error('wrong type when getting data')}}}}if(f.feedId()===this._mndFeed&&h===false){o={};o['col']={'val':m};o['type']='MND';o['rows']=this.getMeasureNamesValues();c.unshift(o)}return c.length>0?c:null};B.prototype.getMeasureFeedValues=function(f){var c=[];var m=f.getMeasureValues();var e=this._feeder.getMeasureValuesGroupIndex(f);for(var i=0;i<m.length;i++){var o={};o['col']=v(m[i].getId());var r=[];var g=m[i].getValues();var h=g.length;if(this._limit[1]!==Number.POSITIVE_INFINITY){h=this._limit[1]}for(var j=0;j<h;j++){var n=g[j];var p=[];var q=n.length;if(this._limit[0]!==Number.POSITIVE_INFINITY){q=this._limit[0]}for(var k=0;k<q;k++){p.push({'val':a(n[k]),'ctx':{'type':'Measure','path':{'mg':e,'mi':i,'dii_a1':k,'dii_a2':j}}})}r.push(p)}o['rows']=r;c.push(o)}return c.length>0?c:null};B.prototype.getMeasureNamesValues=function(){var c=[];var m=this._feeder.getMeasureValuesGroupFeeds();for(var i=0;i<m.length;i++){if(m[i].hasFeeded()){var e=m[i].getMeasureValues();for(var j=0;j<e.length;j++){c.push({'val':v(e[j].getId()),'ctx':{'path':{'mg':i,'mi':j}}})}}}return c};return B});sap.riv.module({qname:'sap.viz.data.handler.MeasureDataHandler',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var M={makeMeasureValues:function(c,m,a,b,d){var v=[];for(var i=0;i<m.values.length;i++){if(d&&i!==c.path.mi){continue}var e={};var f=m.values[i];var r=f["rows"];e["col"]=f["col"];if(c){e["rows"]=this.createMeasureValues(c,r,a,b)}else{e["rows"]=this.createMeasureValuesWithoutCtx(r,a,b)}v.push(e)}return v},createMeasureValuesWithoutCtx_1_2:function(r,a){var v=[],j,b;if(a[0]===1){b=[];for(j=0;j<r[0].length;j++){b.push(r[0][j])}v.push(b)}else if(a[0]===2){for(j=0;j<r[0].length;j++){b=[];b.push(r[0][j]);v.push(b)}}else{F.error("Not supported")}return v},createMeasureValuesWithoutCtx_1_3:function(r,a){var v=[],j,b;if(a[0]===1){b=[];for(j=0;j<r[0].length;j++){b.push(r[0][j])}v.push([b])}else if(a[0]===2){b=[];for(j=0;j<r[0].length;j++){b.push([r[0][j]])}v.push(b)}else if(a[0]===3){for(j=0;j<r[0].length;j++){b=[];b.push([r[0][j]]);v.push(b)}}else{F.error("Not supported")}return v},createMeasureValuesWithoutCtx:function(r,a,m){if(a.length===1){if(m===1||m===2){return this.createMeasureValuesWithoutCtx_1_2(r,a)}else if(m===3){return this.createMeasureValuesWithoutCtx_1_3(r,a)}else{F.error("Not supported")}}else if(a.length===2){if(m===2){return r}else if(m===3){return this.createMeasureValues_2_3(r,a)}else{F.error("Not supported")}}else{F.error("Not supported")}F.error("Not supported")},createMeasureValues_1_2:function(c,r,a){var v=[],j,b;if(a[0]===1){b=[];for(j=0;j<r.length;j++){b.push(r[j][c.path.dii])}v.push(b)}else if(a[0]===2){for(j=0;j<r.length;j++){b=[];b.push(r[j][c.path.dii]);v.push(b)}}else{F.error("Not supported")}return v},createMeasureValues_1_3:function(c,r,a){var v=[],j,b;if(a[0]===1){b=[];for(j=0;j<r.length;j++){b.push(r[j][c.path.dii])}v.push([b])}else if(a[0]===2){b=[];for(j=0;j<r.length;j++){b.push([r[j][c.path.dii]])}v.push(b)}else if(a[0]===3){for(j=0;j<r.length;j++){b=[];b.push([r[j][c.path.dii]]);v.push(b)}}else{F.error("Not supported")}return v},createMeasureValues:function(c,r,a,m){var v=[];if(a.length===1){if(m===1||m===2){return this.createMeasureValues_1_2(c,r,a)}else if(m===3){return this.createMeasureValues_1_3(c,r,a)}else{F.error("Not supported")}}else if(a.length===2){if(m===2){return r}else if(m===3){return this.createMeasureValues_2_3(r,a)}else{F.error("Not supported")}}else{F.error("Not supported")}return v},createMeasureValues_2_3:function(r,a){var i,j,v;if(a[0]===1&&a[1]===2){return[r]}else if(a[0]===1&&a[1]===3){v=[];for(i=0;i<r.length;i++){v.push([r[i]])}return v}else if(a[0]===2&&a[1]===3){v=[];for(i=0;i<r.length;i++){var b=[];var c=r[i];for(j=0;j<c.length;j++){var d=c[j];b.push([d])}v.push(b)}return v}else{F.error("Not supported")}}};return M});sap.riv.module({qname:'sap.viz.data.handler.SingleChartDataHandler',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.data.handler.MeasureDataHandler',version:'4.0.0'}],function Setup(F,M,a){function b(c){if(c[0]===true){if(c[1]===true){return[1,2]}else if(c[2]===true){return[1,2]}else if(c[3]===true){F.error("Not Supported")}else{return[1]}}else if(c[1]===true){if(c[2]===true){return[1,2]}else if(c[3]===true){F.error("Not Supported")}else{if(c.length>2){return[1]}else{return[2]}}}else if(c[2]===true){if(c[3]===true){F.error("Not Supported")}else{return[1]}}else{for(var i=0;i<c.length;i++){if(c[i]===true){F.error("could not determin measure value axis index")}}return[1]}F.error("could not determin measure value axis index")}function S(d){this._dataAdapter=d}S.prototype.getDataAdapter=function(){if(this._dataAdapter.getBindingInfo()===null||this._dataAdapter.getBindingInfo()===undefined){return this._dataAdapter}else{return this.getChartDataAdapter()}};S.prototype.getChartDataAdapter=function(){var m=b(this._dataAdapter.getBindingInfo());var c=this._dataAdapter.getAnalysisAxisDataByIdx();var d=this._dataAdapter.getMeasureValuesGroupDataByIdx();var e=new M();for(var i=0;i<c.length;i++){var f=c[i];e.addAnalysisAxis({index:f.index,values:f.values})}for(i=0;i<d.length;i++){var g=d[i];e.addMeasureValuesGroup({index:g.index,values:a.makeMeasureValues(null,g,m,2,false)})}return e};return S});sap.riv.module({qname:'sap.viz.modules.layout',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T){return function(s){var d={resize:true,type:'grid',padding:[0,0,0,0],hgap:0,vgap:0};var h=s.hgap||d.hgap,v=s.vgap||d.vgap,p=s.padding||d.padding,b=s.bias||'none';var l;switch(s.type){case'border':a(s.prefs);break;case'grid':g(s.prefs);break;case'table':t();break;default:g(s.prefs)}function a(o){l={};var c={};c.width=s.size.width-p[1]-p[3];c.height=s.size.height-p[0]-p[2];var m=p[3],e=p[0],f=s.size.width-p[1],k=s.size.height-p[2];var q=new Array,i;if(b instanceof Array){q[0]=b[0];q[1]=b[1];q[2]='north';q[3]='south'}else{switch(b){case'west':q[0]='west';q[1]='north';q[2]='south';q[3]='east';break;case'east':q[0]='east';q[1]='north';q[2]='south';q[3]='west';break;default:q[0]='north';q[1]='south';q[2]='east';q[3]='west'}}q[4]='center';for(i=0;i<q.length;i++){n(q[i])}function n(r){function u(C){if(arguments.length<2){return 0}var D=Array.prototype.slice.apply(arguments).slice(1);var E=[];for(var i=0;i<D.length;i++){if(D[i].length>1){E[i]=D[i].slice(1);E[i].push(D[i][0])}}var F=0;var G=0;for(var i=0;i<E[0].length;i++){for(var j=0;j<E.length;j++){G+=E[j][i]}if(G>C){return F}F+=E[0][i]}return F}var w={},x={};if(r==='north'&&o.north){w=l.north={};x=o.north.size;var y=x.height;var z=y;if(x.spacings&&o.south&&o.south.size.spacings){z+=o.south.size.height}if(x.maxSizeConstant&&z>c.height*x.maxSizeConstant){if(x.hideOversize){y=0}else if(x.spacings){if(o.south&&o.south.size.spacings){y=u(c.height*x.maxSizeConstant,x.spacings,o.south.size.spacings)}else{y=u(c.height*x.maxSizeConstant,x.spacings)}}else{y=c.height*x.maxSizeConstant}}w.bounds={x:m,y:e,width:f-m,height:y};e+=(w.bounds.height+h);if(w.bounds.height==0){l.north=null}}if(r==='east'&&o.east){w=l.east={};x=o.east.size;var A=x.width;var B=A;if(x.spacings&&o.west&&o.west.size.spacings){B+=o.west.size.width}if(x.maxSizeConstant&&B>c.width*x.maxSizeConstant){if(x.hideOversize){A=0}else if(x.spacings){if(o.west&&o.west.size.spacings){A=u(c.width*x.maxSizeConstant,x.spacings,o.west.size.spacings)}else{A=u(c.width*x.maxSizeConstant,x.spacings)}}else{A=c.width*x.maxSizeConstant}}if(A<x.minWidth){A=0}w.bounds={x:f-A,y:e,width:A,height:k-e};if(w.bounds.height<x.minHeight){w.bounds.width=0}f-=(w.bounds.width-v);if(w.bounds.width==0){l.east=null}}if(r==='south'&&o.south){w=l.south={};x=o.south.size;var y=x.height;var z=y;if(x.spacings&&o.north&&o.north.size.spacings){z+=o.north.size.height}if(x.maxSizeConstant&&z>c.height*x.maxSizeConstant){if(x.hideOversize){y=0}else if(x.spacings){if(o.north&&o.north.size.spacings){y=u(c.height*x.maxSizeConstant,x.spacings,o.north.size.spacings)}else{y=u(c.height*x.maxSizeConstant,x.spacings)}}else{y=c.height*x.maxSizeConstant}}w.bounds={x:m,y:(k-y)<e?e:(k-y),width:f-m};w.bounds.height=y;k-=(w.bounds.height-h);if(w.bounds.height==0){l.south=null}}if(r==='west'&&o.west){w=l.west={};x=o.west.size;var A=x.width;var B=A;if(x.spacings&&o.east&&o.east.size.spacings){B+=o.east.size.width}if(x.maxSizeConstant&&B>c.width*x.maxSizeConstant){if(x.hideOversize){A=0}else if(x.spacings){if(o.east&&o.east.size.spacings){A=u(c.width*x.maxSizeConstant,x.spacings,o.east.size.spacings)}else{A=u(c.width*x.maxSizeConstant,x.spacings)}}else{A=c.width*x.maxSizeConstant}}w.bounds={x:m,y:e,width:A,height:(e+x.height)>k?k:(e+x.height)};m+=(w.bounds.width+v);if(w.bounds.width==0){l.west=null}}if(r==='center'&&o.center){w=l.center={};w.bounds={x:m,y:e,width:f-m,height:k-e}}}}function g(o){}function t(o){l=[];var c=T.isExist(s.columns)?s.columns:3;var r=T.isExist(s.rows)?s.rows:2;var e=T.isExist(s.cellpadding)?s.cellpadding:5;var f=T.isExist(s.paddingThreshold)?s.paddingThreshold:0.1;var i={};i.width=s.size.width-p[1]-p[3];i.height=s.size.height-p[0]-p[2];var j=i.width/c;var k=i.height/r;if(e>j*f||e>k*f){e=2}var m=(i.width-2*c*e)/c;m=m>0?m:0;var n=(i.height-2*r*e)/r;n=n>0?n:0;var q=p[3],u=p[0],w=s.size.width-p[1],x=s.size.height-p[2];for(var y=0;y<c;y++){var z=[];for(var A=0;A<r;A++){var B={};B.bounds={x:y*j+j/2-m/2,y:A*k+k/2-n/2,width:m,height:n};z.push(B)}l.push(z)}}return l}});sap.riv.module({qname:'sap.viz.modules.xycontainer',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.modules.layout',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.data.handler.SingleChartDataHandler',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,O,F,l,M,S,d,b){var r=function(m,c){function a(G){return M.module.get(G).execute(c)}var w=0,h=0,p={},e={},f={},g={},s={},i,j=null;var k=new d('initialized','showTooltip','hideTooltip'),n=0;;var o=m.props(null);var q=function(G,H){var I={},J,K,L;if(H){if(G){J=G.propertyCategory;K=p;L={};L[J]=G.properties;O.extend(true,I,L,K)}else{I=p}}else{if(G){J=G.propertyCategory;K=p[J];L=G.properties;O.extend(true,I,L,K)}}return I};var u=function(G,H){var I=f.modules;var J,K,L;if(I[G]&&g[G]){K=I[G].configure;if(H){J=p}else{if(K){L=K.propertyCategory;J=O.extend(true,{},p[L])}else{J={}}}g[G].properties(J)}};function t(){if(T.isEmptyObject(f))F.error('Container configuration missing');n=0;x('xAxis');x('yAxis');x('xAxis2');x('yAxis2');x('background');var G=f.modules.plot;if(!G)return;var H=g.plot=a(G.id);var I=new S(e);H.data(I.getDataAdapter());var J;if(G.configure){J=q(G.configure);H.properties(J)}if(H.dispatch){var K=H.dispatch();if(K.initialized){n++;K.on('initialized.xycontainer',C)};if(K.showTooltip)K.on('showTooltip.xycontainer',D);if(K.hideTooltip)K.on('hideTooltip.xycontainer',E)}var L=f.modules.dataLabel;if(T.isExist(L)&&T.isExist(H.dataLabel)){var N=g.dataLabel=a(L.id);H.dataLabel(N);N.plot(H);if(L.configure){J=q(L.configure);N.properties(J)}}if(g.xAxis&&!s.xAxis)s.xAxis=j.append('g').attr('class','xAxis');if(g.xAxis2&&!s.xAxis2)s.xAxis2=j.append('g').attr('class','xAxis2');if(g.yAxis&&!s.yAxis)s.yAxis=j.append('g').attr('class','yAxis');if(g.yAxis2&&!s.yAxis2)s.yAxis2=j.append('g').attr('class','yAxis2');if(g.plot&&!s.plot)s.plot=j.append('g').attr('class','plot');if(g.background&&!s.background)s.background=j.insert('g',':first-child').attr('class','background')}function v(G){if(g[G]){var H=f.modules[G];var I=H.data;if(I){g[G].data(e.createDataAdapterForModule(I))}}};function x(G){if(!f.modules[G])return;var H=f.modules[G],I=g[G]=a(H.id);v(G);var J=q(H.configure);I.properties(J);if(I.dispatch&&I.dispatch()['initialized']){n++;I.dispatch().on('initialized.xycontainer',C)}}function y(){if(T.isEmptyObject(g)||!w||!h)return;w=w<0?0:w;h=h<0?0:h;var G={};if(g.xAxis){g.xAxis.drawable(true);G.south={size:g.xAxis.getPreferredSize()}}if(g.yAxis){g.yAxis.drawable(true);G.west={size:g.yAxis.getPreferredSize()}}if(g.xAxis2){g.xAxis2.drawable(true);G.north={size:g.xAxis2.getPreferredSize()}}if(g.yAxis2){g.yAxis2.drawable(true);G.east={size:g.yAxis2.getPreferredSize()}}if(g.plot)G.center={};var H=l({type:'border',bias:'none',size:{width:w,height:h},prefs:G});if(H.east){var I=0,J=0;if(H.south){I=H.east.bounds.height-H.south.bounds.height;J=H.east.bounds.y}if(H.north){I=H.east.bounds.height-H.north.bounds.height;J=H.west.bounds.y}s.yAxis2.attr('transform','translate('+H.east.bounds.x+','+J+')');g.yAxis2.width(H.east.bounds.width).height(I);g.yAxis2.gridlineLength(H.center.bounds.width)}else if(g.yAxis2){g.yAxis2.drawable(false)}if(H.north){var K=0,L=0;if(H.west){L=H.north.bounds.x+H.west.bounds.width}s.xAxis2.attr('transform','translate('+L+','+H.north.bounds.y+')');g.xAxis2.width(L).height(H.north.bounds.height);g.xAxis2.gridlineLength(H.center.bounds.height)}else if(g.xAxis2){g.xAxis2.drawable(false)}if(H.west){var N=0,P=0;if(H.south){N=H.west.bounds.height-H.south.bounds.height;P=H.west.bounds.y}if(H.north){N=H.west.bounds.height-H.north.bounds.height;P=H.west.bounds.y}s.yAxis.attr('transform','translate('+H.west.bounds.x+','+P+')');g.yAxis.width(H.west.bounds.width).height(N);g.yAxis.gridlineLength(H.center.bounds.width)}else if(g.yAxis){g.yAxis.drawable(false)}if(H.south){var Q=0,R=0;if(H.west){R=H.south.bounds.x+H.west.bounds.width}s.xAxis.attr('transform','translate('+R+','+H.south.bounds.y+')');g.xAxis.width(H.south.bounds.width).height(H.south.bounds.height);g.xAxis.gridlineLength(H.center.bounds.height)}else if(g.xAxis){g.xAxis.drawable(false)}var U=0,V=rightPaddingxAxis2=0;if(!H.east){if(g.xAxis){V=g.xAxis.endPadding()}if(g.xAxis2){rightPaddingxAxis2=g.xAxis2.endPadding()}U=V>rightPaddingxAxis2?V:rightPaddingxAxis2}if(H.center){s.plot.attr('transform','translate('+H.center.bounds.x+','+H.center.bounds.y+')');var W=H.center.bounds.width-U;g.plot.width(W>0?W:0).height(H.center.bounds.height>0?H.center.bounds.height:0);i=w-W;if(s.background){s.background.attr('transform','translate('+H.center.bounds.x+','+H.center.bounds.y+')');g.background.width(W>0?W:0).height(H.center.bounds.height>0?H.center.bounds.height:0)}}if(H.west){g.yAxis.gridlineLength(H.center.bounds.width-U)}}function z(G){G.each(function(e){b.drawBound(G,w,h);j=G;if(T.isEmptyObject(g))t();A()});return z}z.width=function(_){if(!arguments.length)return w;w=_;y();return z};z.height=function(_){if(!arguments.length)return h;h=_;y();return z};z.size=function(_){if(!arguments.length)return{'width':w,'height':h};h=_.height;w=_.width;y();return z};z.data=function(_){if(!arguments.length)return e;e=_;if(!T.isEmptyObject(g)){var G=new S(e);g.plot.data(G.getDataAdapter());v('xAxis');v('yAxis');v('xAxis2');v('yAxis2')}return z};z.properties=function(_){if(!arguments.length)return o;p=_;if(!T.isEmptyObject(g)){u('xAxis');u('xAxis2');u('yAxis');u('yAxis2');u('plot');u('dataLabel');u('background')}return z};z.config=function(_){if(!arguments.length)return f;f=_;return z};z.modules=function(_){if(!arguments.length){if(T.isEmptyObject(g)){t()}return g}g=_;return z};z.parent=function(_){if(!arguments.length)return j;j=_;return z};z.dispatch=function(_){if(!arguments.length)return k;k=_;return z};z.infoForSizeLegend=function(){return{space:i,number:1,plotHeight:g.plot.height()}};z.rotate=function(_){var G=g.plot;if(!arguments.length)return G.rotate();G.rotate(_);return z};function A(){for(var G in s){if(s.hasOwnProperty(G)){s[G].datum(g[G].data()).call(g[G])}}if(T.isExist(g.dataLabel)){g.dataLabel()}}var B=0;function C(){if(n==++B){B=0;k.initialized()}};function D(G){k.showTooltip(G)};function E(G){k.hideTooltip(G)};return z};return r});sap.riv.module({qname:'sap.viz.data.feed.Constants',version:'4.0.0'},[{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(c){var f={Type:{Dimension:"Dimension",Measure:"Measure"},Constraints:{INF:Number.POSITIVE_INFINITY}};c.Feed=f;return f});sap.riv.module({qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},[{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.util.parseCSS',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'},{qname:'sap.viz.modules.Constants',version:'4.0.0'}],function Setup(m,F,O,p,T){var K=true;function l(a,b,c){var d=b.id;if(d===undefined){F.error("Cannot find module id in sub module config \"{0}\"",JSON.stringify(b))}var f=m.module.get(b.id,true);a.push({module:f,config:b,moduleRef:c,subModules:f.subModules(b,c)})}function e(a,k){var d={},n,b;for(n in a){if(a.hasOwnProperty(n)){b=a[n];if(b){if(k===true){d[n]=O.extend(true,{},b)}else{d[n]=b.supportedValueType==='Object'?e(b.supportedValues,!K):b.defaultValue}}}}return d}m.registerCategory("module",function(o){var d;var a;var c={};var b=o.css;for(var i in b){if(!b.hasOwnProperty(i)){continue}c[i]=b[i].value}var f=p(c);Object.defineProperties(o,{subModules:{value:function(g,h){var s;var j=O.extend(true,{},g.modules,g.controllers);if(!T.isEmptyObject(j)){s=[];var k;for(var n in j){if(j.hasOwnProperty(n)){k=j[n];if(k){l(s,k,h+'.'+n)}}}}return s}},props:{value:function(w){if(w===K){if(!a){a=e(o.properties,K)}return a}else{if(!d){d=e(o.properties,!K)}return O.extend(true,{},d)}}},execute:{value:function(g){g.styleManager.setDefault(f);return o.fn(o,g)}}});return o});m.module.loadModule=l;return m.module});sap.riv.module({qname:'sap.viz.modules.manifests.controller.Base',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(M,C){var m={'id':'sap.viz.modules.controller.base','abstract':true,'type':C.Module.Type.Controller,'name':'controller base module','properties':null,'events':null,'feeds':null};M.register(m)});sap.riv.module({qname:'sap.viz.util.BoundingBox',version:'4.0.0'},[],function Setup(){var c={};c.getBBox=function(n,r){var m;if(arguments.length===1){m=n.getCTM()}else{m=n.getTransformToElement(r)}return c.getBBoxHelp(n,m)};c.getBBoxHelp=function(n,m){var b=n.getBBox();var a=new Array();var p=d3.select('svg')[0][0].createSVGPoint();p.x=b.x;p.y=b.y;a.push(p.matrixTransform(m));p.x=b.x+b.width;p.y=b.y;a.push(p.matrixTransform(m));p.x=b.x+b.width;p.y=b.y+b.height;a.push(p.matrixTransform(m));p.x=b.x;p.y=b.y+b.height;a.push(p.matrixTransform(m));var d=a[0].x;var e=a[0].x;var f=a[0].y;var g=a[0].y;for(var i=1;i<a.length;i++){var x=a[i].x;var y=a[i].y;if(x<d){d=x}else if(x>e){e=x}if(y<f){f=y}else if(y>g){g=y}}return{x:d,y:f,width:e-d,height:g-f}};c.intersects=function(a,b){return(a.x<=(b.x+b.width)&&b.x<=(a.x+a.width)&&a.y<=(b.y+b.height)&&b.y<=(a.y+a.height))};c.intersection=function(b,a){if(c.intersects(b,a)){var x=Math.max(b.x,a.x),d=Math.min(b.x+b.width,a.x+a.width),y=Math.max(b.y,a.y),e=Math.min(b.y+b.height,a.y+a.height);return{x:x,y:y,width:d-x,height:e-y}}return null};return c});sap.riv.module({qname:'sap.viz.modules.controller.lasso',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.BoundingBox',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(T,a,O,b,B,C){return function(){var c=null;var g,m,f,p,h,k,l=[],n=[],s='multiple',o=[];var q,r,u={},v='.datapoint',w=false,z=false;var A=null,D=[],E=null,F=[];var G=function(){l=[]};var H=function(){return H};H.lastOvered=function(_){if(!arguments.length){return D}D=_;return H};H.unhighlightTarget=function(_){if(!arguments.length){return A}A=_;return H};H.lastHovered=function(_){if(!arguments.length){return F}F=_;return H};H.eventLayer=function(_){if(!arguments.length){return E}E=_;return H};H.registerEvent=function(){var t=m.modules();for(var i in t){if(t.hasOwnProperty(i)&&!(t[i]instanceof Array)&&t[i].parent()){l.push(t[i])}}g.on('mousedown.lasso',M,true);g.on('mousemove.lasso',P,true);g.on('mouseup.lasso',Q,true);$(g.node()).mouseleave(S)};H.dispatch=function(_){if(!arguments.length){return c}c=_;return H};H.properties=function(_){if(!arguments.length){return p}p=_;s=p.selectability&&p.selectability.mode?p.selectability.mode:'multiple';z=p.selectability&&p.selectability.selectWithCtrlKey;return H};H.isLasso=function(){return w};H.selected=function(_){if(!arguments.length){return n}n=_;return H};H.module=function(_){if(!arguments.length){return m}G();m=_,g=m.parent(),h=g.node();return H};var I=function(){var e=d3.event,d=!E.empty()?E.node():h,i=d.getBoundingClientRect(),x=e.clientX-i.left,y=e.clientY-i.top;return[x,y]};var J=function(d){var e=d.getBoundingClientRect();return{x:e.left,y:e.top,height:e.height,width:e.width}};var K=function(){if(d3.event){d3.event.stopPropagation();d3.event.preventDefault()}};var L=function(e,u){var i=[];e.filter(function(d,m){var j=J(this);if(B.intersects(j,u)){i.push(this)}});return i};var M=function(){if(s!=='multiple')return;if(z&&!(d3.event.ctrlKey)){return}q=I();r=g.append('rect').attr('x',q[0]).attr('y',q[1]).attr('width',0).attr('height',0).attr('pointer-events','none').attr('fill','rgba(64,176,240, 0.4)').style('stroke-width','2px').attr('stroke','rgb(64, 176, 240)');w=true;K()};var N=function(_){for(var i=0;i<l.length;i++){if(l[i].clear){l[i].clear(_)}}};var P=function(){if(s!=='multiple'||!w)return;var d=I(),x=Math.min(d[0],q[0]),y=Math.min(d[1],q[1]),e=Math.abs(d[0]-q[0]),i=Math.abs(d[1]-q[1]);r.attr('x',x).attr('y',y).attr('width',e).attr('height',i)};var Q=function(){var d={x:d3.event.clientX,y:d3.event.clientY};R(d)};var R=function(d){if(s!=='multiple'||!w)return;w=false;var e=r.node(),x=J(e),y=parseFloat(e.getAttribute('width')),W=parseFloat(e.getAttribute('height')),X=[],Y=[];setTimeout(function(){r.remove()},0);if(y||W){var Z,_,a1=false,b1=null,c1=[],d1=null,e1=null,f1=null;for(var i=0,g1=l.length;i<g1;i++){Z=l[i];_=null;if(b.isFunction(Z.getDatapointsInRect)){_=Z.getDatapointsInRect(r.node())}else{d1=Z.parent().select('rect.viz-event-sub-layer').node();e1=d1?J(d1):null;f1=e1?B.intersection(e1,x):x;if(!f1){continue}b1=Z.parent().selectAll('.datapoint');if(b1[0].length>0){_=L(b1,f1)}}if(_&&_.length>0){c1.push({plot:Z,selected:_})}}if(c1.length>0){if(n.length==0){A(n,false);N(true)}var Z=null,h1=null,i1=false,j1=O.extend(true,[],n);for(var i=0,g1=c1.length;i<g1;i++){Z=c1[i].plot,h1=c1[i].selected;for(var j=0,k1=h1.length;j<k1;j++){for(var t=0,l1=j1.length;t<l1;t++){if(h1[j]==j1[t]){i1=true;break}}if(i1){X.push(h1[j])}else{n.push(h1[j]);X.push(h1[j])}i1=false}Z.highlight(h1)}}else{if(n.length>0){A(n,false);N()}Y=Y.concat(n);n.splice(0,n.length)}if(X.length>0){U(X)}if(Y.length>0){V(Y)}for(var i=0,g1=D.length;i<g1;i++){if(D[i].plot.mouseout){D[i].plot.mouseout(D[i].target,true)}}D.splice(0,D.length);K()}};var S=function(e){if(w){var d={x:e.clientX,y:e.clientY};R(d);w=false}for(var i=0,j=F.length;i<j;i++){if(F[i].blurOut){F[i].blurOut()}}F.splice(0,F.length)};function U(d){var e=[];for(var i=0,t=d.length;i<t;i++){var x=[],y=d[i].__data__;if(y.val instanceof Array){for(var j=0,W=y.val.length;j<W;j++){x.push({val:y.val[j],ctx:y.ctx[j]})}}else{x.push({val:d[i].__data__.val,ctx:d[i].__data__.ctx})}e.push({target:d[i],data:x})}c.selectData({name:C.Module.Event.SelectData.name,data:e})};function V(d){var e=[];for(var i=0,t=d.length;i<t;i++){var x=[],y=d[i].__data__;if(y.val instanceof Array){for(var j=0,W=y.val.length;j<W;j++){x.push({val:y.val[j],ctx:y.ctx[j]})}}else{x.push({val:d[i].__data__.val,ctx:d[i].__data__.ctx})}e.push({target:d[i],data:x})}c.deselectData({name:C.Module.Event.DeSelectData.name,data:e})};return H}});sap.riv.module({qname:'sap.viz.modules.controller.interaction',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.controller.lasso',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'}],function Setup(T,d,l,b,C,O){return function(c){var g=null,m,e=[],s='multiple',f=[],h=[],o=c.props(null),q=l(),r=[];var u=true,v=[],w=null,x=[];var y=new d('selectData','deselectData','deselectLegend');var z={'mouseup':null,'mousemove':null,'mouseout':null,'mouseover':null,'touchstart':null},A=false,B=['mouseup','mousemove','mouseout','mouseover','touchstart'],D=null,E=false;var F=true,G=true,H=true,I=false;var J=function(){A=false;f=[];e.splice(0,e.length);v.splice(0,v.length);x.splice(0,x.length);for(var i=0,a=h.length;i<a;i++){h[i].remove()}h=[]};var K=function(){q.dispatch(y).selected(e).lastOvered(x).lastHovered(v).unhighlightTarget(U);return K};var L=function(_){for(var i=0;i<f.length;i++){if(f[i].clear){f[i].clear(_)}}};var M=function(t,a){var p=a.parent()[0][0].getBoundingClientRect();return(t.x>=p.left&&t.x<=p.left+p.width&&t.y>=p.top&&t.y<=p.top+p.height)};var N=function(){var n=[];for(var i=0,a=f.length;i<a;i++){if(f[i].parent()){n.push(f[i].parent().node())}}return n};var P=function(t,a){var n=t,p=a||N(),i;for(;n&&n.ownerSVGElement;n=n.parentNode){i=p.indexOf(n);if(i!==-1){return i}}return-1};var Q=function(t,n){var p=P(t,n);if(p!==-1){return f[p]}return null};var R=function(t){var p=N(),a=[];for(var i=0,j=f.length;i<j;i++){a.push([])}for(var i=0,j=t.length;i<j;i++){var k=t[i],n=P(k,p),$;if(n!==-1){$=a[n];$.push(k)}else{}}return a};var S=function(t){var p=Q(t);if(p&&p.highlight){p.highlight(t,s)}};var U=function(t,a){var j=b.isArray(t)?t:[t],k=R(j);for(var i=f.length-1;i>=0;i--){var p=f[i],n=k[i];if(n&&n.length>0&&p.unhighlight){p.unhighlight(n,a)}}};K.registerEvent=function(){if(A==false){A=true;var t=m.modules();for(var i in t){if(t.hasOwnProperty(i)&&!(t[i]instanceof Array)&&t[i].parent()){var a,j;if(t[i].getPreferredSize&&t[i].getPreferredSize()){a=t[i].getPreferredSize().height;j=t[i].getPreferredSize().width}else{a=t[i].height();j=t[i].width()}var k=t[i].parent().insert('rect','g').attr('width',j).attr('height',a).attr('opacity','0').attr('class','viz-event-sub-layer');h.push(k);f.push(t[i])}}if(!w){w=g.insert("rect","g").attr("x",0).attr("y",0).attr("fill-opacity",0);q.eventLayer(w)}w.attr("width",m.width()).attr("height",m.height());if(r!=null&&r instanceof Array){for(var i=0,n=r.length;i<n;i++){if(z[r[i]]){g.on(r[i]+'.interaction',z[r[i]])}}}if(u==true){q.registerEvent()}if(E===true){g.on('mousedown.preserveSelectionWhenDragging',function(){D=d3.mouse(g.node())},true)}}else{w.attr('width',m.width()).attr('height',m.height());q.eventLayer(w);for(var i=0,n=h.length;i<n;i++){h[i].attr('width',f[i].width()).attr('height',f[i].height())}for(var i=0,n=v.length;i<n;i++){if(v[i].blurOut){v[i].blurOut()}}v.splice(0,v.length);for(var i=0,n=x.length;i<n;i++){if(x[i].plot.mouseout){x[i].plot.mouseout()}}x.splice(0,x.length);if(I==false){e.splice(0,e.length)}}};K.getSelectionMode=function(){return s};K.highlightedByLegend=function(a,n){if(s==='single'||s==='none'){return}var p=[],t,$=true,_=[],a1=true,b1=[],c1=[],d1=[],e1=[],f1=[];for(var i=0,g1=f.length;i<g1;i++){_=[];if(a.ctx.ranges){if(f[i].getDatapointsByRange){_=f[i].getDatapointsByRange(a);b1.push({plot:f[i],ctxDatapoints:_})}}else{if(f[i].getDatapointsByLegend){_=f[i].getDatapointsByLegend(a);b1.push({plot:f[i],ctxDatapoints:_})}else{p=f[i].parent().selectAll('.datapoint')[0];for(var j=0,h1=p.length;j<h1;j++){if(p[j].__data__&&p[j].__data__.ctx){if(p[j].__data__.ctx.path){t=p[j].__data__.ctx.path}else{t=p[j].__data__.ctx[0].path}$=true;for(var k in t){if(a.ctx.path[k]!=undefined){if(a.ctx.path[k].length>0){if(V(a.ctx.path[k],t[k])===false){$=false}}else{if(a.ctx.path[k]!==t[k]){$=false}}}}if($===true){_.push(p[j])}}}if(p.length>0){b1.push({plot:f[i],ctxDatapoints:_})}}}}if(e.length===0){a1=false}else{var i1=0;for(var i=0,g1=b1.length;i<g1;i++){_=b1[i].ctxDatapoints;var j1=_.length;i1+=j1;for(var k=0;k<j1;k++){if(V(e,_[k])===false){a1=false;break}}}if(a1&&!i1){a1=false}}for(var i=0,g1=b1.length;i<g1;i++){_=b1[i].ctxDatapoints;e1=[],f1=[];for(var k=0,j1=_.length;k<j1;k++){var k1=V(e,_[k]);if(a1){f1.push(_[k]);e.splice(k1,1);d1.push(_[k])}else{if(e.length==0){L(true)}e1.push(_[k]);c1.push(_[k]);if(k1===false){e.push(_[k])}}}if(f1.length>0){b1[i].plot.unhighlight(f1,false,s)}if(e1.length>0){b1[i].plot.highlight(e1,false,s)}if(a1){y.deselectLegend(a)}if(e.length===0){L()}}if(c1.length>0){X(c1)}if(d1.length>0){Y(d1)}return a1};var V=function(a,j){for(var i=0;i<a.length;i++){if(a[i]===j){return i}}return false};K.dispatch=function(_){if(!arguments.length){return y}y=_;return K};z['mousemove']=function(){if(q.isLasso()||F==false){return}var a={x:d3.event.clientX,y:d3.event.clientY};var k=[];for(var i=0,n=f.length;i<n;i++){if(f[i].parent()&&M(a,f[i])){k.push(f[i])}}var p=false;for(var i=0,n=v.length;i<n;i++){for(var j=0,t=k.length;j<t;j++){if(v[i]==k[j]){p=true;break}}if(p==false&&v[i].blurOut){v[i].blurOut()}p=false}for(var i=0,n=k.length;i<n;i++){if(k[i].hoverOnPoint){var $=k[i].parent().node().getBoundingClientRect();k[i].hoverOnPoint({x:a.x-$.left,y:a.y-$.top})}}v.splice(0,v.length);for(var i=0,n=k.length;i<n;i++){v.push(k[i])}};z['mouseover']=function(){if(q.isLasso()||G==false){return}var t=d3.event.target,a=t.getAttribute('class');if(a!=null&&a.indexOf('datalabel')!=-1){t=t.__data__.dataShape}else{t=W(t);a=t.getAttribute('class')}if(a!=null&&(a.indexOf('datapoint')!=-1||a.indexOf('datalabel')!=-1)){var j=false;for(var i=0,k=e.length;i<k;i++){if(t===e[i]){j=true;break}}if(e.length==0){j=true}var p=Q(t);if(p){x.push({plot:p,target:t});if(p.mouseover){p.mouseover(t,j)}}}};z['mouseout']=function(){if(q.isLasso()||H==false){return}var t=d3.event.target,a=t.getAttribute('class');if(a!=null&&a.indexOf('datalabel')!=-1){t=t.__data__.dataShape}else{t=W(t);a=t.getAttribute('class')}if(a!=null&&(a.indexOf('datapoint')!=-1||a.indexOf('datalabel')!=-1)){var j=false;for(var i=0,k=e.length;i<k;i++){if(t===e[i]){j=true;break}}if(e.length==0){j=true}var p=Q(t);for(var i=0,k=x.length;i<k;i++){var n=x[i];if(n.target===t){x.splice(i,1);if(p.mouseout){p.mouseout(t,j)}break}}}};var W=function(n){if(n===g.node()){return n}else{var a=n.getAttribute('class');if(a!=null&&a.indexOf('datapoint')!=-1){return n}else{return W(n.parentNode)}}};z['mouseup']=function(){if(E&&D){var p=d3.mouse(g.node());if(Math.abs(p[0]-D[0])>5||Math.abs(p[1]-D[1])>5){return}}if(s!=='none'){var t=d3.event.target,a=t.getAttribute('class'),j=[],k=[];if(a!=null&&a.indexOf('datalabel')!=-1){t=t.__data__.dataShape}else{t=W(t);a=t.getAttribute('class')}if(a==null||(a.indexOf('datapoint')==-1&&a.indexOf('datalabel')==-1)){U(e,false);L();k=k.concat(e);e.splice(0,e.length);y.deselectLegend()}else{var n=false;for(var i=0,$=e.length;i<$;i++){if(t==e[i]){n=true;break}}if(e.length==0){L(true);S(t);e.push(t);j.push(t)}else{if(n){if(s=='single'){U(e[0]);L();e.splice(0,e.length);k.push(t)}else{var _=e.splice((i),1);k=k.concat(_);if(e.length==0){U(t);L()}else{U(t);k.push(t)}}}else{if(s=='single'){U(e[0]);k.push(e[0]);S(t);j.push(t);e[0]=t}else{j.push(t);S(t);e.push(t)}}}}if(j.length>0){X(j)}if(k.length>0){Y(k)}}};z['touchstart']=z['mouseup'];function X(a){var k=[];for(var i=0,n=a.length;i<n;i++){var t=[],p=a[i].__data__;if(p.val instanceof Array){for(var j=0,$=p.val.length;j<$;j++){t.push({val:p.val[j],ctx:p.ctx[j]})}}else{t.push({val:a[i].__data__.val,ctx:a[i].__data__.ctx})}k.push({target:a[i],data:t})}y.selectData({name:C.Module.Event.SelectData.name,data:k})};function Y(a){var k=[];for(var i=0,n=a.length;i<n;i++){var t=[],p=a[i].__data__;if(p.val instanceof Array){for(var j=0,$=p.val.length;j<$;j++){t.push({val:p.val[j],ctx:p.ctx[j]})}}else{t.push({val:a[i].__data__.val,ctx:a[i].__data__.ctx})}k.push({target:a[i],data:t})}y.deselectData({name:C.Module.Event.DeSelectData.name,data:k})};function Z(){s=o.selectability.mode;r=o.supportedEventNames;F=o.enableMouseMove;G=o.enableMouseOver;H=o.enableMouseOut;u=o.supportLassoEvent;I=o.holdSelection;E=o.preserveSelectionWhenDragging}K.properties=function(_){if(!arguments.length){return o}O.extend(true,o,_);q.properties(o);Z()};K.module=function(_){if(!arguments.length){return m}J();m=_,g=m.parent();q.module(_);return K};return K}});sap.riv.module({qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.controller.interaction',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Base',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.controller.interaction','name':'selection','base':"sap.viz.modules.controller.base",'description':'Settings for the interactions of the chart.','properties':{'selectability':{'name':'selectability','supportedValueType':'Object','supportedValues':{mode:{'name':'mode','supportedValueType':'List','supportedValues':['single','multiple','none'],'defaultValue':'multiple','description':'Set the selection mode. Single means you only can select one at the same time. Multiple means you can select several ones. None means you can not select anything. '},selectWithCtrlKey:{name:"selectWithCtrlKey",supportedValueType:"Boolean",defaultValue:false,description:"Set whether lasso selection needs ctrl key pressed.",isExported:false}},'description':'Settings for selectability.'},supportedEventNames:{name:"supportedEventNames",supportedValueType:"StringArray",supportedValues:['mouseup','mousemove','mouseout','mouseover','touchstart'],defaultValue:['mouseup','mousemove','mouseout','mouseover','touchstart'],description:"Set supported event names.",isExported:false},enableMouseMove:{name:"enableMouseMove",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse move is enabled.",isExported:false},enableMouseOver:{name:"enableMouseOver",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse over is enabled.",isExported:false},enableMouseOut:{name:"enableMouseOut",supportedValueType:"Boolean",defaultValue:true,description:"Set whether mouse out is enabled.",isExported:false},supportLassoEvent:{name:"supportLassoEvent",supportedValueType:"Boolean",defaultValue:true,description:"Set whether support lasso event is enabled.",isExported:false},holdSelection:{name:"holdSelection",supportedValueType:"Boolean",defaultValue:false,description:"Set whether hold selection is enabled.",isExported:false},preserveSelectionWhenDragging:{name:"preserveSelectionWhenDragging",supportedValueType:"Boolean",defaultValue:false,description:"Set whether preserve selection when dragging is enabled.",isExported:false}},'fn':f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.tooltip',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.format.FormatManager',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(D,O,f,T,a,l){var t=function(b,c){var d={singleMeasure:{label:{font:'bold 11px sans-serif',color:'#333333'},value:{font:'bold 14px sans-serif',color:'#333333'},padding:{vertical:9,horizontal:10}},multipleMeasure:{label:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:'#333333'},value:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:'#333333'},padding:{vertical:8,horizontal:10,inline:6,symbolGap:7,defaultSpace:8}},title:{color:'#333333',font:"bold 13px 'Open Sans', Arial, Helvetica, sans-serif",formatString:''},footer:{label:{font:"bold 10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:'#333333'},value:{font:"10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:'#333333'},padding:{inline:6}},valueFormat:[],labelFormat:[],maxDimensionLabelWidth:150,maxMeasureLabelWidth:80};var e={padding:5,radius:4,markerWidth:12,markerHeight:8,borderWidth:2};var g={tooltip:null,tooltipRB:null,dimensionLabel:null,separateLine:null,measureLabels:[],measureMarks:[],valueLabels:[]};var h={offset:undefined};var n={backgroundColor:'#ffffff',borderColor:'#000000',separateLineColor:['#ffffff','#8a8a8a','#ffffff'],separateLineSingleColor:'#AAAAAA',guideLineColor:'#AAAAAA'};var o={arcA:'A',lineToA:'L',moveToA:'M',closePath:'z'};var p={symbolSize:8,hasSymbol:false};var q='tooltipsymbol',s='tooltipparagraphtitle',u='tooltipparagraphlabel',v='tooltipparagraphvalue',w='tooltipfooterlabel',z='tooltipfootervalue';var A=null,B=null;var C=0,E=0,F=0,G=c.effectManager,H={width:200,height:100},I={width:160,height:70,x:0,y:0},J={},K=null,L={isTruncated:false,currentFooterIndex:-1,currentBodyIndex:-1,defaultValue:'...',font:'bold 20px Arial',color:'#000000'};var M=l.get('IDS_ISNOVALUE');var N=function(_){if(_===null||_===undefined){return M}else{return _}};function P(){L.isTruncated=false;L.currentFooterIndex=-1;L.currentBodyIndex=-1}function t(i){A=d3.select(i).append('svg').style('position','absolute').attr('pointer-events','none').attr('width','0').attr('height',0).attr('class','tooltip');return t}function Q(A,j){var k=d.multipleMeasure.padding.inline,m=d.multipleMeasure.padding.vertical,r=d.multipleMeasure.label.font,x=d.multipleMeasure.value.font,y=d.footer.padding.inline,_=d.footer.label.font,p1=d.title.font;var E=0,q1=j.body,r1=j.footer;if(q1&&q1.length>0){E=m;if(r1&&r1.length>0){var s1=0;if(q1[0].name!==null){s1=f1(A,q1[0].name,p1).height+k+f1(A,L.defaultValue,L.font).height}if(r1[0].label!==null){var t1=f1(A,r1[0].label,_);E+=m*3;E+=(r1.length*t1.height+y*(r1.length-1));E+=s1;if(E>H.height){L.isTruncated=true;L.currentBodyIndex=0;var u1=0;while(E>H.height){E-=t1.height;E-=y;u1++}L.currentFooterIndex=r1.length-u1-1;return E}E-=s1}}else{E+=m}var v1=0,w1=0;for(var i=0;i<q1.length;i++){v1++;w1+=q1[i].val.length}if(q1[0].name!==null){E+=(v1*f1(A,q1[0].name,p1).height)}var x1=0;if(q1[0].val.length>0){if(q1[0].val[0].label!==null){x1=f1(A,q1[0].val[0].label,r).height}if(q1[0].val[0].value!==null){var y1=f1(A,q1[0].val[0].value,x).height;if(y1>x1){x1=y1}}E+=(w1*x1)}E+=(k*(v1+w1-1));if(E>H.height){L.isTruncated=true;var z1=0;while(E>H.height){E-=x1;E-=k;z1++}L.currentBodyIndex=v1+w1-z1-2;var A1=f1(A,L.defaultValue,L.font);return E+(A1.height-x1)}}else if(r1&&r1.length>0){if(r1[0].label!==null){var B1=f1(A,r1[0].label,_);E+=m;E+=(r1.length*B1.height+y*(r1.length-1));if(E>H.height){L.isTruncated=true;var C1=0;while(E>H.height){E-=B1.height;E-=y;C1++}L.currentFooterIndex=r1.length-C1-1;var D1=f1(A,L.defaultValue,L.font);return E+(D1.height-B1.height)}}}return E}function R(A,i){var C=0,m=d.multipleMeasure.padding.horizontal,j=d.multipleMeasure.padding.symbolGap,k=d.multipleMeasure.padding.defaultSpace,r=p.symbolSize;C=F+(m*2)+k;if(p.hasSymbol){C+=r+j}return C}function S(A,k){var r=0,x=0,y=k.body,_=k.footer;if(y){for(var i=0;i<y.length;i++){if(y[i].name!==null){x=f1(A,y[i].name,d.title.font).width;if(x>r){r=x}}var p1=y[i].val;if(p1){if(p1.length===1&&(p1[0].value!==null)){var q1=f1(A,p1[0].value,d.multipleMeasure.value.font);p.symbolSize=q1.height*0.8;p.hasSymbol=true;if(q1.width>r){r=q1.width}}else if(p1.length>1){if(p1[0].label!==null){if(p1[0].shape!==null&&p1[0].color!==null){p.symbolSize=f1(A,p1[0].label,d.multipleMeasure.label.font).height*0.8;p.hasSymbol=true}}if(p1[0].value!==null){if(p1[0].shape!==null&&p1[0].color!==null){p.symbolSize=f1(A,p1[0].value,d.multipleMeasure.value.font).height*0.8;p.hasSymbol=true}}for(var j=0;j<p1.length;j++){if((p1[j].label!==null)&&(p1[j].value!==null)){x=f1(A,p1[j].label,d.multipleMeasure.label.font).width+f1(A,p1[j].value,d.multipleMeasure.value.font).width;if(x>r){r=x}}else if(p1[j].label!==null){x=f1(A,p1[j].label,d.multipleMeasure.label.font).width;if(x>r){r=x}}else if(p1[j].value!==null){x=f1(A,p1[j].value,d.multipleMeasure.value.font).width;if(x>r){r=x}}}}}}}if(_){for(var m=0;m<_.length;m++){var r1=_[m];if(r1.label&&r1.value){x=f1(A,r1.label,d.footer.label.font).width+f1(A,r1.value,d.footer.value.font).width;if(x>r){r=x}}}}return r}function U(i,j){var k='',r,m,x;switch(i){case'circle':r=j/2;k="M0,"+r+"A"+r+","+r+" 0 1,1 0,"+(-r)+"A"+r+","+r+" 0 1,1 0,"+r+"Z";break;case"cross":m=j/6;x=j/6;k="M"+-3*m+","+-x+"H"+-m+"V"+-3*x+"H"+m+"V"+-x+"H"+3*m+"V"+x+"H"+m+"V"+3*x+"H"+-m+"V"+x+"H"+-3*m+"Z";break;case"triangle-down":m=j/2;x=j/2;k="M0,"+x+"L"+m+","+-x+" "+-m+","+-x+"Z";break;case"triangle-up":m=j/2;x=j/2;k="M0,"+-x+"L"+m+","+x+" "+-m+","+x+"Z";break;case"diamond":m=j/2;x=j/2;k="M0,"+-x+"L"+m+",0"+" 0,"+x+" "+-m+",0"+"Z";break;case'squareWithRadius':r=j/2;var y=r-3;k="M0,"+-r+"L"+-y+","+-r+"Q"+-r+","+-r+" "+-r+","+-y+"L"+-r+","+y+"Q"+-r+","+r+" "+-y+","+r+"L"+y+","+r+"Q"+r+","+r+" "+r+","+y+"L"+r+","+-y+"Q"+r+","+-r+" "+y+","+-r+"Z";break;case'square':r=j/2;k="M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z";break;case"triangle-left":m=j/2;x=j/2;k="M"+-m+",0L"+m+","+x+" "+m+","+-x+"Z";break;case"triangle-right":m=j/2;x=j/2;k="M"+m+",0L"+-m+","+x+" "+-m+","+-x+"Z";break;case"intersection":m=j/2;x=j/2;k="M"+m+','+x+' '+m/3+',0 '+m+','+-x+' '+m/2+','+-x+' 0,'+-x/3+' '+-m/2+','+-x+' '+-m+','+-x+' '+-m/3+',0 '+-m+','+x+' '+-m/2+','+x+' 0,'+x/3+' '+m/2+','+x;break}return k}function V(A,i,j,k,m,r){var x={drawingEffect:J.drawingEffect,fillColor:k,graphType:j,direction:'vertical'};var y=G.register(x);A.append('path').attr('d',U(j,m)).attr('transform','translate('+i.x+','+i.y+')').attr('fill',y).attr('class',r)}function W(A,m,r,x){var y=m.x,_=m.y-e.radius/2;var p1=e.markerWidth,q1=e.markerHeight;if(x==='left'){y+=q1}if(x==='top'){_+=q1}var r1=d.multipleMeasure.padding.horizontal,s1=d.multipleMeasure.padding.vertical,t1=d.multipleMeasure.padding.inline,u1=d.multipleMeasure.padding.symbolGap,v1=d.multipleMeasure.padding.defaultSpace;var w1=p.symbolSize,x1=p.hasSymbol;var y1=d.title.color,z1=d.title.font;var A1=d.multipleMeasure.label.font,B1=d.multipleMeasure.label.color,C1=d.singleMeasure.label.font,D1=d.singleMeasure.label.color;var E1=d.multipleMeasure.value.font,F1=d.multipleMeasure.value.color,G1=d.singleMeasure.value.font,H1=d.singleMeasure.value.color;var I1=d.footer.padding.inline,J1=d.footer.label.font,K1=d.footer.value.font,L1=d.footer.label.color,M1=d.footer.value.color;var N1=r.body,O1=r.footer;var P1=-1,Q1=-1;var R1={x:0,y:0};var S1=false;if(N1){for(var i=0;i<N1.length;i++){if(S1){break}var T1=N1[i];if(T1.name){var U1=f1(A,T1.name,z1);var V1=U1.height;R1.x=y+r1;if(i===0){R1.y=_+V1+s1}else{R1.y+=(_+V1+t1)}m1(A,R1,T1.name,y1,z1,s);P1++;if(L.isTruncated&&P1===L.currentBodyIndex){var W1=f1(A,L.defaultValue,L.font);R1.x=y+(C-W1.width-r1);R1.y+=(t1+W1.height);m1(A,R1,L.defaultValue,L.color,L.font,v);break}}if(T1.val.length>0){if(T1.val.length>1){var X1=null,Y1=null,Z1=null;for(var j=0;j<T1.val.length;j++){if((T1.val[j].shape!==null)&&(T1.val[j].color!==null)&&(T1.val[j].label!==null)&&(T1.val[j].value!==null)){X1=f1(A,T1.val[j].label,A1);Y1=f1(A,T1.val[j].value,E1);Z1=(X1.height>=Y1.height)?X1.height:Y1.heigth;R1.x=y+r1+w1/2;R1.y+=(t1+Z1);V(A,{x:R1.x,y:(R1.y-w1/2)},T1.val[j].shape,T1.val[j].color,w1,q);R1.x=y+r1+w1+u1;m1(A,R1,T1.val[j].label,B1,A1,u);R1.x=y+(C-Y1.width-r1);m1(A,R1,T1.val[j].value,F1,E1,v)}else if((T1.val[j].shape!==null)&&(T1.val[j].color!==null)&&(T1.val[j].label!==null)){X1=f1(A,T1.val[j].label,A1);R1.x=y+r1+w1/2;R1.y+=(t1+X1.height);V(A,{x:R1.x,y:(R1.y-w1/2)},T1.val[j].shape,T1.val[j].color,w1,q);R1.x=y+r1+w1+u1;m1(A,R1,T1.val[j].label,B1,A1,u)}else if((T1.val[j].shape!==null)&&(T1.val[j].color!==null)&&(T1.val[j].value!==null)){Y1=f1(A,T1.val[j].value,E1);R1.x=y+r1+w1/2;R1.y+=(t1+Y1.height);V(A,{x:R1.x,y:(R1.y-w1/2)},T1.val[j].shape,T1.val[j].color,w1,q);R1.x=y+C-Y1.width-r1;m1(A,R1,T1.val[j].value,F1,E1,v)}else if((T1.val[j].label!==null)&&(T1.val[j].value!==null)){X1=f1(A,T1.val[j].label,A1);Y1=f1(A,T1.val[j].value,E1);Z1=(X1.height>=Y1.height)?X1.height:Y1.heigth;R1.x=y+r1;R1.y+=(t1+Z1);m1(A,R1,T1.val[j].label,B1,A1,u);R1.x=y+(C-Y1.width-r1);m1(A,R1,T1.val[j].value,F1,E1,v)}P1++;if(L.isTruncated&&P1===L.currentBodyIndex){var $1=f1(A,L.defaultValue,L.font);R1.x=y+(C-$1.width-r1);R1.y+=(t1+$1.height);m1(A,R1,L.defaultValue,L.color,L.font,v);S1=true;break}}}else if(T1.val.length===1){if(T1.val[0].value!==null){var _1=f1(A,T1.val[0].value,E1);R1.y+=(t1+_1.height);if(J.chartType==='heatmap'||J.chartType==='treemap'||J.chartType==='tagcloud'||J.chartType==='geo'||J.chartType==='mekko'){R1.x=y+(C-_1.width-r1)}else if(T1.val[0].shape!==null&&T1.val[0].color!==null){R1.x=y+r1+w1/2;V(A,{x:R1.x,y:(R1.y-w1/2)},T1.val[0].shape,T1.val[0].color,w1,q);R1.x=y+(C-_1.width-r1)}m1(A,R1,T1.val[0].value,F1,E1,v);P1++;if(L.isTruncated&&P1===L.currentBodyIndex){var a2=f1(A,L.defaultValue,E1);R1.x=y+(C-a2.width-r1);R1.y+=(t1+a2.height);m1(A,R1,L.defaultValue,L.color,L.font,v);break}}}}}}if(O1&&O1.length>0){var b2={x:y,y:R1.y+s1};var c2={x:y+C,y:R1.y+s1};A.append('line').attr('x1',b2.x+1).attr('y1',b2.y).attr('x2',c2.x-1).attr('y2',c2.y).style('stroke',n.separateLineSingleColor).style('stroke-width',1).style('shape-rendering','crispEdges');R1.y+=(s1*2);for(var k=0;k<O1.length;k++){if(T.isExist(O1[k].label)&&T.isExist(O1[k].value)){var d2=f1(A,O1[k].label,J1),e2=f1(A,O1[k].value,K1);R1.x=y+r1;if(k>0){R1.y+=I1}R1.y+=(d2.height);m1(A,R1,O1[k].label,L1,J1,w);R1.x=y+(C-e2.width-r1);m1(A,R1,O1[k].value,M1,K1,z);Q1++;if(L.isTruncated&&Q1===L.currentFooterIndex){break}}}}}var X=function(k){if(T.isExist(J.formatString)){var m=k.body,r,x=1,y=0,_=1,p1=0,q1=k.valueAxis0Count,r1=k.valueAxis1Count;var s1=0,t1=0;var u1=J.formatString;var v1,w1;if(T.isExist(m)){for(var i=0,x1=m.length;i<x1;i++){r=m[i];if(T.isExist(r.val[0].valueAxis)){w1=r.val[0].valueAxis}else{w1=0}v1=u1[w1];if(T.isExist(v1)){var y1=0;if(w1===0){y1=s1>=v1.length?v1.length-1:s1;s1++}else if(w1===1){y1=t1>=v1.length?v1.length-1:t1;t1++}for(var j=0,z1=r.val.length;j<z1;j++){r.val[j].value=f.format(r.val[j].value,v1[y1])}}}}}return k};t.showTooltip=function(i){var j=a.extend(true,{},i.data);j=X(j);if(B!==null){B.remove()}if(J.visible){if(j.plotArea){t.plotArea(j.plotArea)}K=J.orientation;B=A.append('svg:g');o1();F=S(A,j);C=R(B,j);E=Q(B,j);var k=C,m=E;if(K==='top'||K==='bottom'){m+=e.markerHeight}if(K==='left'||K==='right'){k+=e.markerHeight}A.attr('width',k+e.padding).attr('height',m+e.padding);var r=Z(j.point,I,H,C,E);c1(B,{x:0,y:0,absoluteMarkerOffset:r.absoluteMarkerOffset},C,E,K);W(B,{x:0,y:0},j,K);A.style('left',r.x+'px').style('top',r.y+'px');P()}};t.hideTooltip=function(){if(B!==null){B.remove();A.attr('width',0).attr('height',0);B=null}};function Y(i){if(i.labels){p.symbolSize=f1(A,i.labels[0].label,d.multipleMeasure.label.font).height}}function Z(i,I,H,C,E){var j={x:0,y:0,absoluteMarkerOffset:0};var k=J.chartType;var m=e.markerHeight,r=e.markerWidth;var _=0,p1=0,q1=0,r1=0;if(J.chartType===undefined){j.x=i.x;j.y=i.y-E/2}else if(k==='heatmap'||k==='treemap'||k==='tagcloud'){if(K==='bottom'){var s1=H.height-i.y+E+m;if(s1>H.height){K='top';j.y=i.y}else{j.y=i.y-E-m}}var t1;if(k==='heatmap'||k==='treemap'||k==='tagcloud'){t1=a1(i,I,H,C)}else{t1=$(i,I,H,C)}j.x=t1.x;j.absoluteMarkerOffset=t1.absoluteMarkerOffset}else if(k==='line'||k==='verticalboxplot'||k==='verticalbar'){if(K==='left'){var u1=i.x+C+m;if(u1>H.width){K='right';j.x=i.x-C-m}else{j.x=i.x+m}}if(E/2<I.y){j.y=I.y-(E-r)/2}else{j.y=0}}else if(k==='radar'){_=0;p1=0;q1=0;r1=0;var x=0,y=0;K=i.orientation;j.x=i.x;j.y=i.y-E/2;if(i.orientation==='right'){j.x-=(C+m)}if(i.orientation==='left'){_=i.x+C+m-H.width}if(i.orientation==='right'){p1=i.x-C-m}q1=i.y-E/2;r1=i.y+E/2-H.height;if(_<=0&&p1>=0&&q1>=0&&r1<=0){return j}if(_>0&&_>i.range.x){return j}if(p1<0&&Math.abs(p1)>i.range.x){return j}if(q1<0&&Math.abs(q1)>i.range.y){return j}if(r1>0&&r1>i.range.y){return j}var v1=i.angle*180/Math.PI,w1=i.angle;if(v1>=0){if(v1===0&&_>0){j.x-=_}else if(v1===90&&q1<0){j.y-=q1}else if(v1===180&&p1<0){j.x-=p1}else if(v1>0&&v1<90){if(q1<0&&_>0){var x1=Math.abs(q1);if(x1>=_){y=x1;x=y/Math.tan(w1)}else{x=_;y=x*Math.tan(w1)}}else if(q1<0&&_<=0){y=Math.abs(q1);x=y/Math.tan(w1)}else if(q1>=0&&_>0){x=_;y=x*Math.tan(w1)}j.x-=x;j.y+=y}else if(v1>90&&v1<180){if(q1<0&&p1<0){var y1=Math.abs(q1),z1=Math.abs(p1);if(y1>=z1){y=y1;x=y/Math.tan(Math.PI-w1)}else{x=z1;y=x*Math.tan(Math.PI-w1)}}else if(q1<0&&p1>=0){y=Math.abs(q1);x=y/Math.tan(Math.PI-w1)}else if(q1>=0&&p1<0){x=Math.abs(p1);y=x*Math.tan(Math.PI-w1)}j.x+=x;j.y+=y}}else{var A1=Math.abs(v1);if(A1===0&&_>0){j.x-=_}else if(A1===90&&r1>0){j.y-=r1}else if(A1===180&&p1<0){j.x-=p1}else if(A1>0&&A1<90){if(r1>0&&_>0){if(r1>=_){y=r1;x=y/Math.tan(Math.abs(w1))}else{x=_;y=x*Math.tan(Math.abs(w1))}}else if(r1>0&&_<=0){y=r1;x=y/Math.tan(Math.abs(w1))}else if(r1<=0&&_>0){x=_;y=x*Math.tan(Math.abs(w1))}j.x-=x;j.y-=y}else if(A1>90&&A1<180){if(r1>0&&p1<0){var B1=Math.abs(p1);if(r1>=B1){y=r1;x=y/Math.tan(Math.PI-Math.abs(w1))}else{x=B1;y=x*Math.tan(Math.PI-Math.abs(w1))}}else if(r1>0&&p1>=0){y=r1;x=y/Math.tan(Math.PI-Math.abs(w1))}else if(r1<=0&&p1<0){x=Math.abs(p1);y=x*Math.tan(Math.PI-Math.abs(w1))}j.x+=x;j.y-=y}}}else if(k==='geo'&&K==='left'){q1=i.y-E/2;r1=i.y+E/2-H.height;j.y=q1;if(I.x+I.width+C-m>H.width){j.x=I.x-I.width-C;K='right'}else{j.x=I.x+I.width-m}if(q1<0){j.y=0;j.absoluteMarkerOffset=q1}if(r1>0){j.y=H.height-E;j.absoluteMarkerOffset=r1}}else{if(J.orientation==='left'){_=I.x+I.width+C+m-H.width;q1=i.y-E/2;r1=i.y+E/2-H.height;j.y=i.y-E/2;if(_>0){j.x=H.width-m-C}else{j.x=I.x+I.width-m}if(q1<0){j.y=0;j.absoluteMarkerOffset=q1}if(r1>0){j.y=H.height-E;j.absoluteMarkerOffset=r1}}else if(J.orientation==='bottom'){var C1=I.y-E;if(C1<0){j.y=0}else{j.y=I.y-E}var D1;if(k==='heatmap'||k==='treemap'||k==='tagcloud'){D1=a1(i,I,H,C)}else{D1=$(i,I,H,C)}j.x=D1.x;j.absoluteMarkerOffset=D1.absoluteMarkerOffset}}return j}function $(i,I,H,C){var j={x:0,absoluteMarkerOffset:0};var k=C/2-(i.x-I.x)+I.width;var r=i.x-I.x+C/2;if(k>H.width){j.x=I.x;j.absoluteMarkerOffset=i.x-I.x-C/2}else if(r>H.width){j.x=I.x+(I.width-C);j.absoluteMarkerOffset=I.width-(i.x-I.x)-C/2}else{j.x=i.x-C/2;j.absoluteMarkerOffset=0}return j}function a1(i,I,H,C){var j={x:0,absoluteMarkerOffset:0};var k=C-(i.x-I.x)+I.width;var r=i.x-I.x+C;if(k>H.width){j.x=I.x;j.absoluteMarkerOffset=i.x-I.x-C/2}else if(r>H.width){j.x=I.x+(I.width-C);if(j.x+C>I.width){j.absoluteMarkerOffset=i.x-I.x-I.width+C/2}else{j.absoluteMarkerOffset=I.width-(i.x-I.x)-C/2}}else{j.x=i.x-C/2;j.absoluteMarkerOffset=0}return j}function b1(i,I,H,E){var j={y:0,absoluteMarkerOffset:0};var k=I.height+(E/2-(i.y-I.y));var m=i.y-I.y+E/2;if(k>H.height){j.y=I.y;j.absoluteMarkerOffset=i.y-I.y-E/2}else if(m>H.height){j.y=I.y+I.height-E;j.absoluteMarkerOffset=i.y-(I.height-E)-I.y-E/2}else{j.y=i.y-E/2;j.absoluteMarkerOffset=0}return j}function c1(A,i,j,k,m){var x=i.x,y=i.y,r=i.absoluteMarkerOffset,_=e.radius,p1=e.markerWidth,q1=e.markerHeight;var r1=' ';var s1=o.lineToA,t1=o.moveToA,u1=o.arcA,v1=o.closePath;if(m==='left'){x+=q1}if(m==='top'){y+=q1}var w1=t1+r1+x+r1+(y+_)+r1;if(m==='left'){w1+=s1+r1+x+r1+(y+k/2+r-p1/2)+r1;w1+=s1+r1+(x-q1)+r1+(y+k/2+r)+r1;w1+=s1+r1+x+r1+(y+k/2+r+p1/2)+r1}w1+=s1+x+r1+(y+k-_)+r1;w1+=u1+r1+_+r1+_+r1+'0'+r1+'0'+r1+'0'+r1+(x+_)+r1+(y+k)+r1;if(m==='bottom'){w1+=s1+r1+(x+j/2+r-p1/2)+r1+(y+k)+r1;w1+=s1+r1+(x+j/2+r)+r1+(y+k+q1)+r1;w1+=s1+r1+(x+j/2+r+p1/2)+r1+(y+k)+r1}w1+=s1+r1+(x+j-_)+r1+(y+k)+r1;w1+=r1+u1+r1+_+r1+_+r1+'0'+r1+'0'+r1+'0'+r1+(x+j)+r1+(y+k-_)+r1;if(m==='right'){w1+=s1+r1+(x+j)+r1+(y+k/2+r+p1/2)+r1;w1+=s1+r1+(x+j+q1)+r1+(y+k/2-r)+r1;w1+=s1+r1+(x+j)+r1+(y+k/2+r-p1/2)+r1}w1+=s1+r1+(x+j)+r1+(y+_)+r1;w1+=r1+u1+r1+_+r1+_+r1+'0'+r1+'0'+r1+'0'+r1+(x+j-_)+r1+y+r1;if(m==='top'){w1+=s1+r1+(x+j/2+r+p1/2)+r1+y+r1;w1+=s1+r1+(x+j/2+r)+r1+(y-q1)+r1;w1+=s1+r1+(x+j/2+r-p1/2)+r1+y+r1}w1+=s1+r1+(x+_)+r1+y+r1;w1+=u1+r1+_+r1+_+r1+'0'+r1+'0'+r1+'0'+r1+x+r1+(y+_)+r1;w1+=v1;A.append('path').attr('d',w1).attr('fill',n.backgroundColor).attr('stroke',n.borderColor).style('stroke-width',1).style('-webkit-svg-shadow','3px 3px 8px rgba(0, 0, 0, 0.3)')}function d1(r){var i;if(r.info){var j=r.info.customlabel;if(j){if(j.type==='url'){i=r.val}else if(j.type==='string'){i=j.val}}else{i=r.val}}else{i=r.val}i=N(i);return i}function e1(r){var i=[];if(T.isPlainObject(r)){i.push(d1(r))}else if(T.isArray(r)){r.forEach(function(j,k){i.push(e1(j))},this)}else{i.push(r)}return i}function f1(A,i,j){var r=e1(i);var k=r.join('*');var m=A.append('svg:text').attr('x',0).attr('y',0).attr('visibility','hidden').style('font',j).text(k);var x=m.node().getBBox();m.remove();return x}function g1(A,j){var m=0,k=0;if(j.title!==null){if(j.labels.length>0){var r=f1(A,j.title,d.title.font);var x=r.width;for(var i=0,y=j.labels.length;i<y;i++){k=f1(A,j.labels[i].label,d.multipleMeasure.label.font).width+f1(A,j.labels[i].value,d.multipleMeasure.value.font).width;if(k>x){x=k}}m=x}}else{m=f1(A,j.labels[0].label,d.singleMeasure.label.font).width;k=f1(A,j.labels[0].value,d.singleMeasure.value.font).width;if(k>m){m=k}}return m}function h1(A,i){var C=0,j=p.symbolSize;var k=d.singleMeasure.padding.horizontal,m=d.multipleMeasure.padding.horizontal,r=d.multipleMeasure.padding.symbolGap,x=d.multipleMeasure.padding.defaultSpace;if(i.title!==null){C=F+(m*2)+x;if(i.shapes&&i.colors){C+=j+r}}else{C=F+(k*2)}return C}function i1(A,i){var j=d.multipleMeasure.padding.inline,m=d.multipleMeasure.padding.vertical,k=d.singleMeasure.padding.vertical;var r=d.multipleMeasure.value.font,x=d.singleMeasure.value.font;var y=d.title.font;var E=0;if(i.title!==null){E=(m*3)+(j*(i.labels.length-1))+f1(A,i.title,y).height+f1(A,i.labels[0].value,r).height*i.labels.length}else{E=(k*3)+f1(A,i.labels[0].value,x).height}return E}function j1(A){var i=A.append('svg:defs').append('svg:linearGradient').attr('id','tooltipGradient1').attr('x1','0%').attr('y1','0%').attr('x2','80%').attr('y2','0%').attr('x3','100%').attr('y3','0%');i.append('svg:stop').attr('offset','30%').attr('style','stop-color:'+n.separateLineColor[0]);i.append('svg:stop').attr('offset','60%').attr('style','stop-color:'+n.separateLineColor[1]);i.append('svg:stop').attr('offset','100%').attr('style','stop-color:'+n.separateLineColor[2])}function k1(A,i,j,k,m){var r=d3.svg.symbol().type(k).size(j*j);var x={drawingEffect:J.drawingEffect,fillColor:m,graphType:k,direction:'vertical'};var y=G.register(x);A.append('path').attr('d',r).attr('transform','translate('+i.x+','+i.y+')').attr('fill',y)}function l1(A,i,j,k,m){A.append('text').attr('x',i.x).attr('y',i.y).attr('fill',k).style('font',m).text(j)}function m1(A,i,j,k,m,r){var x=e1(j);var y=x.join('/');A.append('text').attr('x',i.x).attr('y',i.y).attr('fill',k).style('font',m).text(y).attr('class',r)}function n1(A,i,j){}t.zone=function(_){if(!arguments.length){return H}H=_;return this};t.plotArea=function(_){if(!arguments.length){return I}I=_;return this};t.properties=function(_){if(!arguments.length){return J}O.extend(true,J,_);return this};function o1(){var i;i=c.styleManager.query('viz-tooltip-background');if(i&&(i['fill'])&&(n.backgroundColor!==i['fill'])){n.backgroundColor=i['fill']}i=c.styleManager.query('viz-tooltip-title');if(i&&(i['fill'])&&(d.title.color!==i['fill'])){d.title.color=i['fill']}i=c.styleManager.query('viz-tooltip-label');if(i&&i['fill']){d.singleMeasure.label.color=i['fill'];d.multipleMeasure.label.color=i['fill']}i=c.styleManager.query('viz-tooltip-value');if(i&&i['fill']){d.singleMeasure.value.color=i['fill'];d.multipleMeasure.value.color=i['fill']}}J=b.props(null);return t};return t});sap.riv.module({qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.tooltip',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.tooltip','type':C.Module.Type.Supplementary,'name':'tooltip','description':'Settings for the tooltip that appears when the user hovers over a series or point.','properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of tooltip.'},'drawingEffect':{'name':'drawingEffect','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of Tooltip.','isExported':true},'formatString':{'name':'formatString','supportedValueType':'Two-Dimensions-Array','defaultValue':null,'description':'Set format string of tooltip. As we may have dual axis with serveral measures, the first array is applied to primary axis and the second one is applied to the second one.'+'If the length of format string list is less than the length of data series, the last format string in the list will be applied to exceeded data series.'}},'css':{'.viz-tooltip-background':{'description':'Define style for the tooltip background.','value':{'fill':'#ffffff'}},'.viz-tooltip-title':{'description':'Define style for the tooltip title.','value':{'fill':'#333333'}},'.viz-tooltip-label':{'description':'Define style for the tooltip label.','value':{'fill':'#333333'}},'.viz-tooltip-value':{'description':'Define style for the tooltip value.','value':{'fill':'#333333'}}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.Background',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.background',version:'4.0.0'}],function Setup(M,C,f){var v={'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of background.'};var m={'id':'sap.viz.modules.background','type':C.Module.Type.Supplementary,'name':'background','description':'Settings for the background for the outer chart area.','properties':{'visible':v,'border':{'name':'border','description':'Settings for border property.','supportedValueType':'Object','supportedValues':{'left':{'name':'left','description':'Set left border property.','supportedValueType':'Object','supportedValues':{'visible':v,},},'right':{'name':'right','description':'Set right border property.','supportedValueType':'Object','supportedValues':{'visible':v,},},'top':{'name':'top','description':'Set top border property.','supportedValueType':'Object','supportedValues':{'visible':v,},},'bottom':{'name':'bottom','description':'Set bottom border property.','supportedValueType':'Object','supportedValues':{'visible':v,},},},},'drawingEffect':{'name':'drawingEffect','description':'Set drawing effect of background.','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','isExported':true,},'direction':{'name':'direction','description':'Set gradient direction of background.','supportedValueType':'List','supportedValues':['horizontal','vertical'],'defaultValue':'vertical',}},'css':{'.viz-plot-background':{'description':'Define style for the plot background.','value':{'fill':'#ffffff',}},'.viz-plot-background-border':{'description':'Define style for the plot background border.','value':{'stroke':'#d8d8d8','stroke-width':1,'shape-rendering':'crispEdges',}},},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.threeD.Vector',version:'4.0.0'},[],function Setup(P){function V(){this.values=[];for(var i=0,l=arguments.length;i<l;i++){this.values.push(arguments[i])}}V.prototype.dotProduct=function(v){var d=v.dimension();if(d!==this.dimension()){throw new Error("The vectors to be dot-producted must have same dimension, but the dimension of this vector is "+this.dimension+" and another one is "+d+".")}var s=0;for(var i=0;i<d;i++){s+=this.value(i)*v.value(i)}return s};V.prototype.dimension=function(v){return this.values.length};V.prototype.value=function(i,d){if(arguments.length>=2){this.values[i]=d}return this.values[i]};return V});sap.riv.module({qname:'sap.viz.modules.threeD.Vector4D',version:'4.0.0'},[{qname:'sap.viz.modules.threeD.Vector',version:'4.0.0'}],function Setup(V){function a(p,b,c,d){V.apply(this,arguments)}a.prototype=Object.create(V.prototype);return a});sap.riv.module({qname:'sap.viz.modules.threeD.matrix',version:'4.0.0'},[{qname:'sap.viz.modules.threeD.Vector4D',version:'4.0.0'}],function Setup(V){var d=4;var l=d*d;function a(c){return c*Math.PI/180}var b=function(){var c=new Array(l);var e={unit:function(){for(var i=0;i<l;i++){c[i]=(i%(d+1)===0)?1:0}return e},value:function(r,f,v){var i=r*d+f;if(arguments.length>=3){c[i]=v;return e}return c[i]},row:function(r){var f=[];var s=r*d;for(var i=0;i<d;i++){f[i]=c[s+i]}return new V(f[0],f[1],f[2],f[3])},col:function(f){var g=[];for(var i=0;i<d;i++){g[i]=c[d*i+f]}return new V(g[0],g[1],g[2],g[3])},translate:function(t,f,g){return e.transform(b().value(0,3,t||0).value(1,3,f||0).value(2,3,g||0))},scale:function(t,f,g){return e.transform(b().value(0,0,t||0).value(1,1,f||0).value(2,2,g||0))},rotateX:function(f){var r=a(f);var s=Math.sin(r);var g=Math.cos(r);return e.transform(b().value(1,1,g).value(1,2,-s).value(2,1,s).value(2,2,g))},rotateY:function(f){var r=a(f);var s=Math.sin(r);var g=Math.cos(r);return e.transform(b().value(0,0,g).value(0,2,s).value(2,0,-s).value(2,2,g))},rotateZ:function(f){var r=a(f);var s=Math.sin(r);var g=Math.cos(r);return e.transform(b().value(0,0,g).value(0,1,-s).value(1,0,s).value(1,1,g))},transform:function(m){if(m){var r=[],f=[];for(var i=0;i<d;i++){r.push(m.row(i));f.push(e.col(i))}for(var i=0;i<d;i++){var s=i*d;for(var j=0;j<d;j++){var g=s+j;c[g]=r[i].dotProduct(f[j])}}}return e},clone:function(){var n=b();for(var i=0;i<d;i++){for(var j=0;j<d;j++){n.value(i,j,e.value(i,j))}}return n},projection:function(){return"matrix("+e.value(0,0)+","+e.value(1,0)+","+e.value(0,1)+","+e.value(1,1)+","+e.value(0,3)+","+e.value(1,3)+")"},translatedProjection:function(){return"translate("+this.value(0,3)+","+this.value(1,3)+")"},toString:function(){var s="";for(var i=0;i<l;i++){if(i%4!==0){s+=", "}s+=c[i];if((i-3)%4===0){s+="\n"}}return s}};return e.unit()};return b});sap.riv.module({qname:'sap.viz.modules.threeD.Point',version:'4.0.0'},[{qname:'sap.viz.modules.threeD.Vector4D',version:'4.0.0'}],function Setup(V){function P(x,y,z){this.x=x;this.y=y;this.z=z}P.prototype.transform=function(m){var v=new V(this.x,this.y,this.z,1);this.x=m.row(0).dotProduct(v);this.y=m.row(1).dotProduct(v);this.z=m.row(2).dotProduct(v);return this};return P});sap.riv.module({qname:'sap.viz.modules.axis.categoryAxisCore',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.threeD.Point',version:'4.0.0'},{qname:'sap.viz.modules.threeD.matrix',version:'4.0.0'},{qname:'sap.viz.format.FormatManager',version:'4.0.0'}],function Setup(T,N,O,l,a,P,m,F){return function(){var b;var c;var d=6;var e=5;var f=1;var g="#d8d8d8";var h=false;var j=null;var k={"title":{"visible":false,"text":undefined,},"gridline":{"visible":false,"color":g,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"formatString":"",hideStrategy:''},"position":"left","color":"#333333","shapeRendering":true,"forceVerticalFont":false};var n=m(),o=null,p=null,q=null,t=null;var r=-1;v.spaceLimit=function(_){if(!arguments.length)return r;if(!h){r=_}return v};var s=function(){var i=[];var y=c.length>1?true:false;for(var S=0;S<c.length;S++){var J=c[S].domain;var K=c[S].range;var L=E(J,K);var M=L.isVertical;if(b=="left"||b=="right"){c[S].labelsToDraw=A(J,K,y)}else{c[S].labelsToDraw=B(J,K,M,y)}if(S===0){i.push(c[S])}else if(c[S].labelsToDraw.length==c[S].domain.length){i.push(c[S])}else if(c[S].labelsToDraw.length>0&&a.isExist(c.noEqual)&&c.noEqual===true){i.push(c[S])}}return i};var u=function(i,y,J,K,L){var M=i.append("line").attr("y1",J).attr("y2",L).attr("x1",y).attr("x2",K).attr("stroke",k.gridline.color).attr("stroke-width",k.gridline.size).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if(k.gridline.type=="dotted"){M.attr("stroke-dasharray","3, 2")}};function v(y){var J=s();if(r>=0){var K=[];var L=v.getPreferredSize().spacings;var M=r;for(var i=0;i<L.length;i++){if(M>=L[i]){K.push(J[i]);M-=L[i]}else{break}}if(K.length==0&&J.length>0){var Q=[];for(var i=0;i<J[0].domain.length;i++){Q.push('')}K.push({domain:Q,range:J[0].range})}J=K}var R=J.length>1?true:false;if(b=="left"){var S=0;var U=0;for(var V=0;V<J.length;V++,S++){if(!k.label.visible&&V!=(J.length-1)){continue}var W=J[V].domain;var X=J[V].range;var Y=G(W,X);var Z=Y.maxLabelTextWidth;if(!k.label.visible){Z=0}if(V==(J.length-1)){if(k.gridline.showFirstLine){u(y,U+(Z+2*d),X[X.length-1][1],U+(Z+2*d)+k.gridline.length,X[X.length-1][1])}if(k.gridline.showLastLine){u(y,U+(Z+2*d),X[0][0],U+(Z+2*d)+k.gridline.length,X[0][0])}}if(J.length==1){var $=U+(Z+2*d);var _=U+(Z+2*d);var y1=X[0][0];var y2=X[X.length-1][1];var c1="M"+($-e)+" "+y1;c1+="L"+$+" "+y1;c1+="L"+_+" "+y2;c1+="L"+(_-e)+" "+y2;var d1=y.append("path").attr("d",c1).attr("fill","none").attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}else if(J.length>=2&&(V==J.length-1)){var d1=y.append("line").attr("x1",U+(Z+2*d)).attr("x2",U+(Z+2*d)).attr("y1",X[0][0]).attr("y2",X[X.length-1][1]).attr("class","domain").attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(J.length>=2&&k.label.visible){y.append("line").attr("x1",U).attr("x2",U).attr("y1",X[0][0]).attr("y2",X[X.length-1][1]).attr("class","domain").attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(k.gridline.visible&&V==(J.length-1)){for(var i=0;i<W.length;i++){u(y,U+(Z+2*d),X[i][0],U+(Z+2*d)+k.gridline.length,X[i][0]);if((i==(W.length-1))||(X[i][1]!=X[i+1][0])){u(y,U+(Z+2*d),X[i][1],U+(Z+2*d)+k.gridline.length,X[i][1])}}u(y,U+(Z+2*d)+k.gridline.length,X[0][0],U+(Z+2*d)+k.gridline.length,X[i-1][1])}for(var i=0;i<W.length;i++){if(J.length==1||(J.length!=1&&!k.label.visible)){if(i>0&&(X[i][0]!=X[i-1][1])){var e1=y.append("line").attr("x1",(Z+2*d)-e).attr("x2",(Z+2*d)).attr("y1",X[i][0]).attr("y2",X[i][0]).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(i!=(W.length-1)){var f1=y.append("line").attr("x1",(Z+2*d)-e).attr("x2",(Z+2*d)).attr("y1",X[i][1]).attr("y2",X[i][1]).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}}if(J.length>=2&&k.label.visible){y.append("line").attr("x1",U).attr("x2",U+(Z+2*d)).attr("y1",X[i][0]).attr("y2",X[i][0]).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if((i==(W.length-1))||(X[i][1]!=X[i+1][0])){y.append("line").attr("x1",U).attr("x2",U+(Z+2*d)).attr("y1",X[i][1]).attr("y2",X[i][1]).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}}}var g1=J[V].labelsToDraw;var h1;for(var i=0;i<g1.length;i++){h1=g1[i].custom;if(h1&&h1.type==='url'){}else{var i1=a.isExist(g1[i].text)?g1[i].text:'';if(k.label.visible){var j1=y.append("text").attr("x",U+Z+d).attr("y",g1[i].y).attr("dominant-baseline","middle").attr("text-anchor","end").text(i1).attr("fill",j.label.fill).attr("font-size",j.label['font-size']).attr("font-weight",j.label['font-weight']).attr("font-family",j.label['font-family']);w(j1)}}}U+=(Z+2*d)}}else if(b=="right"){var S=0;var U=0;for(var V=(J.length-1);V>=0;V--,S++){if(!k.label.visible&&V!=(J.length-1)){continue}var W=J[V].domain;var X=J[V].range;var Y=G(W,X);var Z=Y.maxLabelTextWidth;if(V==(J.length-1)){if(k.gridline.showFirstLine){u(y,U,X[X.length-1][1],U-k.gridline.length,X[X.length-1][1])}if(k.gridline.showLastLine){u(y,U,X[0][0],U-k.gridline.length,X[0][0])}}if((J.length==1)){var $=U;var _=U;var y1=X[0][0];var y2=X[X.length-1][1];var c1="M"+($+e)+" "+y1;c1+="L"+$+" "+y1;c1+="L"+_+" "+y2;c1+="L"+($+e)+" "+y2;var d1=y.append("path").attr("d",c1).attr("fill","none").attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}else if(J.length>=2&&(V==(J.length-1))){var d1=y.append("line").attr("x1",U).attr("x2",U).attr("y1",X[0][0]).attr("y2",X[X.length-1][1]).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(J.length>=2&&k.label.visible){y.append("line").attr("x1",U+(Z+2*d)).attr("x2",U+(Z+2*d)).attr("y1",X[0][0]).attr("y2",X[X.length-1][1]).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(k.gridline.visible&&V==(J.length-1)){for(var i=0;i<W.length;i++){u(y,U+(Z+2*d),X[i][0],U+(Z+2*d)+k.gridline.length,X[i][0]);if((i==(W.length-1))||(X[i][1]!=X[i+1][0])){u(y,U+(Z+2*d),X[i][1],U+(Z+2*d)+k.gridline.length,X[i][1])}}}for(var i=0;i<W.length;i++){if(J.length==1||(J.length!=1&&!k.label.visible)){if(i>0&&(X[i][0]!=X[i-1][1])){var e1=y.append("line").attr("x1",0).attr("x2",e).attr("y1",X[i][0]).attr("y2",X[i][0]).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(i!=(W.length-1)){var f1=y.append("line").attr("x1",0).attr("x2",e).attr("y1",X[i][1]).attr("y2",X[i][1]).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}}if(J.length>=2&&k.label.visible){y.append("line").attr("x1",U).attr("x2",U+(Z+2*d)).attr("y1",X[i][0]).attr("y2",X[i][0]).attr("stroke",k.color).attr("stroke-width",1).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if((i==(W.length-1))||(X[i][1]!=X[i+1][0])){y.append("line").attr("x1",U).attr("x2",U+(Z+2*d)).attr("y1",X[i][1]).attr("y2",X[i][1]).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}}}var g1=J[V].labelsToDraw;var h1;for(var i=0;i<g1.length;i++){h1=g1[i].custom;if(h1&&h1.type==='url'){}else{var i1=a.isExist(g1[i].text)?g1[i].text:'';if(k.label.visible){var j1=y.append("text").attr("x",U+d).attr("y",g1[i].y).attr("text-anchor","start").attr("dominant-baseline","middle").text(i1).attr("fill",j.label.fill).attr("font-size",j.label['font-size']).attr("font-weight",j.label['font-weight']).attr("font-family",j.label['font-family']);w(j1)}}}U+=(Z+2*d)}}else if(b=="bottom"){var S=0;var k1=0;for(var V=(J.length-1);V>=0;V--,S++){if(!k.label.visible&&V!=(J.length-1)){continue}var W=J[V].domain;var X=J[V].range;var Y=E(W,X);var l1=Y.maxLabelTextHeight;var m1=Y.isVertical;if(V==(J.length-1)){if(k.gridline.showFirstLine){u(y,X[0][0],k1,X[0][0],k1-k.gridline.length)}if(k.gridline.showLastLine){u(y,X[X.length-1][0],k1,X[X.length-1][0],k1-k.gridline.length)}}if(J.length==1){var $=X[0][0];var _=X[X.length-1][1];var y1=k1;var y2=k1;var c1="M"+$+" "+(y1+e);c1+="L"+$+" "+y1;c1+="L"+_+" "+y2;c1+="L"+_+" "+(y2+e);var d1=y.append("path").attr("d",c1).attr("fill","none").attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if(q){var n1=q*Math.PI/180;var o1=Math.cos(n1);var p1=(45==q)?o1:Math.sin(n1);c1='M '+X[0][0]+' '+k1;c1+='L'+(X[0][0]+X[X.length-1][1]*p1)+' '+(k1-X[X.length-1][1]*o1);c1+='Z';d1.attr('d',c1)}}else if(J.length>=2&&(V==J.length-1)){var d1=y.append("line").attr("x1",X[0][0]).attr("x2",X[X.length-1][1]).attr("y1",k1).attr("y2",k1).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(J.length>=2&&k.label.visible){y.append("line").attr("x1",X[0][0]).attr("x2",X[X.length-1][1]).attr("y1",k1+l1+2*d).attr("y2",k1+l1+2*d).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(k.gridline.visible&&V==(J.length-1)){for(var i=0;i<W.length;i++){u(y,X[i][0],k1+(l1+2*d),X[i][0],k1+(l1+2*d)+k.gridline.length);if((i==(W.length-1))||(X[i][1]!=X[i+1][0])){u(y,X[i][1],k1+(l1+2*d),X[i][1],k1+(l1+2*d)+k.gridline.length)}}}for(var i=0;i<W.length;i++){if(J.length==1||(J.length!=1&&!k.label.visible)){if(i>0&&(X[i][0]!=X[i-1][1])){var e1=y.append("line").attr("x1",X[i][0]).attr("x2",X[i][0]).attr("y1",0).attr("y2",e).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(i!=(W.length-1)){var f1=y.append("line").attr("x1",X[i][1]).attr("x2",X[i][1]).attr("y1",0).attr("y2",e).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if(q){var n1=q*Math.PI/180;var o1=Math.cos(n1);var p1=(45===q)?o1:Math.sin(n1);var q1=t*Math.PI/180;var r1=Math.cos(q1);var s1=Math.sin(q1);var t1=X[i][1]*p1;tickStartY=-X[i][1]*o1;var _=t1+e*r1,y2=tickStartY+e*s1;f1.attr('x1',t1).attr('y1',tickStartY).attr('x2',_).attr('y2',y2)}}}if(J.length>=2&&k.label.visible){y.append("line").attr("x1",X[i][0]).attr("x2",X[i][0]).attr("y1",k1).attr("y2",k1+2*d+l1).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if((i==(W.length-1))||(X[i][1]!=X[i+1][0])){y.append("line").attr("x1",X[i][1]).attr("x2",X[i][1]).attr("y1",k1).attr("y2",k1+2*d+l1).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}}}var g1=J[V].labelsToDraw;C(y,g1,k1,l1,W,m1,J.length!=1);k1+=(l1+2*d)}}else if(b=="top"){var S=0;var k1=0;for(var V=0;V<J.length;V++,S++){if(!k.label.visible&&V!=(J.length-1)){continue}var W=J[V].domain;var X=J[V].range;var Y=E(W,X);var l1=Y.maxLabelTextHeight;var m1=Y.isVertical;if(!k.label.visible){l1=0}if(V==(J.length-1)){if(k.gridline.showFirstLine){u(y,X[0][0],l1+2*d+k1,X[0][0],l1+2*d+k1+k.gridline.length)}if(k.gridline.showLastLine){u(y,X[X.length-1][1],l1+2*d+k1,X[X.length-1][1],l1+2*d+k1+k.gridline.length)}}if((J.length==1)){var $=X[0][0];var _=X[X.length-1][1];var y1=l1+2*d+k1;var y2=l1+2*d+k1;var c1="M"+$+" "+(y1-e);c1+="L"+$+" "+y1;c1+="L"+_+" "+y2;c1+="L"+_+" "+(y2-e);var d1=y.append("path").attr("d",c1).attr("fill","none").attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}else if(J.length>=2&&(V==J.length-1)){var d1=y.append("line").attr("x1",X[0][0]).attr("x2",X[X.length-1][1]).attr("y1",l1+2*d+k1).attr("y2",l1+2*d+k1).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(J.length>=2&&k.label.visible){y.append("line").attr("x1",X[0][0]).attr("x2",X[X.length-1][1]).attr("y1",k1).attr("y2",k1).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(k.gridline.visible&&V==(J.length-1)){for(var i=0;i<W.length;i++){u(y,X[i][0],k1+(l1+2*d),X[i][0],k1+(l1+2*d)+k.gridline.length);if((i==(W.length-1))||(X[i][1]!=X[i+1][0])){u(y,X[i][1],k1+(l1+2*d),X[i][1],k1+(l1+2*d)+k.gridline.length)}}u(y,X[0][0],k1+(l1+2*d)+k.gridline.length,X[i-1][1],k1+(l1+2*d)+k.gridline.length)}for(var i=0;i<W.length;i++){if(J.length==1||(J.length!=1&&!k.label.visible)){if(i>0&&(X[i][0]!=X[i-1][1])){var e1=y.append("line").attr("x1",X[i][0]).attr("x2",X[i][0]).attr("y1",(l1+2*d)).attr("y2",(l1+2*d)-e).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}if(i!=(W.length-1)){var f1=y.append("line").attr("x1",X[i][1]).attr("x2",X[i][1]).attr("y1",(l1+2*d)).attr("y2",(l1+2*d)-e).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}}if(J.length>=2&&k.label.visible){y.append("line").attr("x1",X[i][0]).attr("x2",X[i][0]).attr("y1",k1).attr("y2",k1+(l1+2*d)).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto");if((i==(W.length-1))||(X[i][1]!=X[i+1][0])){y.append("line").attr("x1",X[i][1]).attr("x2",X[i][1]).attr("y1",k1).attr("y2",k1+(l1+2*d)).attr("stroke",k.color).attr("stroke-width",k.lineSize).attr("shape-rendering",k.shapeRendering?"crispEdges":"auto")}}}var g1=J[V].labelsToDraw;C(y,g1,k1,l1,W,m1,J.length!=1);k1+=(l1+2*d)}}};var w=function(i){if(jQuery.browser.msie){var J=j.label['font-size'].toString();var K=J.indexOf("px");if(K>=0){J=J.substr(0,K)}var y=i.attr("y");i.attr("y",Number(y)+J/2);i.attr("dominant-baseline","auto")}};var x=function(i){var y;if(i.info){var J=i.info.customlabel;if(J){if(J.type==='url'){y=i.val}else if(J.type==='string'){y=J.val}}else{y=i.val}}else{y=i.val}y=I(y)?l.get('IDS_ISNOVALUE'):y;y=F.format(y,k.label.formatString);return y};var z=function(i){if(i.info&&i.info.customlabel){return i.info.customlabel}};var A=function(y,J,K){var L=[];for(var i=0;i<y.length;i++){var M={};M.text=x(y[i]);M.custom=z(y[i]);var Q=H(M.text,j.label);var R=J[i][0]+(J[i][1]-J[i][0])/2;M.width=Q.width;M.height=Q.height;M.y=R;M.y1=R-M.height/2;M.y2=R+M.height/2;L.push(M)}var S=[];if(k.label.hideStrategy!='greedy'){for(var U=0;U<=(L.length-1);U++){var V=true;for(var i=(L.length-1);i>=0;i-=(U+1)){var M=L[i];if(i!=(L.length-1)){var W=i+(U+1);if(L[i].y2>=L[W].y1){V=false;break}}S.push(M)}if(V){break}else{S=[]}}}else{for(var W=U=(L.length-1);U>=0;U--){var M=L[U];if(W===U&&J[U][1]!=J[U][0]){if(K&&M.y1>J[U][0]&&M.y2<J[U][1]){S.push(M)}else if(!K){S.push(M)}}else{if(M.y2<=L[W].y1&&J[U][1]!=J[U][0]){if(K){if(M.y1>J[U][0]&&M.y2<J[U][1]){S.push(M);W=U}}else{S.push(M);W=U}}}}}return S};var B=function(y,J,K,L){var M=[];for(var i=0;i<y.length;i++){var Q={};Q.text=x(y[i]);Q.custom=z(y[i]);var R=H(Q.text,j.label);if(K){Q.width=R.height;Q.height=R.width}else{Q.width=R.width;Q.height=R.height}var S=J[i][0]+(J[i][1]-J[i][0])/2;Q.x=S;Q.x1=S-Q.width/2;Q.x2=S+Q.width/2;M.push(Q)}var U=[];if(k.label.hideStrategy!='greedy'){for(var V=0;V<=(M.length-1);V++){var W=true;for(var i=0;i<M.length;i+=(V+1)){var Q=M[i];if(i!=0){var X=i-(V+1);if(M[i].x1<=M[X].x2||J[V][1]===J[V][0]){W=false;break}}U.push(Q)}if(W){break}else{U=[]}}}else{for(var X=V=(M.length-1);V>=0;V--){var Q=M[V];if(X===V&&J[V][1]!=J[V][0]){if(L&&Q.x1>J[V][0]&&Q.x2<J[V][1]){U.push(Q)}else if(!L){U.push(Q)}}else{if(Q.x2<=M[X].x1&&J[V][1]!=J[V][0]){if(L){if(Q.x1>J[V][0]&&Q.x2<J[V][1]){U.push(Q);X=V}}else{U.push(Q);X=V}}}}}return U};var C=function(y,J,K,L,M,Q,R){if(J===undefined){return}for(var i=0;i<J.length;i++){var S=a.isExist(J[i].text)?J[i].text:'';if(k.label.visible){if(q){var U=q*Math.PI/180;var V=Math.cos(U);var W=(45===q)?V:Math.sin(U);var X=t*Math.PI/180;var Y=Math.cos(X);var Z=Math.sin(X);var $=J[i].x*W;tickStartY=-J[i].x*V;var _=y.append("text").attr("x",$+d*Y).attr("y",tickStartY+K+d*Z).attr("dominant-baseline","middle").attr("text-anchor",'start').text(S).attr("fill",j.label.fill).attr("font-size",j.label['font-size']).attr("font-weight",j.label['font-weight']).attr("font-family",j.label['font-family']);if(t>90){_.attr("text-anchor",'end').attr('transform','rotate( '+(t-180)+' '+_.attr("x")+' '+_.attr("y")+')')}else{_.attr('transform','rotate( '+(t)+' '+_.attr("x")+' '+_.attr("y")+')')}}else{var _=y.append("text").attr("x",J[i].x).attr("y",K+L/2+d).attr("dominant-baseline","middle").attr("text-anchor","middle").text(S).attr("fill",j.label.fill).attr("font-size",j.label['font-size']).attr("font-weight",j.label['font-weight']).attr("font-family",j.label['font-family']);if(Q){if(!R){if(b=='top'){_.attr('text-anchor','start').attr("y",K+L+d)}else if(b=='bottom'){_.attr("y",K+d).attr('text-anchor','end')}}var ac="-90";_.attr("transform","rotate( "+ac+" "+_.attr("x")+" "+_.attr("y")+" )")}w(_)}}}};v.position=function(_){if(!arguments.length)return b;b=_;return v};v.properties=function(_){if(arguments.length==0)return k;k=O.extend(true,k,_);return v};v.style=function(_){if(arguments.length==0)return j;j=O.extend(true,j,_);return v};v.axScale=function(_){if(!arguments.length)return c;c=_;return v};v.getPreferredSize=function(){var y=s();var J=0;var K=0;var L=[];for(var i=0;i<y.length;i++){if(!k.label.visible&&i!=(y.length-1)){continue}var M=y[i].domain;var Q=y[i].range;if(M.length===0||Q.length===0){continue}if(b=="bottom"||b=="top"){J=Math.abs(Q[Q.length-1][1]-Q[0][0])+f;var R=0;if(k.label.visible){R+=E(M,Q).maxLabelTextHeight}R+=2*d;K+=R;L.push(R)}else if(b=="left"||b=="right"){var S=0;if(k.label.visible){S+=G(M,Q).maxLabelTextWidth}S+=2*d;J+=S;L.push(S);K=Math.abs(Q[Q.length-1][1]-Q[0][0])+f}}if(r>=0){var U=L;var V=r;var W=0;for(var i=0;i<U.length;i++){if(V>=U[i]){W+=U[i];V-=U[i]}else{break}}if(W==0&&U.length>0){W+=U[0]}if(b=="bottom"||b=="top"){K=W}else if(b=="left"||b=="right"){J=W}}return{width:J,height:K,spacings:L,}};v.matrix=function(_){if(!arguments.length){return n}n=_;return v};v.labelAngle=function(_){if(!arguments.length){return o}o=_;return v};v.tickAngle=function(_){if(!arguments.length){return t}t=_;return v};v.angle=function(_){if(!arguments.length){return q}q=_;return v};v.labelAlign=function(_){if(!arguments.length){return p}p=_;return v};var D=function(y,J){var K=[];var L=[];var M=false;for(var i=0;i<y.length;i++){var Q=H(x(y[i]),j.label);var R=Q.height;var S=Q.width;var U=J[i][1]-J[i][0];if((R<S)&&U!=0&&S>U){if(b=="top"||b=="bottom"){M=true}}K.push(R);L.push(S)}return{'heights':K,'widths':L,'isVerticalFont':M}};var E=function(y,J){var K={"maxLabelTextHeight":0,"isVertical":false};var L=0;var M=false;var Q=D(y,J);M=k.forceVerticalFont===true?true:Q.isVerticalFont;for(var i=0;i<y.length;i++){if(M){if(L<Q.widths[i]){L=Q.widths[i]}}else{if(L<Q.heights[i]){L=Q.heights[i]}}}K.maxLabelTextHeight=L;K.isVertical=M;return K};var G=function(y,J){var K={"maxLabelTextWidth":0,"isVertical":false};var L=0;var M=false;var Q=D(y,J);M=k.forceVerticalFont===true?true:Q.isVerticalFont;for(var i=0;i<y.length;i++){if(M){if(L<Q.heights[i]){L=Q.heights[i]}}else{if(L<Q.widths[i]){L=Q.widths[i]}}}K.maxLabelTextWidth=L;K.isVertical=M;return K};var H=function(_,i){return T.fastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var I=function(i){if(typeof(i)!="string"&&N.isNoValue(i)){return true}return false};return v}});sap.riv.module({qname:'sap.viz.modules.axis.valueAxisCore',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.format.FormatManager',version:'4.0.0'},{qname:'sap.viz.modules.threeD.Point',version:'4.0.0'},{qname:'sap.viz.modules.threeD.matrix',version:'4.0.0'}],function Setup(T,N,O,F,P,m){return function(){var a;var b=null;var c=5;var d=4;var e=7;var f=1;var g="#6c6c6c";var h="#d8d8d8";var j="#ffffff";var k="#333333";var l=null;var n={"title":{"visible":false,"text":undefined,},"gridline":{"visible":true,"color":h,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"numberFormat":"","formatString":"",},"position":"left","color":g,"axisline":{"visible":true},"shapeRendering":true};var o=m(),p=null,q=null,r=null,t=null;var s=-1;u.spaceLimit=function(_){if(!arguments.length)return s;s=_;return u};function u(y){var H=b.range();var I=b.domain();if(H[0]==0&&H[1]==0){return}var J=B();if(a=="bottom"){var K=0;if(n.label.visible){var L=[];for(var i=0;i<J.length;i++){L.push(J[i].text)}K=C(L)}if((s!=-1)&&(K+c+2*d+f/2>s)){J=[]}for(var i=0;i<J.length;i++){var M=y.append("line").attr("x1",b(J[i].value)).attr("x2",b(J[i].value)).attr("y1",0).attr("y2",c+1).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if(r){var Q=r*Math.PI/180;var R=Math.cos(Q);var S=(45===r)?R:Math.sin(Q);var U=t*Math.PI/180;var V=Math.cos(U);var W=Math.sin(U);var X=b(J[i].value)*S;tickStartY=-b(J[i].value)*R;var Y=X+(c+1)*V,Z=tickStartY+(c+1)*W;M.attr('x1',X).attr('y1',tickStartY).attr('x2',Y).attr('y2',Z)}var $=function(){var a1=y.append("line").attr("x1",b(J[i].value)).attr("x2",b(J[i].value)).attr("y1",-n.gridline.length).attr("y2",0).attr("stroke",n.gridline.color).attr("stroke-width",n.gridline.size).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if(n.gridline.type=="dotted"){a1.attr("stroke-dasharray","3, 2")}if(n.gridline.type=="incised"){var a1=y.append("line").attr("x1",b(J[i].value)-1).attr("x2",b(J[i].value)-1).attr("y1",-n.gridline.length).attr("y2",0).attr("stroke",j).attr("stroke-width",n.gridline.size).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}};if(i==0&&n.gridline.showFirstLine){$()}else if(i==(J.length-1)&&n.gridline.showLastLine){$()}else if((i!=(J.length-1))&&(i!=0)&&n.gridline.visible){$()}}if(n.label.visible){x(y,"Bottom",J,K)}if(n.axisline.visible){var _=H[0];var Y=H[1];var y1=0;var Z=0;var b1=0;var c1="M"+_+" "+(y1+b1);c1+="L"+_+" "+y1;c1+="L"+Y+" "+Z;c1+="L"+Y+" "+(Z+b1);var d1=y.append("path").attr("d",c1).attr("fill","none").attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if(r){var Q=r*Math.PI/180;var R=Math.cos(Q);var S=(45==r)?R:Math.sin(Q);c1='M '+H[1]+' '+y1;c1+='L'+(H[1]+H[0]*S)+' '+(y1-H[0]*R);c1+='Z';d1.attr('d',c1)}}}else if(a=="top"){var K=0;if(n.label.visible){var L=[];for(var i=0;i<J.length;i++){L.push(J[i].text)}K=C(L)}if((s!=-1)&&(K+c+2*d+f/2>s)){J=[]}var e1=1;if(n.label.visible){e1=2}for(var i=0;i<J.length;i++){var M=y.append("line").attr("x1",b(J[i].value)).attr("x2",b(J[i].value)).attr("y1",K+e1*d).attr("y2",K+e1*d+c).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");var $=function(){var a1=y.append("line").attr("x1",b(J[i].value)).attr("x2",b(J[i].value)).attr("y1",K+c+e1*d).attr("y2",K+c+e1*d+n.gridline.length).attr("stroke",n.gridline.color).attr("stroke-width",n.gridline.size).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if(n.gridline.type=="dotted"){a1.attr("stroke-dasharray","3, 2")}if(n.gridline.type=="incised"){var a1=y.append("line").attr("x1",b(J[i].value)-1).attr("x2",b(J[i].value)-1).attr("y1",K+c+e1*d).attr("y2",K+c+e1*d+n.gridline.length).attr("stroke",j).attr("stroke-width",n.gridline.size).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}};if(i==0&&n.gridline.showFirstLine){$()}else if(i==(J.length-1)&&n.gridline.showLastLine){$()}else if((i!=(J.length-1))&&(i!=0)&&n.gridline.visible){$()}}if(n.label.visible){x(y,"Top",J,K)}if(n.axisline.visible){var _=H[0];var Y=H[1];var y1=K+c+e1*d;var Z=K+c+e1*d;var b1=0;var c1="M"+_+" "+(y1-b1);c1+="L"+_+" "+y1;c1+="L"+Y+" "+Z;c1+="L"+Y+" "+(Z-b1);var d1=y.append("path").attr("d",c1).attr("fill","none").attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}else if(a=="left"){J=w(J);var f1=0;if(n.label.visible){var L=[];for(var i=0;i<J.length;i++){L.push(J[i].text)}f1=D(L)}if((s!=-1)&&(f1+c+2*d+f/2>s)){J=[]}var e1=1;if(n.label.visible){e1=2}for(var i=0;i<J.length;i++){var M=y.append("line").attr("x1",f1+e1*d).attr("x2",f1+e1*d+c).attr("y1",b(J[i].value)).attr("y2",b(J[i].value)).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");var $=function(){var a1=y.append("line").attr("y1",b(J[i].value)).attr("y2",b(J[i].value)).attr("x1",f1+e1*d+c).attr("x2",f1+e1*d+c+n.gridline.length).attr("stroke",n.gridline.color).attr("stroke-width",n.gridline.size).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if(n.gridline.type=="dotted"){a1.attr("stroke-dasharray","3, 2")}if(n.gridline.type=="incised"){var a1=y.append("line").attr("y1",b(J[i].value)+1).attr("y2",b(J[i].value)+1).attr("x1",f1+e1*d+c).attr("x2",f1+e1*d+c+n.gridline.length).attr("stroke",j).attr("stroke-width",n.gridline.size).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}};if(i==0&&n.gridline.showFirstLine){$()}else if(i==(J.length-1)&&n.gridline.showLastLine){$()}else if((i!=(J.length-1))&&(i!=0)&&n.gridline.visible){$()}if(n.label.visible){var g1=y.append("text").attr("x",f1+d).attr("y",b(J[i].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(J[i].text).attr("fill",l.label.fill).attr("font-size",l.label['font-size']).attr("font-weight",l.label['font-weight']).attr("font-family",l.label['font-family']);v(g1)}}if(n.axisline.visible){var _=f1+e1*d+c;var Y=f1+e1*d+c;var y1=H[0];var Z=H[1];var b1=0;var c1="M"+(_-b1)+" "+y1;c1+="L"+_+" "+y1;c1+="L"+Y+" "+Z;c1+="L"+(Y-b1)+" "+Z;var d1=y.append("path").attr("d",c1).attr("fill","none").attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}else if(a=="right"){J=w(J);if(n.label.visible){var L=[];for(var i=0;i<J.length;i++){L.push(J[i].text)}f1=D(L)}if((s!=-1)&&(f1+c+2*d+f/2>s)){J=[]}for(var i=0;i<J.length;i++){var M=y.append("line").attr("x1",0).attr("x2",c).attr("y1",b(J[i].value)).attr("y2",b(J[i].value)).attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");var $=function(){var a1=y.append("line").attr("y1",b(J[i].value)).attr("y2",b(J[i].value)).attr("x1",-n.gridline.length).attr("x2",0).attr("stroke",n.gridline.color).attr("stroke-width",n.gridline.size).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto");if(n.gridline.type=="dotted"){a1.attr("stroke-dasharray","3, 2")}if(n.gridline.type=="incised"){var a1=y.append("line").attr("y1",b(J[i].value)+1).attr("y2",b(J[i].value)+1).attr("x1",-n.gridline.length).attr("x2",0).attr("stroke",j).attr("stroke-width",n.gridline.size).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}};if(i==0&&n.gridline.showFirstLine){$()}else if(i==(J.length-1)&&n.gridline.showLastLine){$()}else if((i!=(J.length-1))&&(i!=0)&&n.gridline.visible){$()}if(n.label.visible){var g1=y.append("text").attr("x",c+d).attr("y",b(J[i].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(J[i].text).attr("fill",l.label.fill).attr("font-size",l.label['font-size']).attr("font-weight",l.label['font-weight']).attr("font-family",l.label['font-family']);v(g1)}}if(n.axisline.visible){var _=0;var Y=0;var y1=H[0];var Z=H[1];var b1=0;var c1="M"+(_+b1)+" "+y1;c1+="L"+_+" "+y1;c1+="L"+Y+" "+Z;c1+="L"+(Y+b1)+" "+Z;var d1=y.append("path").attr("d",c1).attr("fill","none").attr("stroke",n.color).attr("stroke-width",n.lineSize).attr("shape-rendering",n.shapeRendering?"crispEdges":"auto")}}};var v=function(i){if(jQuery.browser.msie){var H=l.label['font-size'].toString();var I=H.indexOf("px");if(I>=0){H=H.substr(0,I)}var y=i.attr("y");i.attr("y",Number(y)+H/2);i.attr("dominant-baseline","auto")}};u.matrix=function(_){if(!arguments.length){return o}o=_;return u};u.labelAngle=function(_){if(!arguments.length){return p}p=_;return u};u.tickAngle=function(_){if(!arguments.length){return t}t=_;return u};u.angle=function(_){if(!arguments.length){return r}r=_;return u};u.labelAlign=function(_){if(!arguments.length){return q}q=_;return u};u.position=function(_){if(!arguments.length)return a;a=_;return u};u.style=function(_){if(arguments.length==0)return l;l=O.extend(true,l,_);return u};u.properties=function(_){if(arguments.length==0)return n;n=G(n,_);return u};u.axScale=function(_){if(!arguments.length)return b;b=_;return u};u.startPadding=function(){if(b){var i=B();var y=0;if(i.length>0){y=E(i[0].text,l.label)}if(y==0){return 0}if(a=="top"||a=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};u.endPadding=function(){if(b){var i=B();var y=0;if(i.length>0){y=E(i[i.length-1].text,l.label)}if(y==0){return 0}if(a=="top"||a=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};u.getPreferredSize=function(){var y=b.domain();var H=b.range();var I=0;var J=0;var K=[];if(!(H[0]==0&&H[1]==0)){if(a=="bottom"||a=="top"){I=Math.abs(H[1]-H[0])+f;if(n.label.visible){var L=B();var M=[];for(var i=0;i<L.length;i++){M.push(L[i].text)}J=C(M)+c+2*d+f/2}else{J=c+d+f/2}K.push(J)}else if(a=="left"||a=="right"){if(n.label.visible){var L=B();var M=[];for(var i=0;i<L.length;i++){M.push(L[i].text)}I=D(M)+c+2*d+f/2}else{I=c+d+f/2}K.push(I);J=Math.abs(H[1]-H[0])+f}}return{width:I,height:J,spacings:K,}};var w=function(y){if(y.length>0){if(b(y[0].value)>b(y[y.length-1].value)){y.reverse()}}var H=[];for(var i=0;i<y.length;i++){if(!N.isNoValue(y[i].value)){var I={};I.value=y[i].value;I.text=y[i].text;var J=E(I.text,l.label).height;var K=b(I.value);I.start=K-J/2;I.end=K+J/2;H.push(I)}}var L=[];L=z(H);return L};var x=function(y,H,I,J){if(I.length==0){return}if(I.length>0){if(b(I[0].value)>b(I[I.length-1].value)){I.reverse()}}var K=[];for(var i=0;i<I.length;i++){var L={};L.value=I[i].value;L.text=I[i].text;var M=E(L.text,l.label).width;var Q=b(L.value);L.start=Q-M/2;L.end=Q+M/2;K.push(L)}var R=[];R=z(K);for(var i=0;i<R.length;i++){if(r){var S=r*Math.PI/180;var U=Math.cos(S);var V=(45===r)?U:Math.sin(S);var W=t*Math.PI/180;var X=Math.cos(W);var Y=Math.sin(W);var Z=b(R[i].value)*V;tickStartY=-b(R[i].value)*U;var L=y.append('text').attr('x',Z+d*X).attr('y',tickStartY+d*Y).attr("dominant-baseline","middle").attr("text-anchor",'start').text(R[i].text).attr("fill",l.label.fill).attr("font-size",l.label['font-size']).attr("font-weight",l.label['font-weight']).attr("font-family",l.label['font-family']);if(t>90){L.attr("text-anchor",'end').attr('transform','rotate( '+(t-180)+' '+L.attr("x")+' '+L.attr("y")+')')}else{L.attr('transform','rotate( '+(t)+' '+L.attr("x")+' '+L.attr("y")+')')}}else{var L=y.append("text").attr("x",b(R[i].value)).attr("y",d+c).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(R[i].text).attr("fill",l.label.fill).attr("font-size",l.label['font-size']).attr("font-weight",l.label['font-weight']).attr("font-family",l.label['font-family']);L.attr("dominant-baseline","auto");L.attr("y",J+d)}}};var z=function(y){var H=[];if(y.length>0){if(!(y[0].value>=0&&y[y.length-1].value>=0)&&!(y[0].value<=0&&y[y.length-1].value<=0)){var I=[];var J=[];for(var i=0;i<y.length;i++){if(y[i].value<=0){I.push(y[i])}if(y[i].value>=0){J.push(y[i])}}I=A(I);J=A(J);var K=function(L,M){return L.value-M.value};I.sort(K);J.sort(K);if(I[I.length-1].value==0&&J[0].value==0){I.pop()}H=I.concat(J)}else{H=A(y)}}if(H.length<=1){H=[]}return H};var A=function(y){var H=[];for(var I=0;I<=(y.length-1);I++){var J=true;for(var i=0;i<y.length-1;i+=(I+1)){var K=y[i];if(i!=0){var L=H[H.length-1];if(y[i].start<=L.end){if(H.length>1){J=false;break}}else{H.push(K)}}else{H.push(K)}}var M=y[y.length-1];if(M.start<H[H.length-1].end){H.pop()}H.push(M);if(J){break}else{H=[]}}return H};var B=function(){var y=b.domain();var H=e;if(b.tickHint){H=b.tickHint}var I=b.ticks(H);for(var i=0;i<I.length;i++){I[i]=parseFloat(I[i].toFixed(8))}var J;var K;if(y[0]<=y[y.length-1]){J=y[0];K=y[y.length-1]}else{J=y[y.length-1];K=y[0]}if(I.length>0){if(I[0]!=J){I.unshift(J)}if(I[I.length-1]!=K){I.push(K)}}var L=[];for(var i=0;i<I.length;i++){var M={};M.value=I[i];if(n.isPercentMode){M.text=parseFloat((I[i]*100).toFixed(8)).toString()}else{M.text=parseFloat(I[i].toFixed(8)).toString()}L.push(M)}if(n.label){if(!n.label.formatString&&n.label.numberFormat){for(var i=0;i<I.length;i++){var Q=d3.format(n.label.numberFormat);L[i].text=(Q(I[i]))}}else if(n.label.formatString){var R=n.label.formatString;for(var i=0;i<I.length;i++){L[i].text=(F.format(I[i],R))}}}return L};var C=function(y){var H=0;for(var i=0;i<y.length;i++){var I=E(y[i],l.label).height;if(H<I){H=I}}return H};var D=function(y){var H=0;for(var i=0;i<y.length;i++){var I=E(y[i],l.label).width;if(H<I){H=I}}return H};var E=function(_,i){return T.fastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var G=function(i,y){for(var H in y){if(typeof(y[H])==="object"){if(i[H]){i[H]=G(i[H],y[H])}else{i[H]=y[H]}}else{i[H]=y[H]}}return i};return u}});sap.riv.module({qname:'sap.viz.modules.axis',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.axis.valueAxisCore',version:'4.0.0'},{qname:'sap.viz.modules.axis.categoryAxisCore',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.format.FormatManager',version:'4.0.0'},{qname:'sap.viz.modules.threeD.matrix',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,O,v,c,l,N,d,F,b,B){return function(f,g){var h=null;var p=null;var n=0;var o=0;var q=true;var r=-1;var s="viz-axis";var t="viz-axis-body";var u="viz-axis-title";var w="viz-axis-label";var x=11;var y={};var z={};var A=true;var C=f.props(null);var D=true;var E=new d('initialized');var G=C.color;var H=null;var I;if(g){I=g.effectManager}var J=null;var K={};var L=function(){if(g){K.title=g.styleManager.query(u);K.label=g.styleManager.query(w);if(C.title.applyAxislineColor){K.title.fill=C.color}}};var M=b(),P=null,Q=null,R=null,S=null;var U=function(){if(!D){return false}else{if(!W()&&!V()){return false}}return true};var V=function(){return C.title.visible&&C.visible};var W=function(){if(!q){return false}var a=H.range();var e=H.domain();var i=null;if(C.type==="category"){i=H.rangeBand()}var j=false;if(!C.isIndependentMode){if(z){j=true}}else{if(y){j=true}}return!(!C.visible||(a[0]===0&&a[a.length-1]===0&&a.length>=2)||(a.length===1&&a[0]===0&&e.length===1&&e[0]===0&&C.type==="value")||((!i||!j)&&a.length===1&&a[0]===0&&e.length===1&&e[0]===0&&C.type==="category"))};var X=function(a){var j=X.getPreferredSize();B.drawBound(a,j.width,j.height);p=a;var m=a.select("."+s);var _=H.range();var j1=H.domain();if(!U()){m.remove()}else{var k1=X.getPreferredSize().spacings;var l1=k1[0];var m1=0;for(var i=1;i<k1.length;i++){m1+=k1[i]}if(r>=0&&r<(l1+m1)){A=false}i1();var n1;var o1;var re=h1();n1=re.core;o1=re.coreScale;var q1=n1().properties(C).style(K).position(C.position).axScale(o1).spaceLimit(r).matrix(M).labelAngle(P).labelAlign(Q).angle(R).tickAngle(S);var r1;if(m.empty()){m=a.append("g").attr("class",s);r1=m.append("g").attr("class",t)}else{var e=m.select("."+t).remove();r1=m.append("g").attr("class",t);r1=m.select("."+t)}if(W()){r1.call(q1)}var s1="";if(C.title.text!==undefined&&C.title.text!==null){s1=C.title.text}else{if(C.type==="value"){if(J){s1=J}else{s1=l.get('IDS_ISNOVALUE')}}else{var t1=[];if(C.isIndependentMode){if(y){for(var u1 in y){if(y.hasOwnProperty(u1)){t1=y[u1].values;break}}}}else{if(z){t1=z.values}}for(var k=0;k<t1.length;k++){if(t1[k].type){if(t1[k].type==="MND"&&k===0){s1+=l.get('IDS_DEFAULTMND')+((t1.length===1)?"":" - ")}else if(t1[k].type==="MND"&&k===(t1.length-1)){s1+=" - "+l.get('IDS_DEFAULTMND')}}else{if(t1[k].col.val){s1+=t1[k].col.val}else{s1+=l.get('IDS_ISNOVALUE')}if(k!==(t1.length-1)&&!t1[k+1].type){s1+=" / "}}}}}var v1=x;m.select("."+u).remove();if(V()){if(C.title.visible&&A){var w1=q1.getPreferredSize();var x1=m.append("g").attr("class",u).append("text").attr("text-anchor","middle").attr("fill",K.title.fill).attr("font-size",K.title['font-size']).attr("font-weight",K.title['font-weight']).attr("font-family",K.title['font-family']);if(C.position==="bottom"){if(!W()){w1.height=0}x1.attr("x",w1.width/2).attr("y",w1.height+v1).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var y1=K.title['font-size'].toString();var z1=y1.indexOf("px");if(z1>=0){y1=y1.substr(0,z1)}x1.attr("y",Number(x1.attr("y"))+y1/2);x1.attr("dominant-baseline","auto")}T.ellipsis(s1,x1.node(),w1.width,K.title.toString())}else if(C.position==="top"){if(!W()){w1.height=0}titleHieght=Z(s1,K.title).height;r1.attr("transform","translate(0, "+(titleHieght+v1)+")");x1.attr("x",w1.width/2).attr("y",titleHieght).attr("dx","0").attr("dy","0").attr("dominant-baseline","auto");T.ellipsis(s1,x1.node(),w1.width,K.title.toString())}else if(C.position==="left"){if(!W()){w1.width=0}titleWidth=Z(s1,K.title).height;r1.attr("transform","translate("+(titleWidth+v1)+", "+0+")");var A1=titleWidth;var B1=w1.height/2;var ac="-90";x1.attr("transform","rotate( "+ac+" "+A1+" "+B1+" )").attr("x",A1).attr("y",B1).attr("dominant-baseline","auto");T.ellipsis(s1,x1.node(),w1.height,K.title.toString())}else{if(!W()){w1.width=0}titleWidth=Z(s1,K.title).height;A1=w1.width+titleWidth/2+v1;B1=w1.height/2;var ac="-90";x1.attr("transform","rotate( "+ac+" "+A1+" "+B1+" )").attr("x",A1).attr("y",B1-titleWidth/2).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var y1=K.title['font-size'].toString();var z1=y1.indexOf("px");if(z1>=0){y1=y1.substr(0,z1)}B1=Number(w1.height/2)+y1/2;x1.attr("y",B1);x1.attr("dominant-baseline","auto")}T.ellipsis(s1,x1.node(),w1.height,K.title.toString())}}}A=true}E.initialized();return X};X.matrix=function(_){if(!arguments.length){return M}M=_;return X};X.labelAngle=function(_){if(!arguments.length){return P}P=Y(_,360);return X};X.tickAngle=function(_){if(!arguments.length){return S}S=Y(_,360);return X};X.angle=function(_){if(!arguments.length){return R}R=Y(_,360);return X};function Y(a,m){var e=a%m;if(0>e)e+=m;return e}X.labelAlign=function(_){if(!arguments.length){return Q}Q=_;return X};X.parent=function(_){if(!arguments.length)return p;p=_;return X};X.width=function(_){if(arguments.length==0){return n}else{n=_;if(C.position=="bottom"||C.position=="top"){if(o){r=o}}else if(C.position=="left"||C.position=="right"){if(n){r=n}}return X}};X.height=function(_){if(arguments.length==0)return o;o=_;if(C.position=="bottom"||C.position=="top"){if(o){r=o}}else if(C.position=="left"||C.position=="right"){if(n){r=n}}return X};X.gridlineLength=function(_){if(arguments.length==0)return C.gridline.length;C.gridline.length=_;return X};X.startPadding=function(){var a=0;if(C.type=="value"){a=v().properties(C).style(K).position(C.position).axScale(H).startPadding()}return a};X.endPadding=function(){var a=0;if(C.type=="value"){a=v().properties(C).style(K).position(C.position).axScale(H).endPadding()}return a};X.size=function(_){if(arguments.length==0)return{"width":n,"height":o,};n=_.width;o=_.height;return X};X.independentData=function(_){if(C.isIndependentMode){if(arguments.length==0)return y;y=_}},X.data=function(_){if(arguments.length==0)return y;if(!C.isIndependentMode){y=_;if(_.getAnalysisAxisDataByIdx){z=y.getAnalysisAxisDataByIdx(0)}}return X};X.title=function(_){if(arguments.length==0)return J;J=_;return X};X.properties=function(_){if(arguments.length==0){return C}O.extend(true,C,_);if(_.color){C.customizedColor=_.color}return X};X.range=function(){var a=null;if((C.type==="value")&&(C.scale.fixedRange)){if((C.scale.maxValue!==null)&&(C.scale.minValue!==null)){a={max:C.scale.maxValue,min:C.scale.minValue,from:'axis'}}}return a};X.scale=function(_){if(arguments.length==0)return H;H=_;return X};X.isDrawBody=function(_){if(arguments.length==0)return q;q=_;return X};X.color=function(_){if(arguments.length==0)return C.color;if(C.customizedColor){_=C.customizedColor}if(!_){_=G}C=O.extend(true,C,{"color":_});if(C.title.applyAxislineColor&&_){K.title.fill=_}return X};X.drawable=function(_){if(arguments.length==0)return D;D=_;return X};X.getPreferredSize=function(){L();var a=[0];var e=[0];if(H){a=H.range();e=H.domain()}if(!H||(!U())){return{width:0,height:0,manual:false,}}else{var j=h1();var k=(j.core)().properties(C).style(K).position(C.position).axScale(j.coreScale).spaceLimit(r);var m,_;if(C.title.visible&&C.visible){if(C.title.text!==undefined&&C.title.text!==null){m=C.title.text}else{m="Value"}}var j1=0;var k1=0;var l1=0;var m1=[];var n1=k.getPreferredSize();if(C.position=="bottom"||C.position=="top"){if(!W()){n1.height=0;n1.spacings=[]}if(C.title.visible&&C.visible){j1=Z(m,K.title).height;l1=x}var o1=j1+l1;m1=m1.concat([o1]);m1=m1.concat(n1.spacings);var p1=0;for(var i=1;i<m1.length;i++){p1+=m1[i]}var q1=o1+p1;var r1=q1;if(r>=0&&r<q1){r1=n1.height}_={maxSizeConstant:0.5,width:n1.width,height:q1,realHeight:r1,spacings:m1,manual:false,}}else if(C.position=="left"||C.position=="right"){if(!W()){n1.width=0;n1.spacings=[]}if(C.title.visible&&C.visible){k1=Z(m,K.title).height;l1=x}var o1=k1+l1;m1=m1.concat([o1]);m1=m1.concat(n1.spacings);var p1=0;for(var i=1;i<m1.length;i++){p1+=m1[i]}var s1=p1+o1;var t1=s1;if(r>=0&&r<s1){t1=n1.width}_={maxSizeConstant:0.5,width:s1,realWidth:t1,height:n1.height,spacings:m1,manual:false,}}if((C.layoutInfo.width>0)&&(C.layoutInfo.height>0)){_.width=C.layoutInfo.width;_.realWidth=C.layoutInfo.width;_.height=C.layoutInfo.height;_.realHeight=C.layoutInfo.height;_.manual=true}return _}};X.dispatch=function(_){if(!arguments.length)return E;E=_;return X};var Z=function(_,a){return T.fastMeasure(_,a['font-size'],a['font-weight'],a['font-family'])};function $(a){if(a[0].type==='MND'||a[a.length-1].type==='MND'){return true}else{return false}}function a1(a){if(a.length===1&&a[0].type==='MND'){return true}else{return false}}function b1(a){if(a[0].type==='MND'){return true}else{return false}}function c1(a){if(!$(a)){return}if(b1(a)){return a[0]}else{return a[a.length-1]}}function d1(a){if(!$(a)||a1(a)){return a}var e=[];var i,j,k;for(i=0;i<a.length;++i){e.push({col:a[i].col,rows:[]})}var m=c1(a);var _=m.rows.length;var j1;if(b1(a)){j1=a[1].rows.length;for(i=0;i<_;++i){for(j=0;j<j1;++j){e[0].rows.push(a[0].rows[i])}}for(i=1;i<a.length;++i){for(j=0;j<_;++j){e[i].rows=e[i].rows.concat(a[i].rows)}}}else{j1=a[0].rows.length;for(i=0;i<j1;++i){e[e.length-1].rows=e[e.length-1].rows.concat(a[a.length-1].rows)}for(i=0;i<a.length-1;++i){for(j=0;j<j1;++j){for(k=0;k<_;++k){e[i].rows.push(a[i].rows[j])}}}}return e}function e1(a){var i,j;var e=[];var k,m,_;var j1,k1;for(i=0;i<a.length;++i){k=[];_=0;k1=0;j1=0;for(j=0;j<a[i].rows.length;++j){m={};if(i===a.length-1){m.value=a[i].rows[j];m.space=1}else{++_;++k1;if(i>0&&k1>=e[i-1][j1].space){m.value=a[i].rows[j];m.space=_;_=0;k1=0;++j1}else{if(j+1<a[i].rows.length&&a[i].rows[j].val===a[i].rows[j+1].val){continue}else{m.value=a[i].rows[j];m.space=_;_=0}}}k.push(m)}e.push(k)}return e}function f1(a){var e=d1(a);var i=e1(e);return i}function g1(a){for(var i=0;i<a.length;++i){a[i].reverse()}}var h1=function(){var a={};var e;if(C.type=="category"){e=[];var k=[];if(C.isIndependentMode){for(dataObj in y){k=y[dataObj].values}}else{if(z){k=z.values}}var m=[];if(k&&k.length){m=f1(k)}var _=H.range();if(_[0]>_[_.length-1]){g1(m)}var j1=m.length===0?0:m[m.length-1].length;var k1=H.rangeBand(),l1=[];var m1=false;if(k&&k.length>0&&k[0].rows.length===0){m1=true;j1=1;var n1={value:{},space:1};n1.value={val:z.values[0].col.val,ctx:null};m=[[n1]]}var di;if(!H.noEqual){if(!a1(k)&&!m1){for(di=0;di<j1;di++){l1[di]=k1}}else{var p1=parseInt(_.length/j1,10);for(di=0;di<j1;di++){l1[di]=k1*p1}}}else{for(di=0;di<j1;di++){l1[di]=Math.abs(_[di]-_[di+1])}}function q1(o1){var x1=0;for(var ix=0;ix<o1;ix++){x1+=l1[ix]}return x1};var r1={};var s1=[];var t1=[];var i,j,u1=0;var v1,w1;for(i=0;i<m.length;++i){s1=[];t1=[];u1=0;for(j=0;j<m[i].length;++j){s1.push(m[i][j].value);u1+=m[i][j].space;v1=j>0?t1[j-1][1]:0;w1=q1(u1);t1.push([v1,w1])}var r1={"domain":s1,"range":t1,};e.push(r1)}core=c}else{core=v;e=H}a.core=core;a.coreScale=e;a.coreScale.noEqual=H.noEqual;return a};function i1(){if(!I)return;if(C.customizedColor){C.color=C.customizedColor}var a={drawingEffect:'normal',fillColor:C.color,};C.color=I.register(a);a={drawingEffect:'normal',fillColor:K.label.fill,};K.label.fill=I.register(a);a={drawingEffect:'normal',fillColor:K.title.fill,};K.title.fill=I.register(a)}return X}});sap.riv.module({qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.axis',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.axis','type':C.Module.Type.Supplementary,'name':'axis','properties':{'isIndependentMode':{'name':'isIndependentMode','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether axis works on independent mode, currently it is used specially for boxplot chart.','isExported':false},'isPercentMode':{'name':'isPercentMode','supportedValueType':'Boolean','defaultValue':false,'description':'Show the label 0.1 as 10','isExported':false},'lineSize':{'name':'lineSize','supportedValueType':'String','defaultValue':'1','description':'Set line size of axis.','isExported':true,},'title':{'name':'title','description':'Settings for axis title.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set visibility of axis title.'},'text':{'name':'text','supportedValueType':'String','defaultValue':null,'description':'Set text of axis title.'},'applyAxislineColor':{'name':'applyAxislineColor','supportedValueType':'Boolean','defaultValue':false,'description':'Set title color same with axisline color.','isExported':false,},},},'gridline':{'name':'gridline','description':'Settings for axis gridline.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of axis gridline.'},showFirstLine:{'name':'showFirstLine','supportedValueType':'Boolean','defaultValue':false,'description':'Set enabled/disabled the first line of gridlines.','isExported':false,},showLastLine:{'name':'showLastLine','supportedValueType':'Boolean','defaultValue':false,'description':'Set enabled/disabled the last line of gridlines.','isExported':false,},'type':{'name':'type','supportedValueType':'List','supportedValues':['line','dotted','incised'],'defaultValue':'line','description':'Set type of gridline.','isExported':true,},'color':{'name':'color','supportedValueType':'String','defaultValue':'#d8d8d8','description':'Set color of gridline.','isExported':true,},'size':{'name':'size','supportedValueType':'String','defaultValue':'1','description':'Set line size of gridline.','isExported':true,},},},'color':{'name':'color','supportedValueType':'String','defaultValue':'#6c6c6c','description':'Set color of axisline.','isExported':true,},'axisline':{'name':'axisline','description':'Settings for axisline.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of axisline.'},},},'type':{'name':'type','supportedValueType':'List','supportedValues':['value','category',],'defaultValue':'value','description':'Set type of axis.','isExported':false,},'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of axis.',},'label':{'name':'label','description':'Settings for axis label.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of axis label.'},'numberFormat':{'name':'numberFormat','supportedValueType':'String','defaultValue':'','description':'Set number format of value axis.'},'formatString':{'name':'formatString','supportedValueType':'String','defaultValue':null,'description':'Set format string of value axis. If number format and format string are both set, number format will be ignored. '}},},'position':{'name':'position','supportedValueType':'List','supportedValues':['left','right','top','bottom'],'defaultValue':'bottom','description':'Set position of axis.','isExported':false,},'scale':{'name':'scale','description':'Set scale for yAxis.','supportedValueType':'Object','supportedValues':{'fixedRange':{'name':'fixedRange','supportedValueType':'Boolean','defaultValue':false,'description':'Enable/disable fixed axis range according minValue and maxValue.','isExported':false},'minValue':{'name':'minValue','supportedValueType':'Number','defaultValue':0,'description':'Set minValue of yAxis.','isExported':false},'maxValue':{'name':'maxValue','supportedValueType':'Number','defaultValue':0,'description':'Set maxValue of yAxis.','isExported':false}},'isExported':false},'layoutInfo':{'name':'layoutInfo','description':'Settings layoutInfo for axis.','supportedValueType':'Object','supportedValues':{'width':{'name':'width','supportedValueType':'Number','defaultValue':0,'description':'Set width of xAxis.','isExported':false},'height':{'name':'height','supportedValueType':'Number','defaultValue':0,'description':'Set height of xAxis.','isExported':false}},'isExported':false}},'css':{'.viz-axis-title':{'description':'Define style for the axis title.','value':{'fill':'black','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'14px','font-weight':'bold'}},'.viz-axis-label':{'description':'Define style for the axis label.','value':{'fill':'#333333','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}}},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.data.handler.MultiChartDataHandler',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.data.handler.MeasureDataHandler',version:'4.0.0'}],function Setup(F,M,c){function d(h){var s=h.slice(0);s.sort(function(a,b){return a.index-b.index});s.shift();return s}function e(b){if(b[0]===true){if(b[1]===true){return[1,2]}else{return[1]}}else if(b[1]===true){return[2]}else{return[1]}}function f(b){if(b[0]===true){if(b[1]===true){return[1]}else if(b[2]===true){if(b.length>3){return[1]}else{return[2]}}else if(b[3]===true){F.error("Not Supported")}else{return[1]}}else if(b[1]===true){if(b[2]===true){return[1,2]}else if(b[3]===true){F.error("Not Supported")}else{return[1]}}else if(b[2]===true){if(b[3]===true){F.error("Not Supported")}else{if(b.length>3){return[1]}else{return[2]}}}else{for(var i=0;i<b.length;i++){if(b[i]===true){F.error("could not determin measure value axis index")}}return[1]}F.error("could not determin measure value axis index")}function g(a,t){this._dataAdapter=a;this._aa=this._dataAdapter.getAnalysisAxisDataByIdx();this._mg=this._dataAdapter.getMeasureValuesGroupDataByIdx();this._subAxes=d(this._aa);this._type=t;if(this._type===undefined){this._measureValueAxisIndex=f(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=2}else if(this._type==="measures"){this._measureValueAxisIndex=e(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=this._dataAdapter.getBindingInfo().length}}g.prototype.getSubDataAdapter=function(a){if(this._type===undefined){return this.getSubDataAdapterByContext(a)}else if(this._type==="measures"){return this.getSubDataAdapterByMeasures(a)}return null};g.prototype.getSubDataAdapterByContext=function(a){var b,s,i,m;if(a){if(a.path.mg!==undefined&&a.path.mi!==undefined){if(a.path.di!==undefined&&a.path.dii!==undefined){b=new M();for(i=0;i<this._subAxes.length;i++){s=this._subAxes[i];b.addAnalysisAxis({index:s.index-1,values:s.values})}m=this._mg[a.path.mg];b.addMeasureValuesGroup({index:0,values:c.makeMeasureValues(a,m,this._measureValueAxisIndex,this._maxMeasureAxis,true)});return b}else{b=new M();for(i=0;i<this._subAxes.length;i++){s=this._subAxes[i];b.addAnalysisAxis({index:s.index-1,values:s.values})}m=this._mg[a.path.mg];b.addMeasureValuesGroup({index:0,values:c.makeMeasureValues(null,{"values":[m.values[a.path.mi]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return b}}else{b=new M();for(i=0;i<this._subAxes.length;i++){s=this._subAxes[i];b.addAnalysisAxis({index:s.index-1,values:s.values})}for(i=0;i<this._mg.length;i++){m=this._mg[i];b.addMeasureValuesGroup({index:m.index,values:c.makeMeasureValues(a,m,this._measureValueAxisIndex,this._maxMeasureAxis,false)})}return b}}return null};g.prototype.getSubDataAdapterByMeasures=function(a){var b=new M();for(var i=0;i<this._aa.length;i++){b.addAnalysisAxis(this._aa[i])}var m=this._mg[0];b.addMeasureValuesGroup({index:0,values:c.makeMeasureValues(null,{"values":[m.values[a.row]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});b.addMeasureValuesGroup({index:1,values:c.makeMeasureValues(null,{"values":[m.values[a.col]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return b};return g});sap.riv.module({qname:'sap.viz.modules.util.DimensionalInfoHandler',version:'4.0.0'},[{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(l){return function(p,m){var d=m;var a=p;var b;var c;var r={'values':[]};var e={'values':[]};var f=[];var g;var h;var n=l.get('IDS_DEFAULTMND');var o=function(){};o.setData=function(i){d=i;return o};o.setProperties=function(p){a=p;return o};o.getColumnDimensionData=function(){return e};o.getRowDimensionData=function(){return r};o.getContexts=function(){return f};function q(){var i=0;if(b>0){g=1;h=d.values[0].rows.length;f.push([]);var j=e.values;j[0]={'col':{'val':n},'rows':[]};for(i=0;i<d.values[0].rows.length;++i){j[0].rows.push({'val':d.values[0].rows[i].val,'info':d.values[0].rows[i].info});f[0].push(d.values[0].rows[i].ctx)}}else{g=d.values[0].rows.length;h=1;var k=r.values;k[0]={'col':{'val':n},'rows':[]};for(i=0;i<d.values[0].rows.length;++i){k[0].rows.push({'val':d.values[0].rows[i].val,'info':d.values[0].rows[i].info});f.push([d.values[0].rows[i].ctx])}}}function s(){r.values=[];e.values=[];g=0;h=0;f=[]}function t(j,k,F,G){for(var i=F;i<F+G;++i){if(d.values[i].rows[j].val!==d.values[i].rows[k].val){return false}}return true}function u(i,j,k,F){var G=0;var H=i.length;var I=true;for(var J=0;I&&J<F;++J){var K=H;var L=G;I=false;for(var M=G;M<H;++M){if(d.values[k+J].rows[i[M]].val===d.values[k+J].rows[j].val){I=true;if(M<K){K=M}if(M>=L){L=M+1}}}if(I){G=K;H=L}}if(!I){if(H<i.length){i.splice(H,0,j)}else{i.push(j)}}}function v(j,k,F){var G=[];for(var i=k;i<k+F;++i){G.push(d.values[i].rows[j].val)}return G}function w(j,k,F){var G={};for(var i=0;i<j.length;++i){G[v(j[i],k,F)]=i}return G}function x(k,F){var G=[];var H=[];H.push(0);var i;var I={};for(i=1;i<d.values[k].rows.length;++i){u(H,i,k,F)}var J=e.values;for(i=0;i<F;++i){I={};I.col=d.values[k+i].col;I.rows=[];I.rows[0]={'val':d.values[k+i].rows[0].val,'info':d.values[k+i].rows[0].info};J.push(I)}for(i=0;i<H.length;++i){for(var j=0;j<F;j++){J[j].rows[i]={'val':d.values[k+j].rows[H[i]].val,'info':d.values[k+j].rows[H[i]].info}}}var K=w(H,k,F);for(i=0;i<d.values[k].rows.length;++i){I=v(i,k,F);G[i]=K[I]}h=H.length;return G}function y(i){if(!i){return null}return{'type':i.type,'path':{'aa':i.path.aa,'di':i.path.di,'dii':i.path.dii}}}function z(j){var k=[];for(var i=0;i<j.length;++i){k.push(y(j[i]))}return k}function A(j,k){for(var i=0;i<j.length;++i){if(!j[i]){j[i]={path:{}}}j[i].path.mg=k.path.mg;j[i].path.mi=k.path.mi}}function B(k){var F=f.length;for(var i=0;i<k;++i){for(var j=0;j<F;++j){f.push(z(f[j]))}}}function C(M,F,G,H){var I=M?d.values.length-1:0;var J=d.values[I].rows;var K={};K.col=d.values[I].col;K.rows=[];var L=F?r.values:e.values;var N=F?G:H;var i,j,k;var O;if(F&&G===0){L[0]={'col':{'val':n},'rows':[]};A(f[0],J[0].ctx);L[0].rows.push({'val':J[0].val});for(i=1;i<J.length;++i){L[0].rows.push({'val':J[i].val});f.push(z(f[0]));A(f[i],J[i].ctx)}g=J.length;return}if(!F&&H===0){L[0]={'col':{'val':n},'rows':[]};for(i=0;i<J.length;++i){L[0].rows.push({'val':J[i].val})}for(i=0;i<f.length;++i){f[i][0].path.mg=J[0].ctx.path.mg;f[i][0].path.mi=J[0].ctx.path.mi;for(j=1;j<J.length;++j){f[i].push(y(f[i][0]));f[i][j].path.mg=J[j].ctx.path.mg;f[i][j].path.mi=J[j].ctx.path.mi}}return}var P=F?g:h;if(M){for(i=0;i<P;++i){for(j=0;j<L.length;++j){for(k=1;k<J.length;++k){O={'val':L[j].rows[i*J.length+k-1].val,'info':L[j].rows[i*J.length+k-1].info};L[j].rows.splice(i*J.length+k,0,O)}}}for(i=0;i<P;++i){for(j=0;j<J.length;++j){O={'val':J[j].val};K.rows.push(O)}}L.push(K);if(F){g*=J.length;for(i=0;i<g;i+=J.length){A(f[i],J[0].ctx);for(j=1;j<J.length;++j){var Q=z(f[i]);f.splice(i+j,0,Q);A(f[i+j],J[j].ctx)}}}else{h*=J.length;for(i=0;i<f.length;++i){for(j=0;j<h;j+=J.length){f[i][j].path.mg=J[0].ctx.path.mg;f[i][j].path.mi=J[0].ctx.path.mi;for(k=1;k<J.length;++k){f[i].splice(j+k,0,y(f[i][j]));f[i][j+k].path.mg=J[k].ctx.path.mg;f[i][j+k].path.mi=J[k].ctx.path.mi}}}}return}else{for(i=1;i<J.length;++i){for(j=0;j<N;++j){for(k=0;k<P;++k){O={'val':L[j].rows[k].val,'info':L[j].rows[k].info};L[j].rows.push(O)}}}for(j=0;j<J.length;++j){for(i=0;i<P;++i){O={'val':J[j].val};K.rows.push(O)}}L.splice(0,0,K);if(F){g*=J.length;B(J.length-1);for(i=0;i<g;++i){A(f[i],J[g%J.length].ctx)}}else{h*=J.length;for(i=0;i<f.length;++i){var R=[];A(f[i],J[0].ctx);for(j=1;j<J.length;++j){var S=z(i);A(S,J[0].ctx);R=R.concat(z(i))}f[i]=f[i].concat(R)}}}}function D(k,F,G){var H=r.values;var i=0;for(i=0;i<k;++i){var I={};I.col=d.values[F+i].col;I.rows=[];I.rows[0]={'val':d.values[F+i].rows[0].val,'info':d.values[F+i].rows[0].info};H.push(I)}for(i=1;i<d.values[F].rows.length;++i){if(t(i,i-1,F,k)){G[i]=g}else{++g;for(var j=0;j<k;j++){H[j].rows[g]={'val':d.values[F+j].rows[i].val,'info':d.values[F+j].rows[i].info}}G[i]=g}}++g}function E(){var k=0,F=d.values.length;var G=c,H=b;var M=false,I=true;var i;if(d.values[0].type==="MND"){++k;if(G>0){--G}else{--H;I=false}}if(d.values[F-1].type==="MND"){M=true;--F;if(H>0){--H;I=false}else{I=true;--G}}if(k<F){var J=[];if(H>0||G>0){J[0]=0;g=0;if(G>0){D(G,k,J)}else{g=1;for(i=1;i<d.values[k].rows.length;++i){J[i]=0}}var K=[];if(H>0){K=x(k+G,H)}else{h=1;for(i=0;i<d.values[k].rows.length;++i){K[i]=0}}f=new Array(g);for(i=0;i<g;++i){f[i]=[];for(var j=0;j<h;++j){f[i][j]=null}}for(i=0;i<d.values[k].rows.length;++i){f[J[i]][K[i]]=d.values[k+G+H-1].rows[i].ctx}}if(G<c||H<b){C(M,I,G,H)}}}o.process=function(){s();if(!d||!d.values||d.values.length===0){return}b=a&&a["numberOfDimensionsInColumn"]!==undefined?a["numberOfDimensionsInColumn"]:1;if(!b||b<0){b=0}if(b>d.values.length){b=d.values.length}c=d.values.length-b;if(c<0){c=0}if(d.values.length===1&&d.values[0].type==="MND"){q()}else{E()}};return o}});sap.riv.module({qname:'sap.viz.modules.tablecontainer',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.modules.layout',version:'4.0.0'},{qname:'sap.viz.modules.util.DimensionalInfoHandler',version:'4.0.0'},{qname:'sap.viz.data.handler.MultiChartDataHandler',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,O,F,l,D,M,a,b,d,c){var r=function(e,f){var w=0,h=0,g=0,k=0,p={},n=e.props(null),o={},q={},s=[],t=[],u=null,v={},x={},y={},z=null,A=3,B=2,C=d3.scale.ordinal(),E=d3.scale.ordinal(),G=new d('initialized','showTooltip','hideTooltip'),H=0,I=0;var P='multiLayout';function J(m){return a.module.get(m).execute(f)}function K(){if(T.isEmptyObject(v)){F.error('Container configuration missing')}L();H=0,I=0;N(v,'xAxis',q.columnData);N(v,'yAxis',q.rowData);N(v,'xAxis2',q.columnData);N(v,'yAxis2',q.rowData);R();U("plot");U("xAxis2");U("yAxis");V();W();I=I+H}function L(){delete q.contexts;delete q.columnData;delete q.rowData;delete q.dataHandler;var i=D({'numberOfDimensionsInColumn':n.numberOfDimensionsInColumn},u.getAnalysisAxisDataByIdx(0));i.process();var j=i.getRowDimensionData();var m=i.getColumnDimensionData();var _=i.getContexts();A=_.length;B=A>0?_[0].length:B;var l1=new b();l1.addAnalysisAxis({key:l1.key,index:0,values:m.values});var m1=new b();m1.addAnalysisAxis({key:j.key,index:0,values:j.values});q.contexts=_;q.columnData=l1;q.rowData=m1;q.dataHandler=new M(u)}function N(v,i,j){if(!v.modules[i]){return}var m=v.modules[i],_=x[i]=J(m.id);Q(i,j);var l1={},m1,n1;if(m.configure){m1=p[m.configure.propertyCategory]||{};n1=m.configure.properties||{};O.extend(true,l1,n1,m1);_.properties(l1)}if(_.dispatch&&_.dispatch()['initialized']){I++;_.dispatch().on('initialized.tablecontainer',i1)}y[i]=z.append('g').attr('class',i)}function Q(i,j){if(x[i]){x[i].data(j)}}function R(){var j=v.modules.plot;if(!j){return}X();Y();var m=q.contexts;var _=x.plot=[];for(var l1=0;l1<B;l1++){for(var m1=0;m1<A;m1++){var n1=m[m1][l1];if(n1){var i=l1*A+m1;var o1=_[i]=J(j.id);o1.config(j);if(o1.dispatch){H++;var p1=o1.dispatch();if(p1.initialized){p1.on('initialized.tablecontainer',i1)}if(p1.showTooltip){p1.on('showTooltip.tablecontainer',j1)}if(p1.hideTooltip){p1.on('hideTooltip.tablecontainer',k1)}}}}}}function S(){var j=x.plot;if(j){var m=v.modules.plot;if(!m){return}var _=null,l1,m1;var n1=m.configure;if(n1){m1={};if(n1.propertyCategory){m1[n1.propertyCategory]=n1.properties}l1=p;_={};O.extend(true,_,m1,l1)}else{_=p}for(var i=0,o1=j.length;i<o1;i++){if(_&&j[i]){j[i].properties(_)}}}}function U(m){if(m==='plot'){S()}else{var i=x[m];if(i){var j=v.modules[m];if(!j){return}var _;var l1=j.configure;if(l1){_=O.extend(true,{},p[l1.propertyCategory])}else{_=p}i.properties(_)}}}function V(){var j=q.dataHandler;var m=q.contexts;var _=x.plot;for(var l1=0;l1<B;l1++){for(var m1=0;m1<A;m1++){var n1=m[m1][l1];if(n1){var i=l1*A+m1;var o1=j.getSubDataAdapter(n1);if(_[i]){_[i].data(o1)}}}}}function W(){var j=v.modules.plot;if(!j){return}var _=x.plot;var l1=y.plot=[];if(y.plotRoot){y.plotRoot.remove()}var m1=y.plotRoot=z.append('g').attr('class','plot');for(var n1=0;n1<B;n1++){for(var o1=0;o1<A;o1++){var i=n1*A+o1;if(_[i]){var p1=_[i];l1[i]=m1.append('g').attr('class','plot'+i);p1.parent(l1[i]);if(p1.modules){var q1=p1.modules();var r1;for(var m in q1){if(q1.hasOwnProperty(m)){r1='plot['+i+']'+'.'+m;s.push(r1);x['plot['+i+']'+'.'+m]=q1[m]}}}var s1=j.controllers;if(s1){for(var nc in s1){if(s1.hasOwnProperty(nc)){var u1=s1[nc];var v1=J(u1.id);v1().module(p1);var w1={};var x1=u1.propertyCategory;var y1=p[x1];var z1=u1.properties;O.extend(true,w1,z1,y1);v1.properties(w1);t.push('plot['+i+']'+'.'+nc);x['plot['+i+']'+'.'+nc]=v1}}}}}}}function X(){for(var i=0,j=t.length;i<j;i++){delete x[t[i]]}t=[]}function Y(){for(var i=0,j=s.length;i<j;i++){delete x[s[i]]}s=[]}function Z(){if(T.isEmptyObject(x)||!w||!h){return}var i={};if(x.xAxis){x.xAxis.drawable(true);i.south={size:x.xAxis.getPreferredSize()}}if(x.yAxis){x.yAxis.drawable(true);i.west={size:x.yAxis.getPreferredSize()}}if(x.xAxis2){x.xAxis2.drawable(true);i.north={size:x.xAxis2.getPreferredSize()}}if(x.yAxis2){x.yAxis2.drawable(true);i.east={size:x.yAxis2.getPreferredSize()}}if(x.plot){i.center={}}var j=l({type:'border',bias:'none',size:{width:w,height:h},prefs:i});g=j.center.bounds.width;k=j.center.bounds.height;C.rangeBands([0,g]);E.rangeBands([0,k]);if(j.north){var m=0,_=0;if(j.west){m=j.north.bounds.width-j.west.bounds.width;_=j.north.bounds.x+j.west.bounds.width}if(j.east){m=j.north.bounds.width-j.east.bounds.width}y.xAxis2.attr('transform','translate('+_+','+j.north.bounds.y+')');x.xAxis2.width(m).height(j.north.bounds.height);x.xAxis2.gridlineLength(j.center.bounds.height)}else if(x.xAxis2){x.xAxis2.drawable(false)}if(j.east){y.yAxis2.attr('transform','translate('+j.east.bounds.x+','+j.east.bounds.y+')');x.yAxis2.width(j.east.bounds.width).height(j.east.bounds.height);x.yAxis2.gridlineLength(j.center.bounds.width)}else if(x.yAxis2){x.yAxis2.drawable(false)}if(j.south){var l1=0,m1=0;if(j.west){l1=j.south.bounds.width-j.west.bounds.width;m1=j.south.bounds.x+j.west.bounds.width}if(j.east){l1=j.south.bounds.width-j.east.bounds.width}y.xAxis.attr('transform','translate('+m1+','+j.south.bounds.y+')');x.xAxis.width(l1).height(j.south.bounds.height);x.xAxis.gridlineLength(j.center.bounds.height)}else if(x.xAxis){x.xAxis.drawable(false)}if(j.west){y.yAxis.attr('transform','translate('+j.west.bounds.x+','+j.west.bounds.y+')');x.yAxis.width(j.west.bounds.width).height(j.west.bounds.height);x.yAxis.gridlineLength(j.center.bounds.width)}else if(x.yAxis){x.yAxis.drawable(false)}if(j.center){y.plotRoot.attr('transform','translate('+j.center.bounds.x+','+j.center.bounds.y+')');var n1=l({type:'table',bias:'none',size:{width:j.center.bounds.width,height:j.center.bounds.height},columns:B,rows:A,cellpadding:n.cellPadding,paddingThreshold:n.paddingThreshold});for(var o1=0;o1<B;o1++){for(var p1=0;p1<A;p1++){var q1=x.plot[o1*A+p1];if(q1){var r1=n1[o1][p1];var s1=y.plot[o1*A+p1];q1.width(r1.bounds.width).height(r1.bounds.height);s1.attr('transform','translate('+r1.bounds.x+','+r1.bounds.y+')')}}}}}function $(j){return function(m){if(!arguments.length){return o[j]}else{if(!o[j]){o[j]=m}else{var _=o[j];if(m.distinctValuesObj){for(var i in m.distinctValuesObj){if(m.distinctValuesObj.hasOwnProperty(i)){_.distinctValuesObj[i]=m.distinctValuesObj[i]}}}if(m.min<_.min){_.min=m.min}if(m.max>_.max){_.max=m.max}if(m.hasNoValue){_.hasNoValue=true}}}}}function a1(j){for(var i=0,m=j.length;i<m;i++){e1[j[i]+'DataRange']=$(j[i])}}function b1(i){p=i;if(i[P]){if(i[P].mergeDataRange){n.mergeDataRange=i[P].mergeDataRange;a1(n.mergeDataRange)}var j=n.numberOfDimensionsInColumn;O.extend(true,n,i[P]);if(x.plot&&j!==n.numberOfDimensionsInColumn){L();o={};Q('xAxis',q.columnData);Q('yAxis',q.rowData);Q('xAxis2',q.columnData);Q('yAxis2',q.rowData);V();Z()}}}function c1(){var j=[];for(var i=0;i<B;i++){j.push(i)}var m=x.xAxis?x.xAxis:x.xAxis2;C.domain(j).rangeBands([0,g])}function d1(){var j=[];for(var i=0;i<A;i++){j.push(i)}var m=x.yAxis?x.yAxis:x.yAxis2;E.domain(j).rangeBands([0,k])}function e1(i){i.each(function(u){z=i;c.drawBound(i,w,h);if(T.isEmptyObject(x)){K()}g1()});return e1}e1.width=function(_){if(!arguments.length){return w}w=_;Z();return e1};e1.height=function(_){if(!arguments.length){return h}h=_;Z();return e1};e1.size=function(_){if(!arguments.length){return{'width':w,'height':h}}h=_.height;w=_.width;Z();return e1};e1.data=function(_){if(!arguments.length){return u}u=_;for(var i in o){if(o.hasOwnProperty(i)){delete o[i]}}if(!T.isEmptyObject(x)){L();I=I-H;Q('xAxis',q.columnData);Q('yAxis',q.rowData);Q('xAxis2',q.columnData);Q('yAxis2',q.rowData);H=0;R();U("plot");U("xAxis2");U("yAxis");V();W();I=I+H}return e1};e1.properties=function(_){if(!arguments.length){return n}b1(_);if(!T.isEmptyObject(x)){U("plot");U("xAxis2");U("yAxis")}return e1};e1.config=function(_){if(!arguments.length){return v}v=_;return e1};e1.xCategoryScale=function(_){if(!arguments.length){c1();return C}C=_;return e1};e1.yCategoryScale=function(_){if(!arguments.length){d1();return E}E=_;return e1};e1.modules=function(_){if(!arguments.length){if(T.isEmptyObject(x)){K()}return x}x=_;return e1};e1.parent=function(_){if(!arguments.length){return z}z=_;return e1};e1.dispatch=function(_){if(!arguments.length){return G}G=_;return e1};e1.infoForSizeLegend=function(){var m;for(var i=-1,j=x.plot.length;++i<j;){m=x.plot[i];if(m){break}}return{space:m?(w-g+m.infoForSizeLegend().space*B):0,number:B,plotHeight:m?m.height():0}};e1.plotRegion=function(){return{selection:y.plotRoot,width:g,height:k}};function f1(i){if(y[i]){z.select('.'+i).datum(x[i].data()).call(x[i])}}function g1(){f1('xAxis');f1('xAxis2');f1('yAxis');f1('yAxis2');if(y.plot){for(var i=0,j=y.plot.length;i<j;i++){if(y.plot[i]){y.plot[i].datum(x.plot[i].data()).call(x.plot[i])}}}}var h1=0;function i1(){if(++h1===I){h1=0;G.initialized()}}function j1(i){G.showTooltip(i)}function k1(i){G.hideTooltip(i)}return e1};return r});sap.riv.module({qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.Constants',version:'4.0.0'},{qname:'sap.viz.modules.tablecontainer',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(M,m,f,a,C){var b={'id':'multiplier','name':'Chart Multiplier','type':a.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':0};var c={'id':'sap.viz.modules.tablecontainer','type':m.Type.Container,'name':'table container','description':'Settings for the subcharts layout of multiple charts.','properties':{'mergeDataRange':{'name':'mergeDataRange','supportedValueType':'List','supportedValues':['ANY DATA RANGE NAME'],'defaultValue':null,'description':'Set mergeDataRange. Specify names of data range you want to merge, we will generate corresponding functions in this module to do the real merge. for example, if \'primary\' and \'second\' are specified here, two functions will be generated: \'primaryDataRange\' and \'secondDataRange\'. the function name is the range name plus \'DataRange\'. these generated functions support both getter and setter, for setter, you can pass any number of ranges {min:NUM, max:NUM} to it to merge, then you can get the merged result through the getter.','isExported':false},'numberOfDimensionsInColumn':{'name':'numberOfDimensionsInColumn','supportedValueType':'PositiveInt','defaultValue':1,'description':'Set the specified number of dimensions, retrieved from the end of the dimension list in multiplier, will be put in column when doing multiple layout.'},'cellPadding':{'name':'cellPadding','supportedValueType':'PositiveInt','defaultValue':15,'description':'Set padding between cells of sub plots. If cellPadding value exceeds containerSize * threshold, we set it to 0.'},'paddingThreshold':{'name':'paddingThreshold','supportedValueType':'Number','defaultValue':0.2,'description':'Set paddingThreshold, if cellPadding value exceeds the containerSize * threshold, we set it to 0.','isExported':false}},'events':{'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'css':null,'feeds':[b],'fn':f};M.register(c)});sap.riv.module({qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.xycontainer',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.xycontainer','type':C.Module.Type.Container,'name':'single container','properties':null,'css':null,'configure':null,'events':{'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.datalabel',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.format.FormatManager',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'}],function Setup(T,a,f,M,O){var b=function(m,c){var e='12px',g='#333333',h='"Open Sans" Arial, Helvetica, sans-serif',l='normal';var p=m.props(null);var b,n,o;var q,s;var t;var u;var v='horizontal',w,z,A,B,C,D,E,F,G,H,I,J,K,L;var N=false;var P='#ffffff',Q=false,R=false,S=2,U=false,V='#ffffff';function W(){}W.removeLabel=function(){if(a.isExist(q.parent())){q.parent().selectAll('g.datalabel').remove()}};W.showLabel=function(){if(A&&q.parent()){Y();q.parent().selectAll('g.datalabel').remove();s=q.parent().node().getBoundingClientRect();d1();if(b.length===0){return}if(Q){g=P}else if(U){g=V}t='fill:'+g+'; font-family: '+h+'; font-weight: '+l+'; font-size: '+e+"; text-anchor:start";var j=q.parent().selectAll('.datashapesgroup');j.each(function(d,i){var k=d3.select(this).selectAll('g.datalabel').data([n[i]]);k.enter().append('g').attr('class','datalabel');k.each(function(r,x){var y=d3.select(this).selectAll('text.datalabel').data(r);var _=y.enter().append('g').attr('transform',function(W){return W.transformString});_.each(function(d,i){var h1=q.parent().selectAll('.datapoint').data()[i];if(a.isExist(h1.decoras)){h1.decoras.push(this)}});_=_.append('text');_.text(function(d){return d.value});_.attr('class','datalabel').attr('visibility','hidden');_.attr('fill',g).attr('x',function(d){return d.x}).attr('style',t).attr('y',function(d){return d.y});if(v==='vertical'){_.attr('transform',function(d){return'rotate(270 '+d.centerX+','+d.centerY+')'})}})});X()}};function X(){var d=q.parent().selectAll('text.datalabel')[0];var j=[],W,k={};var i;for(i=0;i<d.length;i++){W={};var r=d[i].getBoundingClientRect();W.top=r.top;W.left=r.left;W.right=r.right;W.bottom=r.bottom;W.visible=true;W.needMove=false;W.x=0;W.y=0;j.push(W)}k.top=s.top;k.left=s.left;k.right=s.right;k.bottom=s.bottom;$(o,j,k);f1(j,k);for(i=0;i<j.length;i++){if(j[i].visible){if(j[i].needMove){d[i].setAttribute('x',j[i].x);d[i].setAttribute('y',j[i].y)}d[i].setAttribute('visibility','visible')}else{d[i].parentNode.parentNode.removeChild(d[i].parentNode)}}}function Y(){var d=c.styleManager.query('viz-datalabel');if(d){if(d['fill']){g=d['fill']}if(d['font-family']){h=d['font-family']}if(d['font-size']){e=d['font-size']}if(d['font-weight']){l=d['font-weight']}}}function Z(d,i){if(a.isExist(D)){var j,k,r,x;if(a.isArray(i.__data__.val)){k=D[0];x=K?0:1;r=i.__data__.ctx[x].path.mi>=k.length?k.length-1:i.__data__.ctx[x].path.mi;j=f.format(d,k[r])}else{k=D[i.__data__.ctx.path.mg];if(a.isExist(k)){r=i.__data__.ctx.path.mi>=k.length?k.length-1:i.__data__.ctx.path.mi;j=f.format(d,k[r])}else{j=d}}return j}return d}var $=function(d,j,k){if(d!==null&&j!==null){for(var i=0;i<d.length;i++){if(i<j.length){if(!F&&!E&&C&&w==='horizontal'){if(G&&d[i].value===0){var r=d[i].datapointRect;j[i].needMove=true;j[i].x=d[i].outsideX;j[i].y=d[i].outsideY;j[i].left=r.right;j[i].right=r.right+d[i].width}else if(B==='inside'){if(d[i].width>d[i].ownerWidth||g1(j[i],k)){j[i].needMove=true;j[i].x=d[i].outsideX;j[i].y=d[i].outsideY;var x=d[i].datapointRect;if(d[i].value>0){j[i].left=x.left+d[i].ownerWidth;j[i].right=x.right+d[i].width}else{j[i].left=x.left-d[i].width;j[i].right=x.right-d[i].ownerWidth}}if(g1(j[i],k)){j[i].visible=false}}else if(B==='outside'){if(g1(j[i],k)){if(d[i].width<=d[i].ownerWidth){j[i].needMove=true;j[i].x=d[i].insideX;j[i].y=d[i].insideY;var y=d[i].datapointRect;if(d[i].value>0){j[i].left=y.left+(d[i].ownerWidth-d[i].width)/2;j[i].right=y.right-(d[i].ownerWidth-d[i].width)/2}else{j[i].left=y.left+(d[i].ownerWidth-d[i].width)/2;j[i].right=y.right-(d[i].ownerWidth-d[i].width)/2}if(g1(j[i],k)){j[i].visible=false}}else{j[i].visible=false}}}}else if(!F&&!E&&C&&w==='vertical'){if(G&&d[i].value===0){j[i].needMove=true;j[i].x=d[i].outsideX;j[i].y=d[i].outsideY;var _=d[i].datapointRect;j[i].top=_.top+d[i].height;j[i].bottom=_.top}else if(B==='inside'){if(d[i].height>d[i].ownerHeight||g1(j[i],k)){j[i].needMove=true;j[i].x=d[i].outsideX;j[i].y=d[i].outsideY;var h1=d[i].datapointRect;if(d[i].value>=0){j[i].top=h1.top-d[i].height;j[i].bottom=h1.bottom-d[i].ownerHeight}else{j[i].top=h1.top+d[i].ownerHeight;j[i].bottom=h1.bottom+d[i].height}}if(g1(j[i],k)){j[i].visible=false}}else if(B==='outside'){if(g1(j[i],k)){if(d[i].height<=d[i].ownerHeight){j[i].needMove=true;j[i].x=d[i].insideX;j[i].y=d[i].insideY;var i1=d[i].datapointRect;if(d[i].value>0){j[i].top=i1.top+(d[i].ownerHeight-d[i].height)/2;j[i].bottom=i1.bottom-(d[i].ownerHeight-d[i].height)/2}else{j[i].top=i1.top+(d[i].ownerHeight-d[i].height)/2;j[i].bottom=i1.bottom-(d[i].ownerHeight-d[i].height)/2}if(g1(j[i],k)){j[i].visible=false}}else{j[i].visible=false}}}}else if(!F&&!E&&!C){if(w==='horizontal'){if(G&&d[i].value===0&&!K&&d[i].width===0){var j1=d[i].datapointRect;j[i].left=j1.right;j[i].right=j1.right+d[i].width}else if(!H&&d[i].width>d[i].ownerWidth){j[i].visible=false}}else if(w==='vertical'){if(G&&d[i].value===0&&!K&&d[i].height===0){var k1=d[i].datapointRect;j[i].top=k1.top+d[i].height;j[i].bottom=k1.top}else if(!H){if(Q||U){if(R||U){if(d[i].height>d[i].ownerHeight/2){j[i].visible=false}}else{if(d[i].height>d[i].ownerHeight){j[i].visible=false}}if(d[i].width>d[i].ownerWidth){j[i].visible=false}}else if(d[i].height>d[i].ownerHeight){j[i].visible=false}}}if(G&&d[i].value===0&&B==='inside'&&!K){j[i].needMove=true;j[i].x=d[i].outsideX;j[i].y=d[i].outsideY}else if(!G&&d[i].value===0){j[i].visible=false}if(!Q&&!U&&z==='rectCoordinate'&&w==='vertical'&&I==='up'){var l1=d[i].datapointRect;if((l1.left===k.left)){j[i].visible=false}}if(g1(j[i],k)){j[i].visible=false}}else if(F){if(w==='horizontal'){if(g1(j[i],k)||(d[i].width>d[i].ownerWidth)||d[i].value===0){j[i].visible=false}}else if(w==='vertical'){if(g1(j[i],k)||(d[i].height>d[i].ownerHeight)||d[i].value===0){j[i].visible=false}}}else if(E){if(g1(j[i],k)){j[i].visible=false}}}}a1()}};var a1=function(){Q=false;R=false;U=false};var b1=function(d){w=a.isExist(d.orientation)?d.orientation:w;z=a.isExist(d.paintingMode)?d.paintingMode:z;A=a.isExist(d.visible)?d.visible:A;B=a.isExist(d.position)?d.position:B;C=a.isExist(d.automaticInOutside)?d.automaticInOutside:C;D=a.isExist(d.formatString)?d.formatString:D;E=a.isExist(d.isPercentMode)?d.isPercentMode:E;F=a.isExist(d.isStackMode)?d.isStackMode:F;N=a.isExist(d.isDonut)?d.isDonut:N;G=a.isExist(d.showZero)?d.showZero:G;H=a.isExist(d.outsideVisible)?d.outsideVisible:H;I=a.isExist(d.outsidePosition)?d.outsidePosition:I;K=a.isExist(d.isGeoChart)?d.isGeoChart:K;J=a.isExist(d.positionPreference)?d.positionPreference:J;L=a.isExist(d.type)?d.type:L};var c1=function(r){var d;if(r.info){var i=r.info.customlabel;if(i){if(i.type==='url'){d=r.val}else if(i.type==='string'){d=i.val}}else{d=r.val}}else{d=r.val}return d};var d1=function(){u=q.parent()[0][0].ownerSVGElement;b=[],n=[],o=[];if(u!==null&&u.getBBox().width===0){return}var i=0,j=0,W,d,_;var h1,i1,j1;var k1=q.parent().selectAll('.datashapesgroup');if(k1[0].length===0){k1=q.parent()}var l1=k1.selectAll('.datapoint');if(z==='polarCoordinate'){for(i=0;i<k1[0].length;i++){d=k1[0][i].getTransformToElement(u);b=[];for(j=0;j<l1[i].length;j++){W={};_=l1[i][j];h1=_.getTransformToElement(u);if(!a.isExist(h1)){break}W.dataShape=_;var m1='';j1=(_.__data__.endAngle-_.__data__.startAngle)/(2*Math.PI);j1=Z(j1,_);if(L==='label and value'){var n1=_.__data__.dimValueObjects;for(var k=0;k<n1.length;k++){m1+=c1(n1[k]);if(k!==(n1.length-1)){m1+='/'}}}W.value=m1+' ('+j1+')';W.transformString=('translate('+(h1.e-d.e)+','+(h1.f-d.f)+')');i1=T.fastMeasure(W.value,e,l,h);var r=_.__data__.r;var o1=(_.__data__.endAngle+_.__data__.startAngle)/2;var p1=Math.sin(o1);var q1=Math.cos(o1);var r1,s1;if(N){r1=0.65*r*p1;s1=0.65*r*q1}else{r1=0.5*r*p1;s1=0.5*r*q1}W.x=0+r1*h1.a-i1.width/2;W.y=0-s1*h1.d+i1.height/2;W.centerX=r1;W.centerY=s1;W.datapointRect=_.getBoundingClientRect();b.push(W);o.push(W)}n.push(b)}}else if(z==='rectCoordinate'){for(i=0;i<k1[0].length;i++){d=k1[0][i].getTransformToElement(u);b=[];for(j=0;j<l1[i].length;j++){W={};_=l1[i][j];h1=_.getTransformToElement(u);if(!a.isExist(h1)){break}W.dataShape=_;var t1=_.getBBox();var u1;if(a.isArray(_.__data__.val)){if(K){u1=_.__data__.val[0]}else{u1=_.__data__.y}}else{if(E&&L==='value'){u1=_.__data__.value}else{u1=_.__data__.val}}if(L!=='value'&&_.__data__.isNegative){u1='-'+u1}var v1=0,w1=0;if(_.__data__.isOnlyOneCategory!==undefined){Q=true;if(_.__data__.isOnlyOneCategory){R=true;var x1=q.parent().selectAll('text.heatmapdatalabel')[0][0];if(x1){var y1=x1.getBBox();v1=y1.width;w1=y1.height}}}var z1=0,A1=0;if(_.__data__.isTreeMap!==undefined){U=true;var B1=q.parent().selectAll('text.treemapdatalabel')[0][0];if(B1){var C1=B1.getBBox();z1=C1.width;A1=C1.height}}W.value=Z(u1,_);if(L==='label and value'){W.value=_.__data__.label+' ('+W.value+')'}var x=t1.x*h1.a,y=t1.y*h1.d,D1=t1.width*h1.a,E1=t1.height*h1.d;W.transformString=('translate('+(h1.e-d.e)+','+(h1.f-d.f)+')');var F1=0,G1=0,H1=0,I1=0,J1=0,K1=0,L1=0,M1=0,N1=0,O1=0;if(Q||U){var P1=W.value;if(a.isNumber(P1)){P1=P1.toString()}var Q1=null;if(Q){Q1=P}else if(U){Q1=V}W.value=T.ellipsis(P1,null,D1-3,"fill:"+Q1+";font-family:"+h+";font-size:"+e)}i1=T.fastMeasure(W.value,e,l,h);if(w==='horizontal'){W.centerX=x+D1/2;W.centerY=y+E1/2;if(J&&B==='outside'){if(I==='right'){W.centerX=W.centerX+D1/2+i1.width/2}}else{if(B==='outside'){if(I==='left'||(!a.isExist(_.__data__.isNegative)&&u1<0)){W.centerX=W.centerX-(D1/2+i1.width/2)}else if(I==='right'){W.centerX=W.centerX+D1/2+i1.width/2}}}F1=x+D1/2;G1=y+E1/2;if(!(!a.isExist(_.__data__.isNegative)&&u1<0)){M1=W.centerX+D1/2+i1.width/2;O1=y+E1/2}else{L1=W.centerX-(D1/2+i1.width/2);N1=y+E1/2}}else{W.centerX=x+D1/2;W.centerY=y+E1/2;if(_.__data__.isNegative){I='down'}if(Q&&R){W.centerY+=i1.height/2}else if(U){W.centerY+=(A1/2+i1.height/2)}if(J&&B==='outside'){if(I==='up'){W.centerY=W.centerY-E1/2-i1.height/2}}else{if(B==='outside'){if(I==='down'||(!a.isExist(_.__data__.isNegative)&&u1<0)){W.centerY=W.centerY+E1/2+i1.height/2}else if(I==='up'){W.centerY=W.centerY-E1/2-i1.height/2}}}G1=y+E1/2;F1=x+D1/2;if(!(!a.isExist(_.__data__.isNegative)&&u1<0)){I1=W.centerY-E1/2-i1.height/2;H1=x+D1/2}else{K1=W.centerY+E1/2+i1.height/2;J1=x+D1/2}}W.x=W.centerX-i1.width/2;W.y=W.centerY-i1.y/2;W.width=i1.width;W.height=i1.height;W.ownerWidth=D1;W.ownerHeight=E1;W.datapointRect=_.getBoundingClientRect();W.insideX=F1-i1.width/2;W.insideY=G1-i1.y/2;if(w==='horizontal'){if(!(!a.isExist(_.__data__.isNegative)&&u1<0)){W.outsideX=M1-i1.width/2;W.outsideY=O1-i1.y/2}else{W.outsideX=L1-i1.width/2;W.outsideY=N1-i1.y/2}}else if(w==='vertical'){if(!(!a.isExist(_.__data__.isNegative)&&u1<0)){W.outsideX=H1-i1.width/2;W.outsideY=I1-i1.y/2}else{W.outsideX=J1-i1.width/2;W.outsideY=K1-i1.y/2}}b.push(W);o.push(W)}n.push(b)}}};var e1=function(d,i){var j=d.left,k=d.top,r=d.right,x=d.bottom;var y=i.left,_=i.top,h1=i.right,i1=i.bottom;if(j<=y&&y<=r&&k<=_&&_<=x){return true}if(j<=h1&&h1<=r&&k<=_&&_<=x){return true}if(j<=y&&y<=r&&k<=i1&&i1<=x){return true}if(j<=h1&&h1<=r&&k<=i1&&i1<=x){return true}if(y<=j&&j<=h1&&_<=k&&k<=i1){return true}if(y<=r&&r<=h1&&_<=k&&k<=i1){return true}if(y<=j&&j<=h1&&_<=x&&x<=i1){return true}if(y<=r&&r<=h1&&_<=x&&x<=i1){return true}if(j<=y&&y<=r&&_<=k&&k<=i1){return true}if(j<=y&&y<=r&&_<=x&&x<=i1){return true}if(j<=h1&&h1<=r&&_<=k&&k<=i1){return true}if(j<=h1&&h1<=r&&_<=x&&x<=i1){return true}return false};var f1=function(d,k){if(d===null||k===null){return}for(var i=0;i<d.length;i++){var r=d[i];if(!r.visible){continue}for(var j=i+1;j<d.length;j++){var x=d[j];if(!x.visible){continue}if(e1(r,x)){x.visible=false}}}};var g1=function(W,d){if(W.top<d.top||W.left<d.left||W.right>d.right||W.bottom>d.bottom){return true}return false};W.plot=function(_){if(!arguments.length){return q}q=_};W.parent=function(){};W.properties=function(_){if(!arguments.length){return p}O.extend(true,p,_);b1(p)};return W};return b});sap.riv.module({qname:'sap.viz.modules.manifests.DataLabel',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.datalabel',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.datalabel','name':'datalabel','type':C.Module.Type.Supplementary,'properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether data label is visible.',},'isDonut':{'name':'isDonut','supportedValueType':'Boolean','defaultValue':false,'description':'Set for donut chart only.','isExported':false},'type':{'name':'type','supportedValueType':'String','defaultValue':'value','description':'Set the type of label','isExported':false},'automaticInOutside':{'name':'automaticInOutside','supportedValueType':'Boolean','defaultValue':true,'description':'if it is true, the data label will be automatically placed outside when data label postion property is inside and vice versa.','isExported':false},'showZero':{'name':'showZero','supportedValueType':'Boolean','defaultValue':true,'description':'if it is true, the value zero will be shown in data label.','isExported':false},'isGeoChart':{'name':'isGeoChart','supportedValueType':'Boolean','defaultValue':false,'description':'if it is true, it is a geo chart.','isExported':false},'isStackMode':{'name':'isStackMode','supportedValueType':'Boolean','defaultValue':false,'description':'Set for stack chart only.','isExported':false},'isPercentMode':{'name':'isPercentMode','supportedValueType':'Boolean','defaultValue':false,'description':'Set for percent chart only.','isExported':false},'positionPreference':{'name':'positionPreference','supportedValueType':'Boolean','defaultValue':false,'description':'If it is true, the data label position is defined by property outsidePosition no matter whether data label value is negative.','isExported':false},'outsideVisible':{'name':'outsideVisible','supportedValueType':'Boolean','defaultValue':true,'description':'when data label is oustide, it can control whether it is visible or not.','isExported':false},'outsidePosition':{'name':'outsidePosition','supportedValueType':'List','supportedValues':['up','down','left','right'],'defaultValue':'up','description':'when data label is oustide, its position is above the element.','isExported':false},'paintingMode':{'name':'paintingMode','supportedValueType':'List','supportedValues':['rectCoordinate','polarCoordinate'],'defaultValue':'rectCoordinate','description':'Set painting mode of data labels.','isExported':false},'position':{'name':'position','supportedValueType':'List','supportedValues':['inside','outside'],'defaultValue':'inside','description':'Set position of data labels.'},'orientation':{'name':'orientation','supportedValueType':'List','supportedValues':['horizontal','vertical'],'defaultValue':'vertical','description':'Set orientation of data labels.','isExported':false},'formatString':{'name':'formatString','supportedValueType':'Two-Dimensions-Array','defaultValue':null,'description':'Set format string of datalabel.As we may have dual axis with serveral measures,the first array is applied to primary axis and the second one is applied to the second axis.'+'If the length of format string list is less than the length of data series, the last format string in the list will be applied to exceeded data series.'}},'css':{'.viz-datalabel':{'description':'Define style for the data label','value':{'fill':'#333333','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}}},configure:null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.legend.mbcLegendArea',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.format.FormatManager',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T,l,F,b){var m=function(c){var w=400,e=200,v={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'12px','fontweight':'normal','color':'#333333'},f,g=[],k={width:18,height:20},n=10,p=1,s=[],o='selectionMode',q={markerPaddingRight:0.5,paddingTop:1,maxValueSpace:1.6,minValueSpace:0.5,minMarkerHeight:10,space:0},r=-1,t=20,u=false,z=l.get('IDS_ISNOVALUE'),A;var B=null;var C=function(a){a.each(function(){J();H();var h=f,x,y=0,K='visible',j,L;var M=d3.select(this);var N=M.selectAll('rect.indicatedRect');if(N.empty()){N=M.append('rect').attr('class','indicatedRect')}N.attr('visibility','hidden').attr('width',k.width+8).attr('height',k.height+2);var O=M.selectAll('g.row').data(h,function(d,i){return d.val});O.exit().remove();var P=O.enter().append('g').attr('class','row');P.append('rect').attr('class',function(d,i){return'marker ID_'+i});P.append('text');var Q=O.selectAll('rect.marker').attr('width',k.width).attr('height',k.height);var R,S;for(j=0,L=Q.length;j<L;j++){y=(k.height+p)*((r!==-1)?(j-1):j);if(h[j].val==='N/A'){y=(k.height+p)*(L>1?L:0)}Q[j][0].setAttribute('y',y);R={drawingEffect:'normal',fillColor:g[h.length-j-1]};S=B.register(R);Q[j][0].setAttribute('fill',S)}x=O.selectAll('text').text(function(d,i){var W=d.val;if(W==='N/A'){W=z}if(b.isExist(A.formatString)){W=F.format(W,A.formatString)}return W}).attr('x',k.width+n);y=0;for(j=0,L=x.length;j<L;j++){y=k.height*((r!==-1)?j:(j+1))+t/2;if(h[j].val==='N/A'){y=(k.height+p)*(L>1?L:0)+t/2+k.height/2}if(u&&j!==L-1&&(h[j].val!=='N/A')){K='hidden'}else{K='visible'}x[j][0].setAttribute('y',y);x[j][0].setAttribute('visibility',K)}if(h.length>1){var U=M.selectAll('text.topText');if(U.empty()){U=M.append('text').attr('class','topText')}var V;if(r!==-1){V=h[1].ctx.ranges.endValue}else{V=h[0].ctx.ranges.endValue}if(b.isExist(A.formatString)){V=F.format(V,A.formatString)}U.text(V).attr('x',k.width+n).attr('y',t/2)}else if(h.length===1){x[0][0].setAttribute('y',t/2+k.height/2)}M.attr('style','font-size: '+v.fontsize+'; font-family:'+v.fontfamily+'; font-weight:'+v.fontweight+'; fill: '+v.color+";");M.on('mouseover',D).on('mouseout',E).on('mousedown',G).on('mouseup',E)})};var D=function(){if(o==='single'||o==='none'||A.isHierarchy){return}var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('marker')===-1){return}var x=i.attr('x'),y=i.attr('y');var d=d3.selectAll('.indicatedRect');d.attr('visibility','visible').attr('fill','#cccccc').attr('x',x-4).attr('y',y-1)};var E=function(){if(o==='single'||o==='none'||A.isHierarchy){return}var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('marker')===-1){return}var d=d3.selectAll('.indicatedRect');d.attr('visibility','hidden')};var G=function(){if(o==='single'||o==='none'||A.isHierarchy){return}var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('marker')===-1){return}var x=i.attr('x'),y=i.attr('y');var d=d3.selectAll('.indicatedRect');d.attr('visibility','visible').attr('fill','#808080').attr('x',x-4).attr('y',y-1)};C.clickHandler=function(){if(o==='single'||o==='none'||A.isHierarchy){return}if(d3.event.type==='touchstart'){G()}var i=false;if(I(s,d3.event.target)){i=true}else{s.push(d3.event.target)}return i};C.width=function(_){if(!arguments.length){return w}w=_;return C};C.height=function(_){if(!arguments.length){return e}e=_;return C};C.properties=function(a){if(!arguments.length){return A}A=a;return C};C.data=function(_){if(!arguments.length){return f}f=_;return C};C.setSelectionMode=function(_){o=_};C.getPreferredSize=function(){var a=0,d=0,j=0,x=f;if(x){r=-1;J();var y=-1,K,L="font-size:"+v.fontsize+"; font-weight:"+v.fontweight+"; font-family:"+v.fontfamily;var M=x.length;for(var i=0;i<M;i++){if(x[i].val==='N/A'){K=T.measure(z,L);r=i}else{var N=x[i].val;if(b.isExist(A.formatString)){N=F.format(N,A.formatString)}K=T.measure(N,L)}if((K===undefined)||(K.width>y)){y=K.width}}t=parseInt(v.fontsize,10);var h=(q.maxValueSpace+1)*t;a=k.width+q.markerPaddingRight*t+y;if(r!==-1){d=(h+p)*(M+1)+t;j=(q.minMarkerHeight+p)*(M+1)+t}else{d=(h+p)*M+t;j=(q.minMarkerHeight+p)*M+t}}return{minHeight:j,minWidth:a,width:a,height:d}};C.color=function(_){if(!arguments.length){return g}g=_;return C};C.effectManager=function(_){if(!arguments.length){return B}B=_;return C};var H=function(){var a=f.length,h=0,d=0;u=false;if(r!==-1){d=(e-(a+2)*t)/(a+1)}else{d=(e-(a+1)*t)/a}h=d+t;var i=q.maxValueSpace*t;if(d>i){d=i;h=d+t}else{var j=q.minValueSpace*t;if(d<j){h=q.minMarkerHeight;d=0;u=true}}q.space=d;k.height=h};var I=function(a,d){for(var i=0;i<a.length;i++){if(a[i]===d){return true}}return false};var J=function(){var a=c.styleManager.query('viz-legend-valueLabel');if(a){if(a['fill']){v.color=a['fill']}if(a['font-family']){v.fontfamily=a['font-family']}if(a['font-size']){v.fontsize=a['font-size']}if(a['font-weight']){v.fontweight=a['font-weight']}}};return C};return m});sap.riv.module({qname:'sap.viz.modules.legend.sizeLegendArea',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.format.FormatManager',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T,l,F,a){var c=function(e){var w=400,h=200,v={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'14px','fontweight':'normal','color':'#333333'},f=[0,0,0],s,g,j,k=10,m=15,n=0,o;var p=null;var q=function(t){t.each(function(){if(s===undefined){return}r();var u=[],x="font-size:"+v.fontsize+"; font-weight:"+v.fontweight+"; font-family:"+v.fontfamily;if(n===0){n=T.measure('M',x).height}var y=Math.round(h/n);switch(y){case 0:case 1:case 2:case 3:u.push(f[0]);break;case 4:u.push(f[0]);if(f.length>1){u.push(f[f.length-1])}break;default:u=f}var z=[],A=-1,B,C;for(var i=0,D=u.length;i<D;i++){z.push(s(u[i])/2);C=b(u[i]);if(a.isExist(o.formatString)){C=F.format(C,o.formatString)}B=T.measure(C,x).width;if(B>A){A=B}}var E=z[0];var G=d3.select(this);var H=parseInt(v.fontsize,10);var I=G.selectAll('g.legend-circles');if(I.empty()){I=G.append('g').attr('class','legend-circles').data([z])}I.attr('transform','translate('+E+','+(E+H)+')');var J={drawingEffect:o.drawingEffect,graphType:'circle',fillColor:'#748CB2'};var K=p.register(J);var L=I.selectAll('circle').data(z,function(d,i){return d});L.exit().remove();L.enter().append('circle').attr('stroke','white').attr('stroke-width',1).attr('fill',K).attr('opacity','0.85');L.attr('r',function(d,i){return d}).attr('cx',function(d,i){return 0}).attr('cy',function(d,i){return E-d});var M=G.selectAll('g.legend-valueLabels');if(M.empty()){M=G.append('g').attr('class','legend-valueLabels').data([u])}var N=(E*2+m+k+A)>w?w:(E*2+m+k+A);M.attr('transform','translate('+N+', '+(E+H*3/2)+')');var O=M.selectAll('text').data(u,function(d,i){return d});O.exit().remove();O.enter().append('text').attr('text-anchor','end');O.attr('font-family',v.fontfamily).attr('font-size',v.fontsize).attr('font-weight',v.fontweight).attr('fill',v.color).text(function(d,i){var C=b(d);if(a.isExist(o.formatString)){C=F.format(C,o.formatString)}return C}).attr('dx',0).attr('dy',function(d,i){var Q=(i-1)*E-2;if(u.length===2&&i===1){Q=E-2}return Q});var P=G.selectAll('g.legend-guideLines');if(!P.empty()){P.remove()}P=G.append('g').attr('class','legend-guideLines').attr('transform','translate('+E+','+(E+H)+')');if(u.length>0){P.append('path').attr('stroke','gray').attr('d','M 0 '+-E+' L '+(E+k)+" "+-E)}if(u.length>1){P.append('path').attr('stroke','gray').attr('d','M 0 '+E+'L'+(E+k)+" "+E)}if(u.length>2){P.append('path').attr('stroke','gray').attr('d','M 0 '+(E-z[1])+' L '+E+" 0"+' M '+E+" 0 "+" L "+(E+k)+" 0")}})};q.width=function(_){if(!arguments.length){return w}w=_;return q};q.height=function(_){if(!arguments.length){return h}h=_;return q};q.color=function(_){if(!arguments.length){return g}return q};q.shapes=function(_){if(!arguments.length){return j}return q};q.properties=function(d){if(!arguments.length){return o}o=d;return q};q.data=function(_){if(!arguments.length){return f}f=_;return q};q.scale=function(_){if(!arguments.length){return s}s=_;return q};q.effectManager=function(_){if(!arguments.length){return p}p=_;return q};var r=function(){var d=e.styleManager.query('viz-legend-valueLabel');if(d){if(d['fill']){v.color=d['fill']}if(d['font-family']){v.fontfamily=d['font-family']}if(d['font-size']){v.fontsize=d['font-size']}if(d['font-weight']){v.fontweight=d['font-weight']}}};q.getPreferredSize=function(d,t,u,x,y,z,A){if(d){r()}var B=0,C=0,D=0;if(s&&t){n=0;var E=-1,G,H,I=null,J=f,K="font-size:"+v.fontsize+"; font-weight:"+v.fontweight+"; font-family:"+v.fontfamily;for(var i=0,L=J.length;i<L;i++){I=b(J[i]);if(a.isExist(o.formatString)){I=F.format(I,o.formatString)}H=T.measure(I,K);if((H===undefined)||(H.width>E)){E=H.width}}var M=E+m+k;G=d?(d.width-t-u-M-x.space-x.number*z)/(1+(1/y)*x.number):s(J[0]);n=H.height;if(!A&&x.plotHeight){G=Math.min((x.plotHeight-z)*y,G)}C=G+H.height*2;B=G+M;D=B}return{minHeight:C,minWidth:D,height:C,width:B}};return q};var b=function(v){return(v===null)?l.get('IDS_ISNOVALUE'):v};return c});sap.riv.module({qname:'sap.viz.util.DrawUtil',version:'4.0.0'},[],function Setup(){var D={};D.createMarkerData=function(p){var a;var t=p.borderWidth/2;switch(p.type){case"circle":a="M"+(-p.rx-t)+",0 A"+(p.rx+t)+","+(p.ry+t)+" 0 1,0 "+(p.rx+t)+",0 A";a+=(p.rx+t)+","+(p.ry+t)+" 0 1,0 "+(-p.rx-t)+",0z";break;case"cross":a="M"+(-p.rx-t)+","+(-p.ry/3-t)+"H"+(-p.rx/3-t)+"V"+(-p.ry-t)+"H"+(p.rx/3+t);a+="V"+(-p.ry/3-t)+"H"+(p.rx+t)+"V"+(p.ry/3+t)+"H"+(p.rx/3+t);a+="V"+(p.ry+t)+"H"+(-p.rx/3-t)+"V"+(p.ry/3+t)+"H"+(-p.rx-t)+"Z";break;case"diamond":a="M0,"+(-p.ry-t)+"L"+(p.rx+t)+",0"+" 0,"+(p.ry+t)+" "+(-p.rx-t)+",0"+"Z";break;case"square":a="M"+(-p.rx-t)+","+(-p.ry-t)+"L"+(p.rx+t)+",";a+=(-p.ry-t)+"L"+(p.rx+t)+","+(p.ry+t)+"L"+(-p.rx-t)+","+(p.ry+t)+"Z";break;case"triangle-down":a="M0,"+(p.ry+t)+"L"+(p.rx+t)+","+-(p.ry+t)+" "+-(p.rx+t)+","+-(p.ry+t)+"Z";break;case"triangle-up":a="M0,"+-(p.ry+t)+"L"+(p.rx+t)+","+(p.ry+t)+" "+-(p.rx+t)+","+(p.ry+t)+"Z";break;case"triangle-left":a="M"+-(p.rx+t)+",0L"+(p.rx+t)+","+(p.ry+t)+" "+(p.rx+t)+","+-(p.ry+t)+"Z";break;case"triangle-right":a="M"+(p.rx+t)+",0L"+-(p.rx+t)+","+(p.ry+t)+" "+-(p.rx+t)+","+-(p.ry+t)+"Z";break;case"intersection":a="M"+(p.rx+t)+","+(p.ry+t)+"L"+(p.rx/3+t)+",0L"+(p.rx+t)+","+-(p.ry+t)+"L";a+=(p.rx/2-t)+","+-(p.ry+t)+"L0,"+(-p.ry/3-t)+"L"+(-p.rx/2+t)+","+-(p.ry+t)+"L";a+=-(p.rx+t)+","+-(p.ry+t)+"L"+-(p.rx/3+t)+",0L"+-(p.rx+t)+","+(p.ry+t)+"L";a+=(-p.rx/2+t)+","+(p.ry+t)+"L0,"+(p.ry/3+t)+"L"+(p.rx/2-t)+","+(p.ry+t)+"Z";break;case'squareWithRadius':var r=p.rx;var b=r-3;a="M0,"+-r+"L"+-b+","+-r+"Q"+-r+","+-r+" "+-r+","+-b+"L"+-r+","+b+"Q"+-r+","+r+" "+-b+","+r;a+="L"+b+","+r+"Q"+r+","+r+" "+r+","+b+"L"+r+","+-b+"Q"+r+","+-r+" "+b+","+-r+"Z";break}return a};function g(p){var r;switch(p.type){case"circle":r="M0,0A0,0 0 1,0 0,0A0,0 0 1,0 0,0z";break;case"cross":r="M0,0H0V0H0V0H0V0H0V0H0V0H0Z";break;case"diamond":r="M0,0L0,0 0,0 0,0Z";break;case"triangle-down":case"triangle-up":case"triangle-left":case"triangle-right":r="M0,0L0,0 0,0Z";break;case"intersection":r="M0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0Z";break;case'squareWithRadius':r="M0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0Z";break;case"square":r="M0,0L0,0L0,0L0,0Z";break;default:r="M0,0L0,0L0,0L0,0Z";break}return r}D.createElements=function(d,p){return d.append("path").attr("class",p.className)};D.createElement=function(d,p,e){var a=d.append("path").attr("class",p.className);p.node=a;D.drawGraph(p,e);return a};D.drawGraph=function(p,e){var a={type:p.graphType,rx:Math.round(p.rx),ry:Math.round(p.ry),borderWidth:p.borderWidth?Math.round(p.borderWidth):0};var d=D.createMarkerData(a);var f=e.register(p);p.node.attr("fill",f).attr("stroke-width",p.borderWidth).attr("stroke",p.borderColor).attr("visibility",p.visibility).attr("stroke-opacity",p.strokeOpacity);if(p.animateTime&&p.animateTime>0){p.node.attr("d",g(a));p.node.transition().duration(p.animateTime).attr("d",d).each('end',p.endFunc)}else{p.node.attr("d",d)}return p.node};return D});sap.riv.module({qname:'sap.viz.modules.legend.colorLegendArea',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'}],function Setup(T,b,D,R){var c=function(e){var w=400,h=200,v={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'12px','fontweight':'normal','color':'#333333'},o={isHierarchy:undefined,position:'right',legendType:'ColorLegend'},f=1,s=[],g=[],l=0,m=0,n=20,p=0.5,r=0.6,q=[],u='multiple';var x=null;var y=R.newId();var z=0;var A=Infinity;var B=[],C={};var E=function(a){a.each(function(){G();var k=F();var N=false;if(k.length>0&&k.length<C.length){N=true}var O=d3.select(this);O.attr('style','font-family:'+v.fontfamily+'; font-size:'+v.fontsize+'; font-weight:'+v.fontweight+';fill:'+v.color+";");var P=O.selectAll('g.row').data(k,function(d,i){return d.val});P.exit().remove();var Q=P.enter().append('g').attr('class',function(d,i){return y+' row ID_'+i});var S=Q.append('rect').attr('class',function(d,i){return'legend-indicatedRect-'+y+'-ID_'+i});var U=r*n/2;S.attr('width',w+10).attr('height',n+U*2).attr('fill','rgba(255, 255, 255, 0)').attr('x',-5).attr('y',-U);var i,j,V,W,X;if((o.legendType!=='BubbleColorLegend')&&o.isHierarchy){var Y,Z,$=[],_=0,a1=0;for(i=0,V=k.length;i<V;i++){_=0,a1=0;Y=k[i].val;Y=Y.replace('-','/');Z=Y.split(' / ');X=d3.select(this).select("g.row.ID_"+i);var b1=false;for(j=0,W=Z.length-1;j<W;j++){if($[j]!==Z[j]){b1=true;break}}var t=X.selectAll('g').data(Z);t.enter().append('g').attr('class',function(d,i){return y+' label ID_'+i});for(j=0,W=Z.length;j<W;j++){var c1;if(j===W-1){c1=M(X.select('g.label.ID_'+j),i,true,Z[j]);c1.attr('transform',function(d,f1){_=10*j;if(b1){a1=n+a1+r*n}return'translate('+_+','+a1+')'})}else{if(b1){c1=M(X.select('g.label.ID_'+j),i,false,Z[j]);c1.attr('transform',function(d,f1){_=10*j;if(j>0){a1=n+a1+r*n}return'translate('+_+','+a1+')'})}}if(c1){c1.attr('visibility',function(d,f1){var g1='visible';if((B[i]===undefined)||(B[i].y+a1>h-n)){g1='hidden';N=true}return g1})}$[j]=Z[j]}}P.attr('transform',function(d,i){if(B[i]){return'translate('+B[i].x+','+B[i].y+')'}})}else{for(i=0,V=k.length;i<V;i++){X=d3.select(this).selectAll("g.row.ID_"+i);M(X,i,true,k[i].val)}P.attr('transform',function(d,i){if(B[i]){return'translate('+B[i].x+','+B[i].y+')'}}).attr('visibility',function(d,f1){var g1='visible';if((B[f1]===undefined)||(B[f1].y>h-2*n)){g1='hidden';N=true}return g1})}var d1=Q.append('rect').attr('class',function(d,i){return'legend-eventRect-'+y+'-ID_'+i});d1.attr('width',w).attr('height',n).attr('fill','rgba(255, 255, 255, 0)');var e1=d3.select(this).selectAll('text.itemsEllipsis');if(e1.empty()){e1=d3.select(this).append('text').attr('class','itemsEllipsis').text('...').attr('text-anchor','middle')}e1.attr('dx',w/2).attr('dy',h).attr('visibility',function(){var d='hidden';if(N){d='visible'}return d});d3.select(this).on('mouseover',H).on('mouseout',I).on('mousedown',J).on('mouseup',I).on('touchend',I)})};E.width=function(_){if(!arguments.length){return w}w=_;return E};E.height=function(_){if(!arguments.length){return h}h=_;return E};E.color=function(_){if(!arguments.length){return g}g=_;return E};E.shapes=function(_){if(!arguments.length){return s}s=_;return E};E.colorFeedLength=function(_){l=_;return E};E.shapeFeedLength=function(_){m=_;return E};E.data=function(_){if(!arguments.length){return C}C=_;return E};E.properties=function(a){if(!arguments.length){return o}o=a;return E};E.getPreferredSize=function(a){G();return L(a)};E.setSelectionMode=function(_){u=_};E.effectManager=function(_){if(!arguments.length){return x}x=_;return E};var F=function(){var a=[],d=B.length;if(C.length>0){a=C.slice(0,d);z=0;A=d}return a};var G=function(){var a=e.styleManager.query('viz-legend-valueLabel');if(a){if(a['fill']){v.color=a['fill']}if(a['font-family']){v.fontfamily=a['font-family']}if(a['font-size']){v.fontsize=a['font-size']}if(a['font-weight']){v.fontweight=a['font-weight']}}};var H=function(){if(u==='single'||u==='none'||o.isHierarchy){return}var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('eventRect')===-1){return}var d=a.split('ID_')[1];var j=d3.selectAll('.legend-indicatedRect-'+y+'-ID_'+d);j.attr('fill','#cccccc')};var I=function(){if(u==='single'||u==='none'||o.isHierarchy){return}var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('eventRect')===-1){return}var d=a.split('ID_')[1];var j=d3.selectAll('.legend-indicatedRect-'+y+'-ID_'+d);j.attr('fill','rgba(0,0,0,0)')};var J=function(){if(u==='single'||u==='none'||o.isHierarchy){return}var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('eventRect')===-1){return}var d=a.split('ID_')[1];var j=d3.selectAll('.legend-indicatedRect-'+y+'-ID_'+d);j.attr('fill','#808080')};E.clickHandler=function(){if(u==='single'||u==='none'||o.isHierarchy){return}if(d3.event.type==='touchstart'){J()}var i=false;if(K(q,d3.event.target)){i=true}else{q.push(d3.event.target)}return i};E.deselectByCtx=function(d){if(!d){q=[]}else{var a,j=true;for(var i=0,t=q.length;i<t;i++){j=true;a=q[i].__data__.ctx.path;if(!a){a=q[i].__data__.ctx.ranges;if(a!==d.ctx.ranges){j=false}}else{for(var k in a){if(d.ctx.path[k]!==undefined){if(d.ctx.path[k].length>0){if(d.ctx.path[k]!==a[k]){j=false}}else{if(d.ctx.path[k]!==a[k]){j=false}}}}}if(j===true){q.splice(i,1);break}}}};var K=function(a,d){for(var i=0;i<a.length;i++){if(a[i]===d){return true}}return false};var L=function(a){var d=0,k=0,t=0,N={'width':0,'height':0},O=C,P=0;if(O&&O.length>0){var Q="font-size:"+v.fontsize+"; font-weight:"+v.fontweight+"; font-family:"+v.fontfamily;var S=[],U=0,V=0;n=parseInt(v.fontsize,10);B=[];var i,j,W,X;if((o.legendType!=='BubbleColorLegend')&&o.isHierarchy){var Y,Z,$,_={'width':0,'height':0},a1=[];for(i=0,W=O.length;i<W;i++){Y=O[i].val;Y=Y.replace('-','/');Z=Y.split(' / ');var b1=false;for(j=0,X=Z.length-1;j<X;j++){if(a1[j]!==Z[j]){b1=true;break}}var c1=0;for(j=0,X=Z.length;j<X;j++){$=T.measure(Z[j],Q);if(j===X-1){$.width=$.width+(f+p)*n;c1=c1+(r+1)*n}else if(b1){c1=c1+(r+1)*n}$.width=$.width+10*j;if($.width>_.width){_=$}a1[j]=Z[j]}if(_.width>P){P=_.width}S.push(c1);if(i>0){V=V+S[i-1]}if(V+n>a.height){break}B.push({x:U,y:V})}k=U+P;d=V+S[S.length-1];t=T.measure('M...',Q).width}else{var d1,e1;if(o.position==='left'||o.position==='right'){var f1;for(i=0,W=O.length;i<W;i++){if(i>0){V=V+n+n*r}if(V+n>a.height){break}B.push({x:U,y:V});d1=O[i].val;if(O[i].size===undefined){O[i].size=T.measure(d1,Q)}f1=O[i].size;if(f1.width>N.width){N=f1}}}else{for(i=0,W=O.length;i<W;i++){d1=O[i].val;e1=T.measure(d1,Q);S.push(e1.width);if(i>0){U=U+(f+p)*n+S[i-1]}if(U+n>a.height){break}B.push({x:U,y:V})}}P=(f+p)*n+N.width;if(o.position==='left'||o.position==='right'){k=U+P;d=V+n}else{k=U+S[S.length-1]+(f+p)*n;d=N.height}t=U+(f+p)*n+T.measure('M...',Q).width}}if(t>k){t=k}return{minHeight:2*n,minWidth:t,height:d,width:k}};var M=function(a,j,k,N){var O=0,P;var Q=f*n;if(k){if(m>0){P=s[j%(s.length>m?m:s.length)]}else{if(o.legendType==='BubbleColorLegend'){P=(s[0]===undefined)?'square':s[0]}else{var S=s[j%s.length];P=(S===undefined)?'square':S;if(P==='square'){P="squareWithRadius"}}}var U=n/2;var V=a.selectAll('path').data([N]);D.createElements(V.enter(),{shape:P,className:null});V.attr("transform",function(d,i){var Y;if(m>0){i=Math.floor(j/m);var t=g.length>l?l:g.length;if(t>0){Y=g[i%t]}else{Y=g[0]}}else{Y=g[j%(g.length>l?l:g.length)]}var Z={drawingEffect:o.drawingEffect,graphType:P,fillColor:Y,direction:'vertical',rx:Q/2,ry:Q/2,borderWidth:0,borderColor:"transparent",node:d3.select(this)};D.drawGraph(Z,x);return'translate('+U+','+U+')'});O=Q+p*n}var W=a.selectAll('text').data([N]);W.enter().append('text');W.attr('x',O).attr('y',n).text(function(d){return d});var X="font-size:"+v.fontsize+"; font-weight:"+v.fontweight+"; font-family:"+v.fontfamily;W.each(function(d){T.ellipsis(d,this,w-O,X)});return a};return E};return c});sap.riv.module({qname:'sap.viz.modules.legend',version:'4.0.0',exported:true},[{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.modules.legend.colorLegendArea',version:'4.0.0'},{qname:'sap.viz.modules.legend.sizeLegendArea',version:'4.0.0'},{qname:'sap.viz.modules.legend.mbcLegendArea',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(M,T,b,c,O,C,S,e,l,f,B){var g=function(m,h){var w,k,p={width:200,height:200},n='right',t={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'14px','fontweight':'bold','color':'#333333'},v={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'12px','fontweight':'normal','color':'#333333'},o={},q=true,r=false,s=[],u=[],x=20,y={top:0,right:0,bottom:0,left:1.15},z=0.5,A={x:0,y:0},D,E,F,G,H,I=false;var J={title:'',labels:''},K=[],L=null,N=[],P=[],Q=0,R=0,U=true;var V=C(h);var W=new c('highlightedByLegend');var X=h.effectManager;var Y;var Z=false;var $=function(a){B.drawBound(a,w,k);a.each(function(){if(o1()||q1()){if(J.labels.length===0){q=false}}if(q&&!r){b1();if(U){j1({'width':w,'height':k})}var i=y.left*x,j=y.top*x;var _=d3.select(this).selectAll('g.legend-content').data([J]);_.enter().append('g').attr('class','legend-content');if(Z){Z=false;_.selectAll('.legend .row').remove()}if(o.isShowTitle&&!I){var t1=parseInt(t.fontsize,10);var w1='font-weight: '+t.fontweight+'; fill:'+t.color+'; font-family: '+t.fontfamily+'; font-size: '+t.fontsize+";";var x1=(o.titleText===undefined||o.titleText===null)?J.title:o.titleText;var y1=_.selectAll('text.legend-labelTitle');if(y1.empty()){y1=_.append('text').attr('class','legend-labelTitle')}y1.text(x1).attr('dx',i).attr('dy',j+t1).attr('style',w1).attr('visibility','visible');y1.each(function(d){T.ellipsis(x1,this,w-i,w1)})}else{_.selectAll('text.legend-labelTitle').attr('visibility','hidden');if(I){I=false}}var z1=J.labels;var A1=_.selectAll('g.legend-groups').data([z1]);A1.enter().append('g').attr('class','legend-groups');A1.attr('transform','translate('+A.x+','+A.y+')');var B1=((w===undefined)?p.width:w)-i;var C1=((k===undefined)?p.height:k)-j;V.properties(o).width(B1).height(C1-A.y).effectManager(X);if(p1()){V.data(K).scale(D)}else if(r1()){V.data(z1).color(H.range())}else{V.data(z1).color(u).colorFeedLength(Q).shapeFeedLength(R)}A1.call(V).on('click',a1).on('touchstart',a1);if(o.position==='left'||o.position==='right'){switch(o.alignment){case'end':_.attr('transform','translate(0, '+(((k-p.height)>0)?((k-p.height)):0)+')');break;case'middle':_.attr('transform','translate(0, '+(((k-p.height)/2>0)?((k-p.height)/2):0)+')');break}}}else{var D1=d3.select(this).selectAll('g.legend-content');if(!D1.empty()){D1.remove()}}r=false})};var a1=function(L){if(o.isHierarchy){return}var a=d3.select(d3.event.target).attr('class');if(a){var i=V.clickHandler();var d=parseInt(d3.select(d3.event.target).attr('class').split('ID_')[1],10);if(J.labels[d]!==undefined){W.highlightedByLegend(J.labels[d],i)}}};$.deselectLegend=function(d){if(!(r1()||p1())){V.deselectByCtx(d)}};$.width=function(_){if(!arguments.length){return w}w=_;U=true;return $};$.height=function(_){if(!arguments.length){return k}k=_;U=true;return $};$.position=function(_){if(!arguments.length){return n}n=_;return $};$.colorPalette=function(_){if(!arguments.length){return u}u=_;V.color(_);return $};$.shapes=function(_){if(!arguments.length){return s}s=_;V.shapes(_);return $};$.properties=function(a){if(!arguments.length){return Y}if(Y&&a&&Y.isHierarchical!==a.isHierarchical){Z=true}f.extend(true,Y,a);o.visible=Y.visible;q=o.visible;o.isShowTitle=Y.title.visible;o.titleText=Y.title.text;o.isHierarchy=Y.isHierarchical;o.position=Y.position;o.formatString=Y.formatString;if(o.legendType!==Y.type){o.legendType=Y.type;if(L&&J.labels){d1(L);V.data(J.labels)}}o.alignment=Y.alignment;o.drawingEffect=Y.drawingEffect;if(p1()){V=S(h)}else if(r1()){V=e(h)}V.properties(o);return $};$.getPreferredSize=function(a,d,i){b1();return j1(a,d,i)};$.data=function(_){if(!arguments.length){return L}L=_;d1(_);V.data(J.labels);return $};$.sizeLegendInfo=function(_){if(!arguments.length){return D}D=_.scale;V.scale(D);E=_.bubbleScale;F=_.space;G=_.hasHeightFeed;if(_.data.length===0){q=false}else{q=o.visible;K=_.data;V.data(K)}J.title=s1(_.title);return $};$.hideTitle=function(){I=true;return $},$.hide=function(_){r=_;return $},$.mbcLegendInfo=function(_){if(!arguments.length){return H}if(_.colorScale===undefined){q=false}else{q=o.visible;H=_.colorScale;J.title=s1(_.title);e1();V.data(J.labels)}return $};$.setSelectionMode=function(_){if(!(r1()||p1())){V.setSelectionMode(_)}};$.dispatch=function(_){if(!arguments.length){return W}W=_;return $};$.isVisible=function(){return q};var b1=function(){var a=h.styleManager.query('viz-legend-title');if(a){if(a['fill']){t.color=a['fill']}if(a['font-family']){t.fontfamily=a['font-family']}if(a['font-size']){t.fontsize=a['font-size']}if(a['font-weight']){t.fontweight=a['font-weight']}}var d=h.styleManager.query('viz-legend-valueLabel');if(d){if(d['fill']){v.color=d['fill']}if(d['font-family']){v.fontfamily=d['font-family']}if(d['font-size']){v.fontsize=d['font-size']}if(d['font-weight']){v.fontweight=d['font-weight']}}};var c1=function(a){if(m1(a.key)){P=a.values}else{if(n1(a.key)){N=a.values}}};var d1=function(L){if(!L){return}P=[];N=[];var a=L.getAnalysisAxisDataByIdx(0);if(a){P=a.values}a=L.getAnalysisAxisDataByIdx(1);if(a){N=a.values}if(q1()){f1()}else if(!(p1())){g1()}};var e1=function(){var a=[],d={'val':undefined,'ctx':{}};var _=H.domain();for(var t1=_.length,i=0,j=t1-1;i<t1;i++){if(_[i].length>0){d.val=_[i][0];d.ctx.ranges={startValue:_[i][0],endValue:_[i][1],isRightOpen:true,isLeftOpen:false}}else{d.val='N/A';d.ctx.ranges={};if(a[j+1]!==undefined){a[j+1].ctx.ranges.isRightOpen=false}}if(j===0){d.ctx.ranges.isRightOpen=false}a[j]={};O.extend(true,a[j--],d)}J.labels=a};var f1=function(){var a=[],d='',_='',i,j=0,t1,w1={'val':undefined,'ctx':{'path':{}}},x1;Q=0,R=0;if(P&&P.length>0&&P[0].rows.length>0){var y1=P[0];d=s1(y1.col.val);x1='dii_a'+(y1.rows[0].ctx.path.aa+1);w1={'val':y1.rows[0].val,'ctx':{'path':{}},'info':y1.rows[0].info};w1.ctx.path[x1]=[y1.rows[0].ctx.path.dii];for(i=1,t1=y1.rows.length;i<t1;i++){_=y1.rows[i].val;if(_===w1.val||k1(a,_)){w1.ctx.path[x1].push(y1.rows[i].ctx.path.dii)}else{a[j]={};w1.val=u1(w1);O.extend(true,a[j++],w1);w1.val=_;w1.ctx={path:{}};w1.ctx.path[x1]=[y1.rows[i].ctx.path.dii]}}a[j]={};w1.val=u1(w1);O.extend(true,a[j],w1);Q=a.length}if(N&&N.length>0){var z1=N[0],A1=[];d=(d==='')?s1(z1.col.val):d+" / "+s1(z1.col.val);x1='dii_a'+(z1.rows[0].ctx.path.aa+1);w1={'val':z1.rows[0].val,'ctx':{'path':{}},'info':z1.rows[0].info},j=0;w1.ctx.path[x1]=[z1.rows[0].ctx.path.dii];for(i=1,t1=z1.rows.length;i<t1;i++){_=z1.rows[i].val;if(_===w1.val||k1(A1,_)){w1.ctx.path[x1].push(z1.rows[i].ctx.path.dii)}else{A1[j]={};w1.val=u1(w1);O.extend(true,A1[j++],w1);w1.val=_;w1.ctx={path:{}};w1.ctx.path[x1]=[z1.rows[i].ctx.path.dii]}}A1[j]={};w1.val=u1(w1);O.extend(true,A1[j],w1);R=A1.length;if(a.length>0){a=l1([a,A1],' / ')}else{a=A1}}if(a.length===0){q=false}else{q=o.visible}J={'title':d,'labels':a}};var g1=function(){var a,d=[];var i=h1(a,P,Q);Q=i.feedsLength;var j=h1(a,N,R);R=j.feedsLength;if(j.labels.length>0){if(i.labels.length>0){if(i.MNDInfo.MNDIndex===undefined&&j.MNDInfo.MNDIndex===undefined){d=l1([i.labels,j.labels],' / ');a=i.title+" / "+j.title}else{if((i.MNDInfo.MNDIndex!==undefined&&!i.MNDInfo.hasOnlyMND)||(j.MNDInfo.MNDIndex!==undefined&&!j.MNDInfo.hasOnlyMND)){d=l1([i.labels,j.labels],' - ');a=i.title+" - "+j.title}else if(i.MNDInfo.MNDIndex!==undefined&&i.MNDInfo.hasOnlyMND){d=j.labels;a=j.title}else{d=i.labels;a=i.title}}}else{d=j.labels;a=j.title}}else{d=i.labels;a=i.title}if(d.length===0){q=false}else{q=o.visible}J={'title':a,'labels':d}};var h1=function(a,d,_){var t1=[],w1=[],x1=' / ',y1=' - ';var z1,A1=false,i,j,B1;if(d&&d.length>0){for(i=0,B1=d.length;i<B1;i++){if(d[i].type!=='MND'){if(a===undefined){a=s1(d[i].col.val)}else{a=a+x1+s1(d[i].col.val)}w1=d[i].rows;for(j=0;j<w1.length;j++){if(t1[j]===undefined){t1[j]={};t1[j].val=u1(w1[j]);t1[j].ctx={path:i1(w1[j].ctx.path)}}else{t1[j].val=t1[j].val+x1+u1(w1[j])}}}else{z1=i}}_=t1.length}if(z1!==undefined){if(t1.length>0){if(d[z1].rows.length>1){if(z1===0){a=l.get('IDS_DEFAULTMND')+y1+a;t1=l1([v1(d[z1].rows),t1],y1);_=_*d[z1].rows.length}else if(z1===d.length-1){a=a+y1+l.get('IDS_DEFAULTMND');t1=l1([t1,v1(d[z1].rows)],y1);_=_*d[z1].rows.length}}}else{a=l.get('IDS_DEFAULTMND');w1=d[z1].rows;for(j=0;j<w1.length;j++){t1[j]={};t1[j].val=u1(w1[j]);t1[j].ctx=w1[j].ctx}_=w1.length;if(w1.length===1){A1=true}}}return{'title':a,'labels':t1,'feedsLength':_,'MNDInfo':{'MNDIndex':z1,'hasOnlyMND':A1}}};var i1=function(a){var d={};switch(a.aa){case 0:d.dii_a1=a.dii;break;case 1:d.dii_a2=a.dii;break;case 2:d.dii_a3=a.dii;break}return d};var j1=function(a,d,i){var j=0,_=0,t1=0,w1=0,x1={width:0,height:0},y1={};if(o.visible){var z1="font-size:"+t.fontsize+"; font-weight:"+t.fontweight+"; font-family:"+t.fontfamily;x=parseInt(v.fontsize,10);var A1=y.left*x,B1=y.top*x;if(o.isShowTitle){x1=T.measure(((o.titleText===undefined||o.titleText===null)?J.title:o.titleText),z1);if(!I){B1=B1+x1.height+z*x}}A={x:A1,y:B1};y1=V.getPreferredSize({height:a.height-A1,width:a.width},d,A1,i,E,F,G);if(y1.width>0&&y1.height>0){if(!q1()&&o.isHierarchy){_=A1+((x1.width>y1.width)?x1.width:y1.width);j=B1+y1.height}else{if(o.position==='left'||o.position==='right'){_=A1+((x1.width>y1.width&&!p1())?x1.width:y1.width);j=B1+y1.height}else{_=A1+y1.width;j=x1.height+z*x+x}}t1=A1+(y1.minWidth?y1.minWidth:0);w1=B1+(y1.minHeight?y1.minHeight:0)}U=false}p={maxSizeConstant:1/3,titleSize:x1,minWidth:t1,height:j,width:_};if(y1.minHeight){p.minHeight=w1}return p};var k1=function(a,d){for(var i=0;i<a.length;i++){if(a[i].val===d){return true}}return false};var l1=function(a,d){var _=a[0];var w1=function(x1){var ar=_;_=[];for(var i=0;i<ar.length;i++){for(var j=0;j<x1.length;j++){var t1=(ar[i].val===undefined)?ar[i].val:ar[i].val,t2=(x1[j].val===undefined)?x1[j].val:x1[j].val;var h={path:{}};O.extend(h.path,ar[i].ctx.path,x1[j].ctx.path);_.push({'val':t1+d+t2,'ctx':h})}}};for(var i=1;i<a.length;i++){w1(a[i])}return _};var m1=function(a){var d=false;if(a.search('color')!==-1){d=true}return d};var n1=function(a){var d=false;if(a.search('shape')!==-1){d=true}return d};var o1=function(){var a=false;if(o.legendType==='ColorLegend'){a=true}return a};var p1=function(){var a=false;if(o.legendType==='SizeLegend'){a=true}return a};var q1=function(){var a=false;if(o.legendType==='BubbleColorLegend'){a=true}return a};var r1=function(){var a=false;if(o.legendType==='MeasureBasedColoringLegend'){a=true}return a};var s1=function(_){var d=l.get('IDS_ISNOVALUE');if(_===null||_===undefined){return d}else{return _}};var u1=function(a){var d;if(a.info){var i=a.info.customlabel;if(i){if(i.type==='url'){d=a.val}else if(i.type==='string'){d=i.val}}else{d=a.val}}else{d=a.val}d=s1(d);return d};var v1=function(a){for(var i=0;i<a.length;++i){a[i].val=s1(a[i].val)}return a};Y=m.props(null);$.properties(null);return $};return g});sap.riv.module({qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.legend',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.legend','type':C.Module.Type.Supplementary,'name':'legend','description':'The legend is a box containing a symbol and name for each series item or point item in the chart.','properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of legend.'},'title':{'name':'title','description':'Settings for legend title.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set visibility of legend title.'},'text':{'name':'text','supportedValueType':'String','defaultValue':null,'description':'Set text of legend title.'}}},'formatString':{'name':'formatString','supportedValueType':'String','defaultValue':null,'description':'Set format string of legend.','isExported':false},'isHierarchical':{'name':'isHierarchical','supportedValueType':'Boolean','defaultValue':false,'description':'Set hierarchy legend. Supported only when legend is located in the right of chart.','isExported':true},'position':{'name':'position','supportedValueType':'List','supportedValues':['right'],'defaultValue':'right','description':'Set legend position. Only support legend is located in the right side.','isExported':false},'type':{'name':'type','supportedValueType':'List','supportedValues':['ColorLegend','BubbleColorLegend','SizeLegend','MeasureBasedColoringLegend'],'defaultValue':'ColorLegend','description':'Set legend type of Bubble chart. Non-bubble chart is not supported.','isExported':false},'alignment':{'name':'alignment','supportedValueType':'List','supportedValues':['start','middle','end'],'defaultValue':'start','description':'Set alignment of legend.','isExported':false},'drawingEffect':{'name':'drawingEffect','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of legend.','isExported':true}},'css':{'.viz-legend-title':{'description':'Define style for the legend title.','value':{'fill':'black','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'14px','font-weight':'bold'}},'.viz-legend-valueLabel':{'description':'Define style for the legend label.','value':{'fill':'black','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}}},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.title',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,l,O,b){var t=function(m,c){var w=500,h=100;var a=null;var o={},s={width:500,height:100},d=undefined;var e=function(f){if(o.visible){b.drawBound(f,w,h);u();var g=this.selectAll('text.chart-title').data([d]);g.exit().remove();g.enter().append('text').attr('class','chart-title');g.attr('style',a).attr('text-anchor',function(){if(o.alignment=='right')return'end';else if(o.alignment=='left')return'start';else return'middle'}).attr('x',function(){if(o.alignment=='right')return w;else if(o.alignment=='left')return 0;else return(w)/2}).attr('y',h/2);T.ellipsis(d,g.node(),w,a)}return e};e.width=function(v){if(!arguments.length)return w;w=v;return e};e.height=function(v){if(!arguments.length)return h;h=v;return e};e.size=function(v){if(!arguments.length)return s;s=v;return e};e.properties=function(p){if(!arguments.length)return o;O.extend(true,o,p);if(o.text===undefined||o.text===null){d=l.get('IDS_DEFAULTCHARTTITLE')}else{d=o.text}return e};e.getPreferredSize=function(){if(o.visible){u();var f=T.measure(d,a);return{hideOversize:true,maxSizeConstant:1/3,'width':f.width,'height':f.height}}return{'width':0,'height':0}};function u(){a=c.styleManager.cssText('viz-title-label')}o=m.props(null);return e};return t});sap.riv.module({qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.title',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.title','type':C.Module.Type.Supplementary,'name':'title','description':"Settings for the chart's main title.",'properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set visibility of chart title.'},'text':{'name':'text','supportedValueType':'String','defaultValue':null,'description':'Set chart title text.'},'alignment':{'name':'alignment','supportedValueType':'List','supportedValues':['left','center','right'],'defaultValue':'center','description':'Set chart title alignment.'}},'css':{'.viz-title-label':{'description':'Define style for the title label.','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'16px','font-weight':'bold','fill':'#333333'}}},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.feeds.Manifest',version:'4.0.0'},[{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(m,O,l){return m.registerCategory("feeds",function(a){var f={};a.feeds.forEach(function(o){f[o.id]=o;var n=o.name;delete o.name;Object.defineProperty(o,'name',{get:function(){var r=l.get(n);if(r){return r}return n},enumerable:true})});Object.defineProperty(a,"feedsMap",{value:f,writable:false,enumerable:false,configurable:false});return a})});sap.riv.module({qname:'sap.viz.manifests.Viz',version:'4.0.0'},[{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(m,f,O,T,a,c,b,l){function g(k,t){for(var i=0;i<k.length;++i){if(k[i].module.type===t){return k[i]}if(k[i].subModules){var r=g(k[i].subModules,t);if(r){return r}}}return null}function d(t,o){if(!o){return}var i,k;for(i in t){if(t.hasOwnProperty(i)&&o.hasOwnProperty(i)){k=t[i];if(k.supportedValueType==='Object'){d(k.supportedValues,o[i])}else{k.defaultValue=o[i]}}}}function e(t,i){var k,n;for(k in t){if(t.hasOwnProperty(k)){if(t[k]===null){delete t[k];continue}n=t[k];if(i){a.extend(true,n,i[k])}if(n.isExported===false){delete t[k]}else{if(n.supportedValueType==='Object'){e(n.supportedValues,i?i[k]:null);if(T.isEmptyObject(n.supportedValues)){delete t[k]}}}}}}function h(i,k){if(k){var p,n,q,r,R;k.forEach(function(o){if(o.config.configure){R=o.moduleRef;p=o.module.properties;n=o.config.configure.properties;r=o.config.configure.propertyCategory;q=o.config.configure.propertiesOverride;i[r]=a.extend(true,null,p);Object.defineProperties(i[r],{'moduleRefPath':{get:(function(_){return function(){return _}}(R)),enumerable:false}});e(i[r],q);d(i[r],n)}h(i,o.subModules)})}}function j(k,n,p,q){if(n){n.forEach(function(o){var r=o.module.feeds;var s=p;var t=q;if(r){var u;var v=r.id;if(v!==undefined){var w=r.configure;u=f.get(v).feedsMap;if(w){u=O.extend(true,null,u,w)}}else{u={};r.forEach(function(x){u[x.id]=x})}var i;for(i in u){if(u.hasOwnProperty(i)){var x=u[i];if(x){x=O.extend(true,null,x);k[i]=x;if(x.type===c.Feed.Type.Dimension){var y=x.aaIndex;y+=p;if(s<y){s=y}x.aaIndex=y;var z=x.acceptMND;if(z>=0){if(q>0){z+=q}if(t<z){t=z}x.acceptMND=z}}}}}if(t>=0){t+=1}}j(k,o.subModules,s,t)})}}return m.registerCategory("viz",function(i){var k=[];var n=i.modules;for(var p in n){if(n.hasOwnProperty(p)){var q=n[p];if(q!==null){m.module.loadModule(k,q,p)}}}var r=i.feeds;var s,t,v=i.name;var u;delete i.name;Object.defineProperties(i,{allFeeds:{value:function(){if(!s){s={};j(s,k,0,-1);O.extend(true,s,r);s=d3.values(s).filter(function(o){return o})}var w=!arguments.length||arguments[0]===false?false:true;if(w===false){if(!t){t=d3.values(s).filter(function(o){if(o.min===0&&o.max===0){return false}else{return true}})}return t}else{return s}}},allProperties:{value:function(){if(!u){u={};h(u,k)}return u}},getChartPropCate:{value:function(){return g(k,'CHART').config.configure.propertyCategory}},name:{get:function(){var o=l.get(v);if(o){return o}return v},enumerable:true}});return i})});sap.riv.module({qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.DataLabel',version:'4.0.0'}],function Setup(M){var c={id:'riv/base',name:'IDS_BASECHART','abstract':true,modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title'}},legend:{id:'sap.viz.modules.legend',configure:{propertyCategory:'legend'}}},dependencies:{}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var m={id:'riv/base/multiple',name:'IDS_BASEMULTIPLECHART',base:'riv/base','abstract':true,modules:{main:{id:'sap.viz.modules.tablecontainer',configure:{propertyCategory:'multiLayout'},modules:{xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the column axis of multiple charts.',propertyCategory:'columnAxis',properties:{title:{visible:false},gridline:{visible:true},color:'#d8d8d8',type:'category',position:'top'},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the row axis of multiple charts.',propertyCategory:'rowAxis',properties:{type:'category',position:'left',title:{visible:false},color:'#d8d8d8',gridline:{visible:true}},propertiesOverride:{label:{isExported:false},axisline:{isExported:false},gridline:{isExported:false,color:{isExported:false},size:{isExported:false}}}}},plot:{id:'sap.viz.modules.xycontainer'}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'}],function Setup(M){var m={id:'riv/base/multiple/xy',name:'IDS_BASEMULTIPLEXYCHART',base:'riv/base/multiple','abstract':true,modules:{tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip'}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,position:'inside',automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.feeds.XY',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var a={'id':'regionColor','name':'IDS_REGIONCOLOR','type':c.Type.Dimension,'min':0,'max':2,'aaIndex':2,'acceptMND':1};var v={'id':'primaryValues','name':'IDS_PRIMARYVALUES','type':c.Type.Measure,'min':1,'max':c.Constraints.INF,'mgIndex':1};var b={'id':'secondaryValues','name':'IDS_SECONDARYVALUES','type':c.Type.Measure,'min':0,'max':c.Constraints.INF,'mgIndex':2};var d={'id':'axisLabels','name':'IDS_AXISLABELS','type':c.Type.Dimension,'min':1,'max':2,'acceptMND':0,'aaIndex':1};var f={id:"xy",feeds:[a,d,v,b]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.feeds.XY',version:'4.0.0'}],function Setup(M,C){var m={'id':'sap.viz.modules.xy.base','abstract':true,'type':C.Module.Type.Chart,'name':'xy base module','datastructure':'DATA STRUCTURE DOC','properties':{'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColor,'description':'Set color palette for non_dual chart. Or dual chart\'s color palette if MND is on Category axis.'},'primaryValuesColorPalette':{'name':'primaryValuesColorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColorDualAxis1,'description':'Set axis 1 color palette for dual chart.','isExported':false},'secondaryValuesColorPalette':{'name':'secondaryValuesColorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColorDualAxis2,'description':'Set axis 2 color palette for dual chart.','isExported':false},'drawingEffect':{'name':'drawingEffect','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of XY.','isExported':true},},'events':{'initialized':C.Module.Event.Initialized.desc,'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc,'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'feeds':{id:"xy"},'css':null,'configure':null};M.register(m)});sap.riv.module({qname:'sap.viz.modules.area',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.BoundingBox',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.base.UADetector',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(a,M,T,S,C,B,N,l,D,b,c,R,O,U,e){return function(m,f){var k,n;var o=null,p;var r=R.newId();var t=null;var q;var s="#FFFFFF";var u="#cccccc";var v="#333333";var x=d3.scale.ordinal();var y;var z;var g;var A,E,F;var G=new a('showTooltip','hideTooltip','initialized','startToInit');var H=f.effectManager;var I={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],areas:[],bottomValue:null,topValue:null};var J=[];var K=false;var L=true;var P=0;var Q;var V=0.4;var W=false;function X(d){e.drawBound(d,k,n);q=b();l1(d);return X}function Y(d,h){var w=new Array(d.data[0].length);var i;for(i=0;i<w.length;++i){w[i]=0}for(i=0;i<d.data.length;++i){for(var j=0;j<d.data[i].length;++j){if(!N.isNoValue(d.data[i][j].val)){w[j]+=d.data[i][j].val;if(h.min===null){h.min=w[j];h.max=w[j]}else{h.min=h.min>w[j]?w[j]:h.min;h.max=h.max>w[j]?h.max:w[j]}}}}}function Z(d){var h={min:null,max:null};if(!d.data||d.data.length===0){return h}if(p.mode==="percentage"){h.min=0;h.max=1;return h}Y(d,h);if(N.isNoValue(h.max)){return null}if(h.min>=0){h.min=0;h.max+=h.max*5/(p.orientation==="vertical"?n:k)}else if(h.max<=0){h.max=0;h.min+=h.min*5/(p.orientation==="vertical"?n:k)}else{var i=(h.max-h.min)*5/(p.orientation==="vertical"?n:k);h.min-=i;h.max+=i}if(h.min===0&&h.max===0){h.max=1}return h}function $(){J=[];var i=0,j=0;I.colorPalette=p.colorPalette;for(i=0;i<I.data.length;++i){J.push(I.colorPalette[i%I.colorPalette.length])}}function a1(d){var h=(p.orientation==="vertical"?[n,0]:[0,k]);if(d.data&&d.data.length>0){if(d.topValue===null||d.topValue===undefined){var i=Z(d);if(!i){d.scale.domain([0,0]).range(h)}else{d.scale.domain([i.min,i.max]).range(h)}}else{d.scale.domain([d.bottomValue,d.topValue]).range(h)}if(!d.manualRange){d.scale.nice();S.perfect(d.scale)}}else{d.scale.domain([0,0]).range([0,0])}return d.scale}function b1(){if(!(T.isExist(k)&&T.isExist(n)&&T.isExist(o))){return}var d=[];var h=I.data[0].length;for(var i=0;i<h;i++){d.push(i)}x.domain(d).rangeBands(p.orientation==="vertical"?[0,k]:[n,0]);a1(I)}function c1(d,h,i){if(d===undefined||d===null){return}var j=0;for(j=0;j<I.data.length;++j){if(!I.selectedMarkers[j][d]){d1(j,d,i,I);if(P>0){d3.select(I.markers[j][d]).attr("opacity",V).attr("visibility",h)}else{d3.select(I.markers[j][d]).attr("opacity",1).attr("visibility",h)}}}}function d1(d,h,i,j){d3.select(j.markers[d][h]).attr("stroke",i)}function e1(d){var i=d/x.rangeBand();i=Math.floor(i);var h=0;h=I.data[0].length;if(i>h-1){i=h-1}if(i<0){i=0}return(p.orientation==="vertical"?i:h-1-i)}function f1(d,h){var w=false,_,xi;for(var i=0;i<d.markers.length&&!w;i++){var q1=d.markers[i];for(var j=0;j<q1.length&&!w;j++){if(q1[j]===h){w=true;_=i;xi=j}}}if(!w){return false}if(d.selectedMarkers[_][xi]){return true}d1(_,xi,v,d);d3.select(d.markers[_][xi]).attr("opacity",1).attr("visibility","visible");F.selectAll(".areabg").attr("opacity",V).attr("stroke-opacity",V);;d3.select(d.areas[_][xi]).attr("opacity",1).attr("visibility","visible");d.selectedMarkers[_][xi]=true;++P}function g1(d,h){var w=z;var _=false,yi;for(var i=0;i<d.markers.length&&!_;i++){var q1=d.markers[i];for(var j=0;j<q1.length&&!_;j++){if(q1[j]===h){_=true;yi=i;w=j}}}if(!_){return false}if(!d.selectedMarkers[yi][w]){return true}if(w===z){d1(yi,w,s,d)}else{d1(yi,w,p.style.marker.stroke,d)}d3.select(d.markers[yi][w]).attr("opacity",V);d3.select(d.areas[yi][w]).attr("visibility","hidden");if(w!==z){d3.select(d.markers[yi][w]).attr("visibility","hidden")}d.selectedMarkers[yi][w]=false;--P}function h1(d){var h={data:[],bgAreaData:[],accuVal:[]};var i,j;var w=[];var _=[];var q1=new Array(d[0].length);if(p.mode==="percentage"&&W){m1(d);W=false}for(i=0;i<q1.length;++i){q1[i]=0}h.bgAreaData=new Array(d.length);for(i=0;i<d.length;++i){h.bgAreaData[i]=[];h.accuVal[i]=new Array(d[i].length);for(j=0;j<d[i].length;++j){h.accuVal[i][j]=(i>0?h.accuVal[i-1][j]:0);if(!N.isNoValue(d[i][j].val)){q1[j]++;h.accuVal[i][j]+=(p.mode==="percentage"?Math.abs(d[i][j].val):d[i][j].val)}}}for(i=0;i<d.length;++i){for(j=0;j<d[i].length;++j){if(!N.isNoValue(d[i][j].val)){_.push({x:j,y:(i>0?h.accuVal[i-1][j]:0)});w.push({x:j,y:h.accuVal[i][j]})}else{if(q1[j]>0){if(j>0&&!N.isNoValue(d[i][j-1].val)){w.push({x:j,y:h.accuVal[i][j]});w=w.concat(_.reverse());h.bgAreaData[i].push(w);w=[];_=[]}if(j<d[i].length-1&&!N.isNoValue(d[i][j+1].val)){w.push({x:j,y:h.accuVal[i][j]})}}else if(w.length>0){w=w.concat(_.reverse());h.bgAreaData[i].push(w);w=[];_=[]}}}if(w.length>0){w=w.concat(_.reverse());h.bgAreaData[i].push(w);w=[];_=[]}}var r1={};for(i=0;i<d.length;++i){h.data[i]=[];for(j=0;j<d[i].length;++j){if(j>0){if(q1[j-1]>0){w.push({x:j-0.5,y:(h.accuVal[i][j-1]+h.accuVal[i][j])/2});_.push({x:j-0.5,y:(i>0?((h.accuVal[i-1][j-1]+h.accuVal[i-1][j])/2):0)})}}w.push({x:j,y:h.accuVal[i][j]});_.push({x:j,y:(i>0?h.accuVal[i-1][j]:0)});if(j<d[0].length-1){if(q1[j+1]>0){w.push({x:j+0.5,y:(h.accuVal[i][j]+h.accuVal[i][j+1])/2});_.push({x:j+0.5,y:(i>0?((h.accuVal[i-1][j]+h.accuVal[i-1][j+1])/2):0)})}}w=w.concat(_.reverse());h.data[i].push(w);w=[];_=[]}}return h}function i1(h){if(!h.data||h.data.length===0){return}var j=h1(h.data);var w=F.selectAll("."+"areagroup").data(j.bgAreaData);w.enter().append("svg:g").attr("class","areagroup");w.exit().remove();var _=(p.orientation==="vertical"?d3.svg.line().x(function(d,i){return x(d.x)+x.rangeBand()/2}).y(function(d){return h.scale(d.y)}):d3.svg.line().y(function(d,i){return x(d.x)+x.rangeBand()/2}).x(function(d){return h.scale(d.y)}));w.attr("transform",function(d,i){var u1=d3.select(this).selectAll(".areabg").data(d);u1.enter().append("svg:path").attr("stroke-linejoin","round").attr("class","areabg").attr("opacity",1).attr("stroke-opacity",1);u1.exit().remove();u1.attr("transform",function(v1,w1){d3.select(this).attr("d",_(v1)).attr("stroke",function(){var x1={graphType:"line",fillColor:h.colorPalette[i%h.colorPalette.length]};return H.register(x1)}).attr("stroke-width",1).attr("fill",function(){var x1={drawingEffect:p.drawingEffect,graphType:"rectangle",direction:p.orientation,fillColor:h.colorPalette[i%h.colorPalette.length]};return H.register(x1)})})});_=(p.orientation==="vertical"?d3.svg.line().x(function(d,i){return(d.x+0.5)*x.rangeBand()}).y(function(d){return h.scale(d.y)}):d3.svg.line().y(function(d,i){return n-(d.x+0.5)*x.rangeBand()}).x(function(d){return h.scale(d.y)}));h.areas=[];w=E.selectAll("."+"area").data(j.data);w.enter().append("svg:g").attr("class","area");w.exit().remove();w.attr("transform",function(d,i){markerArr=[];var u1=d3.select(this).selectAll(".areashape").data(d);u1.enter().append("svg:path").attr("stroke-linejoin","round").attr("class","areashape");u1.exit().remove();u1.attr("transform",function(v1,w1){markerArr.push(d3.select(this).node());d3.select(this).attr("d",_(j.data[i][w1])).attr("stroke",function(){var x1={graphType:"line",fillColor:h.colorPalette[i%h.colorPalette.length]};return H.register(x1)}).attr("stroke-width",1).attr("visibility","hidden").attr("fill",function(){var x1={drawingEffect:p.drawingEffect,graphType:"rectangle",direction:p.orientation,fillColor:h.colorPalette[i%h.colorPalette.length]};return H.register(x1)})});h.areas.push(markerArr)});h.selectedMarkers=new Array(h.data.length);h.markers=[];for(var q1=0;q1<h.data.length;++q1){h.selectedMarkers[q1]=[];for(var r1=0;r1<h.data[0].length;++r1){h.selectedMarkers[q1][r1]=false}}var s1=A.selectAll("g.marker").data(h.data);s1.enter().append("svg:g").attr("class","marker");s1.exit().remove();var t1="hidden";s1.attr("transform",function(d,i){var u1=d3.select(this).selectAll(".datashape").data(d);var v1=u1.enter().append('g').attr('class','datashape');D.createElements(v1,{shape:p.marker.shape,className:"datapoint"});u1.exit().remove();markerArr=[];u1.attr("transform",function(w1,x1){if(N.isNoValue(w1.val)){d3.select(this).remove();markerArr.push(null);return}markerArr.push(d3.select(this).selectAll('path').node());var y1={drawingEffect:p.drawingEffect,graphType:p.marker.shape,fillColor:h.colorPalette[i%h.colorPalette.length],direction:'vertical',rx:p.marker.size/2,ry:p.marker.size/2,borderWidth:2,borderColor:p.style.marker.stroke,strokeOpacity:0.3,node:d3.select(this).select('path'),visibility:t1};D.drawGraph(y1,H);return p.orientation==="vertical"?"translate("+(x(x1)+x.rangeBand()/2)+","+h.scale(j.accuVal[i][x1])+")":"translate("+h.scale(j.accuVal[i][x1])+","+(x(x1)+x.rangeBand()/2)+")"});h.markers.push(markerArr)})}function j1(d,h){if(P===0||!d.selectedMarkers||d.selectedMarkers.length===0){return}for(var i=0;i<d.selectedMarkers.length;++i){for(var j=0;j<d.selectedMarkers[0].length;++j){if(!d.selectedMarkers[i][j]){continue}d3.select(d.areas[i][j]).attr("visibility","hidden");if(j===h){d1(i,j,s,d);d3.select(d.markers[i][j]).attr("opacity",V).attr("visibility","visible")}else{d1(i,j,p.style.marker.stroke,d);d3.select(d.markers[i][j]).attr("visibility","hidden")}d.selectedMarkers[i][j]=false}}}function k1(){var d=p.orientation==="vertical"?(d3.event?d3.event.clientX:0)-g.node().getBoundingClientRect().left:(d3.event?d3.event.clientY:0)-g.node().getBoundingClientRect().top;var h=e1(d);j1(I,h);P=0}function l1(h){p1();G.startToInit();if(!g){g=h.append("svg:g")}if(!A){F=g.append("svg:g").attr("class","areasbg");E=g.append("svg:g").attr("class","areas");if(!y){y=g.append("svg:line")}A=g.append("svg:g").attr("class","markers datashapesgroup")}if(p.orientation==="vertical"){y.attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",n).attr("stroke-width",1).attr("stroke",u).attr("visibility","hidden").attr("stroke-linejoin","round")}else{y.attr("x1",0).attr("y1",0).attr("x2",k).attr("y2",0).attr("stroke-width",1).attr("stroke",u).attr("visibility","hidden").attr("stroke-linejoin","round")}P=0;n1();if(!Q){Q=g.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+r).append("rect")}if(p.orientation==="vertical"){Q.attr("x",0).attr("y",0).attr("height",n).attr("width",(L?0:k))}else{Q.attr("x",0).attr("y",(L?n:0)).attr("height",(L?0:n)).attr("width",k)}F.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");A.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");if(L){K=true;var i=0;var j=(p.orientation==="vertical"?k/50:n/50);var w=setInterval(function(d){if(i>=(p.orientation==="vertical"?k:n)){clearInterval(w);G.initialized();A.attr("clip-path",null)}else{i+=j;if(p.orientation==="vertical"){Q.attr("width",i)}else{Q.attr("height",i);Q.attr("y",n-i)}}},20)}else{G.initialized();A.attr("clip-path",null);F.attr("clip-path",null)}i1(I)}function m1(d){if(d===null||d===undefined||d[0].length===0)return;var i=0,j=0;var h=new Array(d[0].length);var w=new Array(d[0].length);for(i=0;i<h.length;++i){h[i]=0;w[i]=0}for(i=0;i<d.length;++i){for(j=0;j<d[i].length;++j){if(!N.isNoValue(d[i][j].val)){h[j]+=Math.abs(d[i][j].val);if(d[i][j].val===0){++w[j]}}}}for(i=0;i<d.length;++i){for(j=0;j<d[i].length;++j){d[i][j].value=d[i][j].val;if(!N.isNoValue(d[i][j].val)){if(h[j]>0){d[i][j].val=d[i][j].val/h[j]}else if(w[j]>0){d[i][j].val=1/w[j]}}}}}function n1(){F.selectAll(".areabg").attr("opacity",1).attr("stroke-opacity",1);E.selectAll(".areashape").attr("visibility","hidden");A.selectAll(".datapoint").attr("opacity",1)}function o1(){F.selectAll(".areabg").attr("opacity",V).attr("stroke-opacity",V);E.selectAll(".areashape").attr("visibility","hidden");A.selectAll(".datapoint").attr("opacity",V)}function p1(){if(!p.style){p.style={}}var d;d=f.styleManager.query('viz-plot-background');if(d){if(d['fill']){s=d['fill']}}if(!p.style.marker){p.style.marker={}}p.style.marker.stroke="transparent";d=f.styleManager.query('viz-plot-hoverline');if(d){if(d['stroke']){u=d['stroke']}}}X.width=function(d){if(!arguments.length){return k}k=d;b1();return X};X.height=function(d){if(!arguments.length){return n}n=d;b1();return X};X.afterUIComponentAppear=function(){G.initialized()};X.properties=function(_){if(!arguments.length){return p}O.extend(true,p,_);b1();p.marker.size=4;p.marker.shape="circle";L=p.animation.dataLoading;p1();$();return X};X.primaryAxisColor=function(){return null};X.dispatch=function(_){if(!arguments.length){return G}G=_;return X};X.data=function(d){if(!arguments.length){return o}allDataIsNaN=true;W=true;o=d;var h=M(o);I.data=h["MG1"];t=b.dataTransform(h);b1();$();return X};X.dataLabel=function(_){};X.primaryAxisTitle=function(_){if(!arguments.length){var d=o.getMeasureValuesGroupDataByIdx(0),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){h.push(d.values[i].col)}else{h.push(l.get('IDS_ISNOVALUE'))}}}return h.join('/')}return this};X.getColorPalette=function(){if(J.length===0){$()}return J};X.shapePalette=function(){if(!arguments.length){return[p.marker.shape]}return X};X.primaryScale=function(d){if(!arguments.length){return I.scale}I.scale=d;return X};X.categoryScale=function(d){if(!arguments.length){return x}x=d;return X};X.primaryDataRange=function(d){if(!arguments.length){return{min:I.scale.domain()[0],max:I.scale.domain()[1]}}if(d!==null){I.topValue=d.max;I.bottomValue=d.min;if(d.from==='axis'){I.manualRange=true}if(T.isExist(k)&&T.isExist(n)){a1(I)}}return X};X.parent=function(){return g};X.size=function(w,h){if(arguments.length===0){return{width:X.width(),height:X.height()}}X.width(w).height(h);return X};X.clear=function(d){k1();if(d===null||d===undefined){n1()}else{o1()}};X.highlight=function(d){var h;if(d instanceof Array){h=d}else{h=[];h.push(d)}for(var i=0;i<h.length;i++){var j=h[i];f1(I,j)}};X.unhighlight=function(d){var h;if(d instanceof Array){h=d}else{h=[];h.push(d)}for(var i=0;i<h.length;i++){var j=h[i];g1(I,j)}};X.hoverOnPoint=function(d){var h=d.x,i=d.y;if(p.orientation==="vertical"){if(h<0||h>k){return}}else{if(i<0||i>n){return}}var j=e1(p.orientation==="vertical"?h:i);if(z===j){return}var w=x(j)+x.rangeBand()/2;c1(z,"hidden",p.style.marker.stroke);c1(j,"visible",s);z=j;if(p.hoverline.visible){y.attr(p.orientation==="vertical"?"x1":"y1",w).attr(p.orientation==="vertical"?"x2":"y2",w);y.attr("visibility","visible")}else{y.attr("visibility","hidden")}if(p.tooltip.enabled){var _={};var q1=g.node().getTransformToElement(g.node().ownerSVGElement);if(p.orientation==="vertical"){_.x=x(j)+x.rangeBand()/2+q1.e;_.y=n/4+q1.f}else{_.x=k*3/4+q1.e;_.y=w+q1.f}var r1=q.generateTooltipData(o,t,j,J,[p.marker.shape]);r1.point=_;r1.plotArea={x:q1.e,y:q1.f,width:k,height:n};G.showTooltip(b.formatTooltipData(r1))}};X.blurOut=function(){y.attr("visibility","hidden");c1(z,"hidden",p.style.marker.stroke);z=null;if(p.tooltip.enabled){G.hideTooltip()}};X.dataLabel=function(_){};p=m.props(null);return X}});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Area',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.area',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.area','name':'area',base:'sap.viz.modules.xy.base','properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'},'mode':{'name':'mode','supportedValueType':'List','supportedValues':['comparison','percentage'],'defaultValue':'comparison','description':'Set dispaly mode of area chart.','isExported':false},'orientation':{'name':'orientation','supportedValueType':'List','supportedValues':['vertical','horizontal'],'defaultValue':'vertical','description':'vertical or horizontal area chart.','isExported':false},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enable/disable data loading animation of plot area.'}},'description':'Settings for tooltip related properties.'},'hoverline':{'name':'hoverline','supportedValueType':'Object','description':'Settings for hoverline properties.','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set to enabled/disabled hoverline or not.'}}},'marker':{'name':'marker','description':'Settings for marker/data point graphics','supportedValueType':'Object','isExported':false,'supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set show marker or not.','isExported':false},'shape':{'name':'shape','supportedValueType':'List','supportedValues':['circle','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'],'defaultValue':'circle','description':'Set marker shapes for chart.'},'size':{'name':'size','supportedValueType':'PositiveInt','defaultValue':"4",'min':'4','max':'32','description':'Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 4.'}}}},'css':{'.viz-plot-hoverline':{'description':'Define style for hoverline in line.','value':{'stroke':'#cccccc'}}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiAreaChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Area',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_area',name:'IDS_MULTIAREACHART',base:'riv/base/multiple/xy',modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},main:{configure:{properties:{'mergeDataRange':['primary']}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',propertyCategory:'xAxis',properties:{title:{visible:false},gridline:{visible:false},type:'category',position:'bottom'},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'yAxis',properties:{type:'value',position:'left'},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',orientation:'vertical',automaticInOutside:false,outsidePosition:'down'},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'getColorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.plot.dataLabel',listener:'showLabel',sourceModule:'main.plot.plot',type:'initialized.datalabel'},{targetModule:'main.plot.dataLabel',listener:'removeLabel',sourceModule:'main.plot.plot',type:'startToInit.datalabel'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiHorizontalAreaChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Area',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiAreaChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_horizontal_area',name:'IDS_MULTIHORIZONTALAREACHART',base:'viz/multi_area',modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{background:{configure:{properties:{direction:'horizontal'}}},xAxis:{id:'sap.viz.modules.axis',data:null,configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis',properties:{gridline:{visible:true},type:'value',position:'bottom'},propertiesOverride:{title:{isExported:false},gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the catetory axis of an XY chart.',propertyCategory:'yAxis',properties:{gridline:{visible:false},type:'category',position:'left'},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',orientation:'horizontal',automaticInOutside:false,outsidePosition:'left'},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',properties:{orientation:'horizontal'}}}}}}}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'getColorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiPercentageHorizontalAreaChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Area',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiHorizontalAreaChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_100_horizontal_area',name:'IDS_MULTIPERCENTAGEHORIZONTALAREACHART',base:'viz/multi_horizontal_area',modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',properties:{mode:'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiPercentageAreaChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Area',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.manifests.MultiAreaChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_100_area',name:'IDS_MULTIPERCENTAGEAREACHART',base:'viz/multi_area',modules:{tooltip:{configure:{properties:{chartType:'line',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{yAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',properties:{mode:"percentage"}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.xy.BaseBar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M){var m={'id':'sap.viz.modules.xy.bar.base','name':'bar',base:"sap.viz.modules.xy.base",'abstract':true,'properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'},'isRoundCorner':{'name':'isRoundCorner','supportedValueType':'Boolean','defaultValue':false,'description':'Set enable/disable round corner of bar.'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enable/disable data loading animation of plot area.'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set enable/disable data updating animation of plot area.'},'resizing':{'name':'resizing','supportedValueType':'Boolean','defaultValue':true,'description':'Set enable/disable resize animation of plot area.'}},'description':'Settings for animation of plot area.'}}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.util.lassoSelection',version:'4.0.0'},[],function Setup(){return function(){var l={},c={},s=null;var e,f,g,h,i=false,j=null,k=null,n={},o,p,q=null;var r=function(a,b){e=$('<div id="lasso-selection-help" style="position:absolute;pointer-events:none;background:#cccccc;"></div>');o=b&&b.filter?b.filter:'.datapoint';k=d3.select(a).select('.main').length>0?d3.select(a).select('.main')[0][0]:a;j=d3.select(k);var d=k.getBBox();q=j.insert('rect','g').attr('width',d.width).attr('height',d.height).attr('x',0).attr('y',0).attr('fill-opacity',0);f=b.lassoStart?b.lassoStart:function(){},g=b.lassoMove?b.lassoMove:function(){},lassoEnd=b.lassoEnd?b.lassoEnd:function(){};j.on('mousedown',r.start);j.on('mousemove',r.move);j.on('mouseup',r.end);return r};function t(a,b){return(a.x<=(b.x+b.width)&&b.x<=(a.x+a.width)&&a.y<=(b.y+b.height)&&b.y<=(a.y+a.height))};var u=function(a,b){n.x=a.x;n.y=a.y;n.height=b.height;n.width=b.width;var v=[];if(p==null){p=j.selectAll(o);}p.filter(function(d,m){var w=this.getBoundingClientRect();var x={x:w.left,y:w.top,width:w.width,height:w.height};if(t(x,n)){v.push(this)}});return v};r.start=function(){s=k.ownerSVGElement.getBoundingClientRect();c.x=d3.event.clientX,c.y=d3.event.clientY;l.x=c.x-s.left,l.y=c.y-s.top;e.css({"left":l.x,"top":l.y,"width":0,"height":0});e.insertBefore(k.ownerSVGElement.parentNode);var a=u({x:c.x,y:c.y},{width:0,height:0});f(a);i=true};r.move=function(){if(i){s=k.ownerSVGElement.getBoundingClientRect();var x=l.x,y=l.y,a=d3.event.clientX-s.left,b=d3.event.clientY-s.top;if(x>a){var d=a;a=x;x=d}if(y>b){var d=b;b=y;y=d}e.css({left:x,top:y,width:a-x,height:b-y})}};r.end=function(){e.css({width:0,height:0});e.remove();s=k.ownerSVGElement.getBoundingClientRect();var x=l.x,y=l.y,a=d3.event.clientX-s.left,b=d3.event.clientY-s.top;var d=c.x,m=c.y,v=d3.event.clientX,w=d3.event.clientY;if(x>a){var z=a;a=x;x=z;z=v;v=d;d=z}if(y>b){var z=b;b=y;y=z;z=w;w=m;m=z}if(x===a&&y===b){i=false}else{var A=u({x:d,y:m},{width:a-x,height:b-y});lassoEnd(A);i=false}};return r}});sap.riv.module({qname:'sap.viz.modules.bar',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.modules.util.lassoSelection',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.modules.datalabel',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,c,M,C,t,N,l,S,R,e,O,f,B){var g=function(o,p){var q;var s,u,v,z=[],A=0,D=0,E=false,F=false,G=0,H=0,I=null;var J,K,L=false,P=false,Q=Math.floor(Math.random()*10000),U=[],V,W,X=false,Y=0,Z=0,$=['squareWithRadius'],a1,b1=new c('selectData','deselectData','showTooltip','hideTooltip','initialized','startToInit');var c1=p.effectManager;var d1=[],e1=d3.scale.ordinal(),f1=d3.scale.linear(),g1=d3.scale.linear();var h1=null,i1=[],j1=null,k1=true,l1=false;var m1=0,n1,o1,p1=[],q1;var r1=true,s1=true,t1=false,u1=true,v1=1000,w1=false;var x1=null,y1=null,z1=R.newId();var A1='normal';var B1=false,C1=false,D1=false;var e;var E1=function(){t1=a1.isRoundCorner;r1=a1.animation.dataLoading;s1=a1.animation.dataUpdating;k1=a1.tooltip.enabled;if(L&&!P){V=a1.primaryValuesColorPalette;W=a1.secondaryValuesColorPalette}else{W=a1.colorPalette;V=a1.colorPalette}A1=a1.drawingEffect;var a=0;if(!P){m1=s.length;a=z[0].length}else{a=z.length*z[0].length}U=[];var i=0;if(X){var b=0,d=0,j=0;for(i=0;i<m1;i++){U.push(V[i%V.length]);b++;if(b===Y){d=0;for(;j<=(a-m1);j++){if(d>=Z){b=0;break}U.push(W[j%W.length]);d++}}}}else{for(i=0;i<a;i++){if(i<m1){U.push(V[i%V.length])}else if(L&&!P){U.push(W[(i-m1)%W.length])}}}};function F1(n){B.drawBound(n,J,K);var _=function(a){var r=0;if(a>=1){r=1;for(;;){if((a/10)<1){break}else{a/=10;r*=10}}}else if(a<1){r=0.1;for(;;){if((a*10)>=1){break}else{a*=10;r/=10}}}return r};var J1=function(z,d,q1){var r=1;var h=[];for(var i=0;i<z.length;i++){for(var j=0;j<z[i].length;j++){var k={};k.rectWidth=d(z[i][j].val);k.rectHeight=q1;k.imageWidth=q1;k.val=z[i][j].val;h.push(k)}}h.sort(function(a,b){return b.rectWidth-a.rectWidth});if(h.length!=0){var m=h[0].rectWidth/h[0].imageWidth;var w=h[0].val;var x=_(m/w);var y=Math.abs(x*w-m);var L1=Math.abs(x*10*w-m);if(y<L1&&(x*w*h[0].imageWidth)>=h[0].rectWidth*0.2){r=x}else{r=x*10}}return r};var K1=function(b,g,i,q1){var a=function(d,k){return"defID-"+i+k};var h=function(d,k){return"pathID-"+i+k};var j=function(d,k){return"url(#"+h(d,k)+")"};var m=function(d,k){return"url(#"+a(d,k)+")"};var r=function(d){var k=d1[d.valueAxis];return k(d.val)};var w=function(d){var k=d.val;if(d.val<0){k=-k}var N1={number:0,interval:q1};N1.number=k*M1;var O1=Math.floor(N1.number);var P1=N1.number-O1;var Q1=r(d);var R1=q1;var S1=R1*P1;var T1;if(O1==0){T1=0}else{if(Q1>S1){T1=(Q1-S1)/O1}else{T1=0}}var U1;if(O1<=1){U1=Q1/2}else{if(Q1>R1){U1=(Q1-R1)/(O1-1)}else{U1=Q1/(O1+1)}}var V1;if(O1===0){V1=0}else if(Q1>R1){V1=(Q1-S1)/O1}else{V1=Q1/(O1+1)}if(T1>=R1){N1.interval=T1}else if(U1<R1&&(S1<=U1)){N1.interval=U1}else{N1.interval=V1}return N1};var x=[];var y=function(d,k){var N1=d3.select(this);var O1=r(d);var P1=q1;var Q1=w(d);var R1=Math.floor(Q1.number);var S1=Q1.number-R1;N1.selectAll("image").remove();var T1=0;for(;T1<R1;T1++){N1.append("image").attr("xlink:xlink:href",a1.fillMode.imagePalette[k]).attr("width",P1).attr("height",P1).attr("x",T1*Q1.interval)}if(S1){var U1=T1*Q1.interval;var V1=U1+",0 ";V1+=((U1+P1*S1)+",0 ");V1+=((U1+P1*S1)+","+P1+" ");V1+=(U1+","+P1+" ");N1.append("clipPath").attr("id",h).append("polygon").attr("points",V1);N1.append("image").attr("xlink:xlink:href",a1.fillMode.imagePalette[k]).attr("width",P1).attr("height",P1).attr("x",U1).attr("clip-path",j)}};b.selectAll("defs").remove();var L1=b.append("defs").append("pattern").attr("id",a).attr("patternUnits","userSpaceOnUse").attr("width",r).attr("height",q1);var M1=1;L1.each(function(d){var k=d1[d.valueAxis];M1=J1(z,k,q1)});L1.each(y);g.attr('fill',m)};q=t();if(d1.length===0){return}b1.startToInit();n.each(function(){n1=z[0].length;o1=z.length;q1=8*(e1.rangeBand())/(9*n1+7);var a=(I=d3.select(this));if(h1===null){h1=d3.select(this).append('rect').attr('visibility','hidden').attr('width',J).attr('height',e1.rangeBand()-q1/2).attr('fill','rgba(133,133,133, 0.2)')}else{h1.attr('width',J).attr('height',e1.rangeBand()-q1/2).attr('visibility','hidden')}if(x1===null){x1=a.append('defs').append('clipPath').append('rect').attr('width',J).attr('height',K)}else{x1.attr('width',J).attr('height',K)}if(y1===null){y1=a.append('defs')}else{if(C1||B1||D1||!t1){y1.remove();y1=a.append('defs')}}var r=Math.log(q1)/Math.log(2);if(r<0){t1=false}var b;var j=a.selectAll('g.datashapesgroup');if(!T.isExist(j[0][0])){j=a.append('g').attr('class','datashapesgroup')}var k=j.selectAll('g.bar').data(z),L1=z.length-1;k.enter().append('g');k.attr('class','bar').each(function(M1,i){var N1,O1=[];var P1=d3.select(this).selectAll('g.datashape').data(M1);P1.enter().append('g').attr('class','datashape').append('rect').attr('class','datapoint');P1.exit().remove();P1.attr('transform',function(d,m){var x;b=d1[d.valueAxis];if(d.val<0){x=b(d.val)}else{x=b(0)}var y=e1(i)+q1*(n1-m-1);y=y+q1/8*(n1-m-1)+q1/2;O1.push(y);return'translate('+x+','+y+')'});var g=P1.select('rect.datapoint'),Q1=z[0].length-1;g.attr('fill',function(d,i){d.fillColor=U[i%U.length];var h={drawingEffect:A1,fillColor:d.fillColor,direction:'vertical'};return c1.register(h)}).attr('shape-rendering','crispEdges').attr('fill-opacity',1);if(r1&&!w1){if(C1){g.attr('y',function(d,m){var y=e1(i)-O1[m]+q1*(n1-m-1);y=y+q1/8*(n1-m-1)+q1/2;return y}).attr('x',function(d){b=d1[d.valueAxis];if(d.val>0){return 0}else{return b(0)-b(d.val)}}).attr('height',q1).attr('width',0).attr('class',function(d,m){return'datapoint series-'+m});if(t1){g.attr('clip-path',function(S1,m){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var Q='roundCorner-clip'+'-'+m+i+z1;y1.append('clipPath').attr('id',Q).append('rect').attr('rx',r).attr('ry',r).attr('width',w+r).attr('height',q1).attr('y',y).attr('x',x).transition().delay(function(d,m){return(m+n1*i)*R1}).attr('x',function(){b=d1[S1.valueAxis];if(S1.val<0){return 0}else{return 0-r}}).attr('width',function(){b=d1[S1.valueAxis];if(S1.val!==' '&&S1.val!==0){var J=Math.abs(b(S1.val)-b(0));return J+r}else{return 0}});return'url(#'+Q+')'})}var R1=v1/(n1*o1);N1=g.transition();N1.delay(function(d,m){return(m+n1*i)*R1}).attr('x',0).attr('y',0).attr('width',function(d){b=d1[d.valueAxis];if(d.val!==' '&&d.val!==0){var J=Math.abs(b(d.val)-b(0));return J}else{return 0}}).each('end',function(d,m){if(m===Q1&&i===L1){G1()}})}else if(B1){if(t1){g.attr('clip-path',function(d,m){var w=parseFloat(this.getAttribute('width')),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var Q='roundCorner-clip'+'-'+m+i+z1;y1.append('clipPath').attr('id',Q).append('rect').attr('rx',r).attr('ry',r).attr('width',w+r).attr('height',h).attr('y',y).attr('x',x).transition().duration(v1).attr('x',function(){if(d.val<0){return 0}else{return 0-r}}).attr('width',function(){b=d1[d.valueAxis];if(d.val!==' '&&d.val!==0){var J=Math.abs(b(d.val)-b(0));return J+r}else{return 0}}).attr('height',q1).attr('y',0);return'url(#'+Q+')'})}N1=g.transition();N1.duration(v1).attr('x',0).attr('y',0).attr('width',function(d,m){b=d1[d.valueAxis];if(d.val!==' '&&d.val!==0){var J=Math.abs(b(d.val)-b(0));return J}else{return 0}}).attr('height',q1).each('end',function(d,m){if(m===Q1&&i===L1){G1()}})}else if(D1){if(t1){g.attr('clip-path',function(d,m){var w=parseFloat(this.getAttribute('width')),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var Q='roundCorner-clip'+'-'+m+i+z1;y1.append('clipPath').attr('id',Q).append('rect').attr('rx',r).attr('ry',r).attr('x',-r).attr('width',w+r).attr('height',h).attr('y',y).transition().duration(v1).attr('width',function(){b=d1[d.valueAxis];if(d.val!==' '&&d.val!==0){var J=Math.abs(b(d.val)-b(0));return(J+r)}else{return 0}}).attr('height',q1).attr('y',function(){var y=e1(i)+q1*(n1-m-1);y=y+q1/8*(n1-m-1)+q1/2;return y});return'url(#'+Q+')'})}N1=g.transition();N1.duration(v1).attr('width',function(d){b=d1[d.valueAxis];if(d.val!==' '&&d.val!==0){var J=Math.abs(b(d.val)-b(0));return J}else{return 0}}).attr('x',0).attr('y',0).each('end',function(d,m){if(m===Q1&&i===L1){G1()}})}else if(t1){g.attr('clip-path',function(d,m){var Q='roundCorner-clip'+'-'+m+i+z1;y1.append('clipPath').attr('id',Q).append('rect').attr('rx',r).attr('ry',r).attr('width',function(){b=d1[d.valueAxis];if(d.val!==' '&&d.val!==0){var J=Math.abs(b(d.val)-b(0));return(J+r)}else{return 0}}).attr('height',q1).attr('y',0).attr('x',function(){b=d1[d.valueAxis];if(d.val<0){return 0}else{return 0-r}});return'url(#'+Q+')'})}}else{g.attr('width',function(d){b=d1[d.valueAxis];if(d.val!==' '&&d.val!==0){var J=Math.abs(b(d.val)-b(0));return J}else{return 0}}).attr('x',0).attr('height',q1).attr('y',0);if(t1){g.attr('clip-path',function(d,m){var Q='roundCorner-clip'+'-'+m+i+z1;y1.append('clipPath').attr('id',Q).append('rect').attr('rx',r).attr('ry',r).attr('width',function(){b=d1[d.valueAxis];if(d.val!==' '&&d.val!==0){var J=Math.abs(b(d.val)-b(0));return(J+r)}else{return 0}}).attr('height',q1).attr('y',0).attr('x',function(){b=d1[d.valueAxis];if(d.val<0){return 0}else{return 0-r}});return'url(#'+Q+')'})}}if(a1.fillMode.image&&!L){K1(P1,g,i,q1)}});k.exit().remove();B1=false,C1=false,D1=false});if(!r1){G1()}return F1}function G1(){b1.initialized()}F1.afterUIComponentAppear=function(){b1.initialized()};F1.dataLabel=function(a){if(!arguments.length){return a}e=a};F1.hoverOnPoint=function(a){var x=a.x,y=a.y;var i=-1;while(i<z.length){if(Math.abs(y-e1.rangeBand()*i-0.5*e1.rangeBand())<=0.5*e1.rangeBand()){break}i++}if(i>(z.length-1)||i<0){h1.attr('visibility','hidden');return}h1.attr('y',e1.rangeBand()*i+q1/4).attr('visibility','visible');if(i!==j1){if(k1){j1=i;var b=I[0][0].getTransformToElement(I[0][0].ownerSVGElement);var d=b.f;var h=q.generateTooltipData(v,z,o1-1-i,U,$);h.point={x:d3.event.layerX,y:e1.rangeBand()*i+0.5*e1.rangeBand()+d};h.plotArea={x:b.e,y:b.f,width:J,height:K};b1.showTooltip(t.formatTooltipData(h))}}};F1.parent=function(){return I};F1.highlight=function(a){if(a instanceof Array){for(var i=0,b=a.length;i<b;i++){a[i].setAttribute('fill-opacity',1)}}else{a.setAttribute('fill-opacity',1)}};F1.unhighlight=function(a){if(a instanceof Array){for(var i=0,b=a.length;i<b;i++){a[i].setAttribute('fill-opacity',0.2)}}else{a.setAttribute('fill-opacity',0.2)}};F1.clear=function(a){if(a==null){I.selectAll('.datapoint').attr('fill-opacity',1)}else{I.selectAll('.datapoint').attr('fill-opacity',0.2)}};F1.blurOut=function(){j1=null;h1.attr('visibility','hidden');if(k1){b1.hideTooltip()}};F1.width=function(a){if(!arguments.length){return J}B1=(J===a)&&!B1?false:true;J=a;if(T.isExist(J)&&T.isExist(K)&&T.isExist(z)){H1()}return F1};F1.height=function(a){if(!arguments.length){return K}B1=(K===a)&&!B1?false:true;K=a;if(T.isExist(J)&&T.isExist(K)&&T.isExist(z)){H1()}return F1};F1.data=function(a){if(!arguments.length){return v}v=a;var b=M(v);s=b["MG1"];u=b["MG2"];Y=b.MG1Number;Z=b.MG2Number||0;X=b.MNDOnColor&&b.MNDInner;if(T.isExist(b.color)){P=true;L=true}else{P=false;if(T.isExist(u)){L=true}else{L=false}}var _=I1(s,u,b.color);if(z.length!==_.length||_[0].length!==z[0].length){C1=true}else{D1=true}z=_;if(T.isExist(J)&&T.isExist(K)){H1()}E1();return F1};F1.properties=function(a){if(!arguments.length){return a1}O.extend(true,a1,a);E1();return F1};var H1=function(){var d=[];d1=[];for(var i=0;i<z.length;i++){d.push(i)}e1.domain(d).rangeBands([K,0]);if(D===0&&A===0){f1.domain([0,1]).range([0,J])}else{f1.domain([D,A]).range([0,J])}if(T.isExist(u)||L){if(G===0&&H===0){g1.domain(f1.domain()).range(f1.range())}else{g1.domain([H,G]).range([0,J]);if(D===0&&A===0){f1.domain(g1.domain()).range(g1.range())}}if(!F&&!E){S.perfectDual(f1,g1)}else if(!F&&E){S.perfect(g1)}else if(F&&!E){S.perfect(f1)}}else{if(!E){S.perfect(f1)}g1.range([0,0])}d1.push(f1);d1.push(g1)};F1.categoryScale=function(a){if(!arguments.length){return e1}e1=a;return F1};F1.primaryScale=function(a){if(!arguments.length){return f1}f1=a;d1[0]=f1;return F1};F1.secondScale=function(a){if(!arguments.length){return g1}g1=a;d1[1]=g1;return F1};F1.primaryAxisColor=function(){if(L&&!P){return U[0]}else{return undefined}};F1.secondAxisColor=function(){if(!P){return U[z[0].length-1]}else{return undefined}};F1.primaryDataRange=function(r){if(!arguments.length){return{min:D,max:A}}if(r!==null){A=r.max;D=r.min;if(r.from==='axis'){E=true}if(T.isExist(J)&&T.isExist(K)){H1()}}return F1};F1.secondDataRange=function(r){if(!arguments.length){return{min:H,max:G}}if(r!==null){G=r.max;H=r.min;if(r.from==='axis'){F=true}if(T.isExist(J)&&T.isExist(K)){H1()}}return F1};F1.getPreferredSize=function(){};F1.dispatch=function(_){if(!arguments.length){return b1}b1=_;return this};F1.colorPalette=function(_){if(!arguments.length){return U}U=_;return this};F1.shapePalette=function(_){if(!arguments.length){return $}$=_;return this};F1.primaryAxisTitle=function(_){if(!arguments.length){var a=v.getMeasureValuesGroupDataByIdx(0),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(f.get('IDS_ISNOVALUE'))}}}return b.join('/')}return this};F1.secondAxisTitle=function(_){if(!arguments.length){var a=v.getMeasureValuesGroupDataByIdx(1),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(f.get('IDS_ISNOVALUE'))}}}return b.join('/')}return this};var I1=function(a,b,d){A=D=0;G=H=0;var h=[];var o1=0;if(a[0]&&a[0].length){o1=a[0].length}else if(b[0]&&b[0].length){o1=b[0].length}var k=[];var r=0,w=0;var i=0,j=0;for(i=0;i<a.length;i++){if(P){for(j=0;j<a[i].length;j++){if(d[j]===0){r=a[i][j].val;a[i][j].valueAxis=0;if(A<r){A=r}if(D>r){D=r}m1++}else{w=a[i][j].val;a[i][j].valueAxis=1;if(G<w){G=w}if(H>w){H=w}}}}else{r=d3.max(a[i],function(m){return m.val});w=d3.min(a[i],function(m){return m.val});if(A<r){A=r}if(D>w){D=w}}k.push(a[i])}if(b!==undefined){for(i=0;i<b.length;i++){r=d3.max(b[i],function(m){return m.val});w=d3.min(b[i],function(m){return m.val});if(G<r){G=r}if(H>w){H=w}k.push(b[i])}}for(j=0;j<o1;j++){var x=[];for(i=0;i<k.length;i++){if(!P){if(i<a.length){k[i][j].valueAxis=0}else{k[i][j].valueAxis=1}}if(N.isNoValue(k[i][j].val)){k[i][j].val=' '}x.push(k[i][j])}if(X){var y=[],_=0,J1=0;var n=0;for(var m=0;m<a.length;m++){y.push(x[m]);_++;if(_===Y&&b!==undefined){J1=0;for(;n<b.length;n++){if(J1>=Z){_=0;break}y.push(x[a.length+n]);J1++}}}h.push(y)}else{h.push(x)}}return h};a1=o.props(null);return F1};return g});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.bar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.BaseBar',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.bar','name':'bar',base:"sap.viz.modules.xy.bar.base",'properties':{'fillMode':{'name':'fillMode','supportedValueType':'Object','supportedValues':{'image':{'name':'image','supportedValueType':'Boolean','defaultValue':false,'description':'Set enabled/disabled image fill.'},'imagePalette':{'name':'imagePalette','supportedValueType':'StringArray','supportedValues':['image1.png','image2.png','image3.png','image4.png'],'defaultValue':['http://www.sap.com/global/ui/images/global/sap-logo.png','http://www.sap.com/global/ui/images/global/sap-logo.png','http://www.sap.com/global/ui/images/global/sap-logo.png','http://www.sap.com/global/ui/images/global/sap-logo.png',],'description':'images to fill the bar',}},'isExported':true,'description':'Settings for tooltip related properties.'}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_bar',name:'IDS_MULTIBARCHART',base:'riv/base/multiple/xy',modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:'bar',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},configure:{properties:{'mergeDataRange':['primary']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{background:{configure:{properties:{direction:'horizontal'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{orientation:'horizontal',outsidePosition:'right'}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis',properties:{title:{visible:false},type:'value',position:'bottom'},propertiesOverride:{title:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:'sap.viz.modules.bar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.plot.dataLabel',listener:'showLabel',sourceModule:'main.plot.plot',type:'initialized.datalabel'},{targetModule:'main.plot.dataLabel',listener:'removeLabel',sourceModule:'main.plot.plot',type:'startToInit.datalabel'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.verticalbar',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,a,M,b,C,S,R,N,O,l,c){var B=function(e,f){var g;var o,p,q,s=[],u=0,v=0,z=false,A=false,D=0,E=0,W=null;var F=undefined,G=undefined,H=Math.floor(Math.random()*10000),x=0,y=0,I=false,J=[],K,L,P=false,Q=0,U=0,V=['squareWithRadius'],X,Y=new a('showTooltip','hideTooltip','initialized','startToInit');var Z=f.effectManager;var $=[],a1=d3.scale.ordinal(),b1=d3.scale.linear(),c1=d3.scale.linear();var d1,e1,f1=[],g1=true,h1=null;var i1=0,j1,k1,l1,m1=[];var n1=true,o1=true,p1=false,q1=true,r1=1000,s1=false,t1=false;var u1,v1,w1=R.newId();var x1='normal';var y1=false,z1=false,A1=false;C1.hoverOnPoint=function(d){var h=d.x,j=d.y;var i=-1;while(i<s.length){if(Math.abs(h-a1.rangeBand()*i-0.5*a1.rangeBand())<=0.5*a1.rangeBand()){break}i++}if(i>(s.length-1)||i<0){d1.attr('visibility','hidden');return}d1.attr('x',a1.rangeBand()*i+l1/4).attr('visibility','visible');if(h1!==i){if(g1){h1=i;var t=W[0][0].getTransformToElement(W[0][0].ownerSVGElement);var k=t.e;var m=g.generateTooltipData(q,s,i,J,V);m.point={x:a1.rangeBand()*i+0.5*a1.rangeBand()+k,y:d3.event.layerY};m.plotArea={x:t.e,y:t.f,width:F,height:G};Y.showTooltip(b.formatTooltipData(m))}}};C1.parent=function(){return W};C1.highlight=function(d){if(d instanceof Array){for(var i=0,h=d.length;i<h;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};C1.unhighlight=function(d){if(d instanceof Array){for(var i=0,h=d.length;i<h;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};C1.clear=function(d){if(d==null){W.selectAll('.datapoint').attr('fill-opacity',1)}else{W.selectAll('.datapoint').attr('fill-opacity',0.2)}};C1.blurOut=function(){d1.attr('visibility','hidden');h1=null;if(g1){Y.hideTooltip()}};var B1=function(){p1=X.isRoundCorner;n1=X.animation.dataLoading;o1=X.animation.dataUpdating;g1=X.tooltip.enabled;x1=X.drawingEffect;if(I&&!hasMNDonCategoryAxis){K=X.primaryValuesColorPalette;L=X.secondaryValuesColorPalette}else{L=X.colorPalette;K=X.colorPalette}var d=0;if(!hasMNDonCategoryAxis){i1=o.length;d=s[0].length}else{d=s.length*s[0].length}J=[];if(P){var h=0,k=0,j=0;for(var i=0;i<i1;i++){J.push(K[i%K.length]);h++;if(h==Q){k=0;for(;j<=(d-i1);j++){if(k>=U){h=0;break}J.push(L[j%L.length]);k++}}}}else{for(var i=0;i<d;i++){if(i<i1){J.push(K[i%K.length])}else if(I&&!hasMNDonCategoryAxis){J.push(L[(i-i1)%L.length])}}}};function C1(j){c.drawBound(j,F,G);g=b();if($.length==0)return;Y.startToInit();j.each(function(){j1=s[0].length;k1=s.length;l1=8*(a1.rangeBand())/(9*j1+7);var n=W=d3.select(this);if(d1==null){d1=n.append('rect').attr('width',a1.rangeBand()-l1/2).attr('height',G).attr('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{d1.attr('width',a1.rangeBand()-l1/2).attr('height',G).attr('visibility','hidden')}if(u1==null){u1=n.append('defs').append('clipPath').append('rect').attr('width',F).attr('height',G)}else{u1.attr('width',F).attr('height',G)}if(v1==null){v1=n.append('defs')}else{if(z1||y1||A1||!p1){v1.remove();v1=n.append('defs')}}var r=Math.log(l1)/Math.log(2);if(r<0){p1=false}var t;var _=n.selectAll('g.datashapesgroup');if(!T.isExist(_[0][0])){_=n.append('g').attr('class','datashapesgroup')}var H1=_.selectAll('g.bar').data(s),I1=s.length-1,J1=s[0].length-1;H1.enter().append('g');H1.attr('class','bar').each(function(K1,i){var L1=[],M1=[];var N1=d3.select(this).selectAll('g.datashape').data(K1);N1.enter().append('g').attr('class','datashape').append('rect').attr('class','datapoint');N1.exit().remove();if(s1){N1.each(function(){M1.push(this.getTransformToElement(this.parentNode).f)})}N1.attr('transform',function(d,m){var y;t=$[d.valueAxis];if(d.val>=0){y=t(d.val)}else{y=t(0)}var x=a1(i)+l1*m;x=x+l1/8*(m)+l1/2;L1.push(x);return'translate('+x+','+y+')'});var O1=N1.select('rect.datapoint');O1.attr('fill',function(d,i){d.fillColor=J[i%J.length];var h={drawingEffect:x1,fillColor:d.fillColor,direction:'horizontal'};return Z.register(h)}).attr('shape-rendering','crispEdges').attr('fill-opacity',1);if(n1&&!t1){if(z1){O1.attr('width',l1).attr('height',0).attr('x',function(d,m){var x=a1(i)-L1[m]+l1*m;x=x+l1/8*(m)+l1/2;return x}).attr('y',function(d){t=$[d.valueAxis];if(d.val!==' '&&d.val!=0&&d.val>0){var G=Math.abs(t(d.val)-t(0));return G}else{return 0}});if(p1){O1.attr('clip-path',function(k,m){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var H='roundCorner-clip'+'-'+m+i+w1;v1.append('clipPath').attr('id',H).append('rect').attr('rx',r).attr('ry',r).attr('x',0).attr('width',l1).attr('y',h).transition().delay(function(d,m){return(m+j1*i)*P1}).attr('height',function(){t=$[k.valueAxis];if(k.val!==' '&&k.val!=0){var G=Math.abs(t(k.val)-t(0));return(G+r)}else{return 0}}).attr('y',function(){if(k.val>0){return 0}else{return 0-r}});return'url(#'+H+')'})}var P1=r1/(j1*k1);O1.transition().delay(function(d,m){return(m+j1*i)*P1}).attr('height',function(d,m){t=$[d.valueAxis];if(d.val!==' '&&d.val!=0){var G=Math.abs(t(d.val)-t(0));return G}else{return 0}}).attr('y',0).attr('x',0).each('end',function(d,m){if(m===J1&&i===I1){D1()}})}else if(y1){if(p1){O1.attr('clip-path',function(d,m){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var H='roundCorner-clip'+'-'+m+i+w1;v1.append('clipPath').attr('id',H).append('rect').attr('rx',r).attr('ry',r).attr('width',w).attr('x',x).attr('height',h).attr('y',function(){if(d.val>0){return 0}else{return 0-r}}).transition().duration(r1).attr('width',l1).attr('height',function(){t=$[d.valueAxis];if(d.val!==' '&&d.val!=0){var G=Math.abs(t(d.val)-t(0));return(G+r)}else{return 0}});return'url(#'+H+')'})}O1.transition().duration(r1).attr('width',l1).attr('height',function(d){t=$[d.valueAxis];if(d.val!==' '&&d.val!=0){var G=Math.abs(t(d.val)-t(0));return G}else{return 0}}).attr('y',0).attr('x',0).each('end',function(d,m){if(m===J1&&i===I1){D1()}})}else if(A1){var Q1=[];O1.attr('y',function(d,k){var h=M1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f;Q1.push(h);return h});if(p1){O1.attr('clip-path',function(d,m){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var H='roundCorner-clip'+'-'+m+i+w1;v1.append('clipPath').attr('id',H).append('rect').attr('rx',r).attr('ry',r).attr('x',x).attr('width',l1).attr('height',function(){t=$[d.valueAxis];var k=Math.abs(t(d.val)-t(0));if(parseFloat(h)>k){return h}else{return k}}).attr('y',function(){return Q1[m]}).transition().duration(r1).attr('height',function(){t=$[d.valueAxis];if(d.val!==' '&&d.val!=0){var G=Math.abs(t(d.val)-t(0));return(G+r)}else{return 0}}).attr('y',function(){t=$[d.valueAxis];if(d.val>=0){return 0}else{return 0-r}});return'url(#'+H+')'})}O1.transition().duration(r1).attr('height',function(d,m){t=$[d.valueAxis];if(d.val!==' '&&d.val!=0){var G=Math.abs(t(d.val)-t(0));d.height=G;return G}else{return 0}}).attr('y',0).attr('x',0).each('end',function(d,m){if(m===J1&&i===I1){D1()}})}else if(p1){O1.attr('clip-path',function(d,m){var H='roundCorner-clip'+'-'+m+i+w1;v1.append('clipPath').attr('id',H).append('rect').attr('rx',r).attr('ry',r).attr('width',l1).attr('height',function(){t=$[d.valueAxis];if(d.val!==' '&&d.val!=0){var G=Math.abs(t(d.val)-t(0));return(G+r)}else{return 0}}).attr('y',function(){t=$[d.valueAxis];if(d.val>=0){return 0}else{return 0-r}}).attr('x',0);return'url(#'+H+')'})}}else{O1.attr('width',l1).attr('height',function(d){t=$[d.valueAxis];if(d.val!==' '&&d.val!=0){var G=Math.abs(t(d.val)-t(0));d.height=G;return G}else{return 0}}).attr('y',0).attr('x',0);if(p1){O1.attr('clip-path',function(d,m){var H='roundCorner-clip'+'-'+m+i+w1;v1.append('clipPath').attr('id',H).append('rect').attr('rx',r).attr('ry',r).attr('width',l1).attr('height',function(){t=$[d.valueAxis];if(d.val!==' '&&d.val!=0){var G=Math.abs(t(d.val)-t(0));return(G+r)}else{return 0}}).attr('y',function(){t=$[d.valueAxis];if(d.val>=0){return 0}else{return 0-r}}).attr('x',0);return'url(#'+H+')'})}}});H1.exit().remove();y1=false,A1=false,z1=false});if(!n1)D1();return C1}function D1(){Y.initialized();s1=true}C1.afterUIComponentAppear=function(){Y.initialized()};function E1(d,m){var i=d3.interpolate(G,(m>=i1)?c1(d.val):b1(d.val));return function(t){return i(t)}};C1.width=function(d){if(!arguments.length){return F}y1=(F===d)&&!y1?false:true;F=d;if(T.isExist(F)&&T.isExist(G)&&T.isExist(s)){F1()}return C1};C1.height=function(d){if(!arguments.length){return G}y1=(G===d)&&!y1?false:true;G=d;if(T.isExist(F)&&T.isExist(G)&&T.isExist(s)){F1()}return C1};C1.data=function(d){if(!arguments.length){return q}q=d;var h=M(q);o=h["MG1"];p=h["MG2"];Q=h.MG1Number;U=h.MG2Number||0;P=h.MNDOnColor&&h.MNDInner;if(T.isExist(h.color)){hasMNDonCategoryAxis=true;I=true}else{hasMNDonCategoryAxis=false;if(T.isExist(p)){I=true}else{I=false}}var _=G1(o,p,h.color);if(s.length!==_.length||_[0].length!==s[0].length){z1=true}else{A1=true}s=_;if(T.isExist(F)&&T.isExist(G)){F1()}B1();return C1};C1.properties=function(d){if(!arguments.length){return X}O.extend(true,X,d);B1();return C1};var F1=function(){var d=[];for(var i=0;i<s.length;i++){d.push(i)}$=[];a1.domain(d).rangeBands([0,F]);if(v===0&&u===0){b1.domain([0,1]).range([G,0])}else{b1.domain([v,u]).range([G,0])}if(T.isExist(p)||I){if(D===0&&E===0){c1.domain(b1.domain()).range(b1.range())}else{c1.domain([E,D]).range([G,0]);if(v===0&&u===0){b1.domain(c1.domain()).range(c1.range())}}if(!A&&!z){S.perfectDual(b1,c1)}else if(!A&&z){S.perfect(c1)}else if(A&&!z){S.perfect(b1)}}else{if(!z){S.perfect(b1)}c1.range([0,0])}$.push(b1);$.push(c1)};C1.categoryScale=function(d){if(!arguments.length){return a1}a1=d;return C1};C1.primaryScale=function(d){if(!arguments.length){return b1}b1=d;$[0]=b1;return C1};C1.secondScale=function(d){if(!arguments.length){return c1}c1=d;$[1]=c1;return C1};C1.primaryAxisColor=function(){if(I&&!hasMNDonCategoryAxis){return J[0]}else{return undefined}};C1.secondAxisColor=function(){if(!hasMNDonCategoryAxis){return J[s[0].length-1]}else{return undefined}};C1.primaryDataRange=function(r){if(!arguments.length){return{min:v,max:u}}if(r!==null){u=r.max;v=r.min;if(r.from==='axis'){z=true}if(T.isExist(F)&&T.isExist(G)){F1()}}return C1};C1.secondDataRange=function(r){if(!arguments.length){return{min:E,max:D}}if(r!==null){D=r.max;E=r.min;if(r.from==='axis'){A=true}if(T.isExist(F)&&T.isExist(G)){F1()}}return C1};C1.getPreferredSize=function(){};C1.x=function(_){if(!arguments.length){return x}x=_;return this};C1.y=function(_){if(!arguments.length)return y;y=_;return this};C1.dispatch=function(_){if(!arguments.length)return Y;Y=_;return this};C1.dataLabel=function(_){};C1.eventTarget=function(d){if(d.type=='mousemove'){return C1.hoverOnPoint}else if(d.type=='mouseout'){return blurOut}};C1.colorPalette=function(_){if(!arguments.length){return J}J=_;return this};C1.shapePalette=function(_){if(!arguments.length){return V}V=_;return this};C1.primaryAxisTitle=function(_){if(!arguments.length){var t=q.getMeasureValuesGroupDataByIdx(0),d=[];if(t){for(var i=0,h=t.values.length;i<h;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){d.push(t.values[i].col)}else{d.push(l.get('IDS_ISNOVALUE'))}}}return d.join('/')}return this};C1.secondAxisTitle=function(_){if(!arguments.length){var t=q.getMeasureValuesGroupDataByIdx(1),d=[];if(t){for(var i=0,h=t.values.length;i<h;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){d.push(t.values[i].col)}else{d.push(l.get('IDS_ISNOVALUE'))}}}return d.join('/')}return this};var G1=function(d,h,k){u=v=0;D=E=0;var r=[];var k1=0;if(d[0]&&d[0].length){k1=d[0].length}else if(h[0]&&h[0].length){k1=h[0].length}var t=[];var w=_=0;for(var i=0;i<d.length;i++){if(hasMNDonCategoryAxis){for(var j=0;j<d[i].length;j++){if(k[j]==0){w=d[i][j].val;d[i][j].valueAxis=0;if(u<w){u=w}if(v>w){v=w}i1++}else{_=d[i][j].val;d[i][j].valueAxis=1;if(D<_){D=_}if(E>_){E=_}}}}else{w=d3.max(d[i],function(m){return m.val});_=d3.min(d[i],function(m){return m.val});if(u<w){u=w}if(v>_){v=_}}t.push(d[i])}if(h!=undefined){for(i=0;i<h.length;i++){var w=d3.max(h[i],function(m){return m.val});var _=d3.min(h[i],function(m){return m.val});if(D<w){D=w}if(E>_){E=_}t.push(h[i])}}for(var j=0;j<k1;j++){var ds=[];for(i=0;i<t.length;i++){if(!hasMNDonCategoryAxis){if(i<d.length){t[i][j].valueAxis=0}else{t[i][j].valueAxis=1}}if(N.isNoValue(t[i][j].val)){t[i][j].val=' '}ds.push(t[i][j])}if(P){var H1=[],I1=0,J1=0;var n=0;for(var m=0;m<d.length;m++){H1.push(ds[m]);I1++;if(I1==Q&&h!=undefined){J1=0;for(;n<h.length;n++){if(J1>=U){I1=0;break}H1.push(ds[d.length+n]);J1++}}}r.push(H1)}else{r.push(ds)}}return r};X=e.props(null);return C1};return B});sap.riv.module({qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.verticalbar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.BaseBar',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.verticalbar','name':'vertical bar',base:"sap.viz.modules.xy.bar.base",fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_column',name:'IDS_MULTIVERTICALBARCHART',base:'viz/multi_bar',modules:{tooltip:{configure:{properties:{chartType:'verticalbar',orientation:'left'}}},main:{modules:{plot:{modules:{background:{configure:{properties:{direction:'vertical'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{orientation:'vertical',outsidePosition:'up'}}},xAxis:{data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',properties:{type:'category',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{data:null,configure:{'description':'Settings for the value axis of an XY chart.',properties:{type:'value',gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},plot:{id:'sap.viz.modules.verticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiVerticalBarChart',version:'4.0.0'}],function Setup(M,C){var m={id:'viz/multi_dual_column',name:'IDS_MULTIDUALVERTICALBARCHART',base:'viz/multi_column',modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{title:{visible:false},type:'value',position:'right'},propertiesOverride:{title:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main',target:'secondDataRange',sourceModule:'main.plot.plot',source:'secondDataRange'},{targetModule:'main.plot.plot',target:'secondDataRange',sourceModule:'main',source:'secondDataRange'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.yAxis2',target:'scale',sourceModule:'main.plot.plot',source:'secondScale'},{targetModule:'main.plot.yAxis2',target:'title',sourceModule:'main.plot.plot',source:'secondAxisTitle'},{targetModule:'main.plot.yAxis',target:'color',sourceModule:'main.plot.plot',source:'primaryAxisColor'},{targetModule:'main.plot.yAxis2',target:'color',sourceModule:'main.plot.plot',source:'secondAxisColor'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.stackedverticalbar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.stackedverticalbar','name':'stacked vertical bar',base:"sap.viz.modules.verticalbar",'properties':{'mode':{'name':'mode','supportedValueType':'List','supportedValues':['comparison','percentage'],'defaultValue':'comparison','description':'Set dispaly mode of stacked vertical bar.','isExported':true}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualVerticalBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_dual_stacked_column',name:'IDS_MULTIDUALSTACKEDVERTICALBARCHART',base:'viz/multi_dual_column',modules:{main:{modules:{plot:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualPercentageStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualStackedVerticalBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_100_dual_stacked_column',name:'IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART',base:'viz/multi_dual_stacked_column',modules:{main:{modules:{plot:{modules:{yAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true}}},yAxis2:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{'mode':'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,type:'value',showZero:true}}}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{formatString:[["0.00%"],["0.00%"]]}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiBarChart',version:'4.0.0'}],function Setup(M,C){var m={id:'viz/multi_dual_bar',name:'IDS_MULTIDUALBARCHART',base:'viz/multi_bar',modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'xAxis2',properties:{title:{visible:false},gridline:{visible:false},type:'value',position:'top'},propertiesOverride:{title:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main',target:'secondDataRange',sourceModule:'main.plot.plot',source:'secondDataRange'},{targetModule:'main.plot.plot',target:'secondDataRange',sourceModule:'main',source:'secondDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.xAxis2',target:'scale',sourceModule:'main.plot.plot',source:'secondScale'},{targetModule:'main.plot.xAxis2',target:'title',sourceModule:'main.plot.plot',source:'secondAxisTitle'},{targetModule:'main.plot.xAxis',target:'color',sourceModule:'main.plot.plot',source:'primaryAxisColor'},{targetModule:'main.plot.xAxis2',target:'color',sourceModule:'main.plot.plot',source:'secondAxisColor'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.stackedbar',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,O,a,M,t,C,S,R,N,b,l,c){var e=function(f,g){var h=null;var n,o=[[]],p=[[]],s=[],q=[],u=0,v=0,w=false,z=false,A=0,B=0,D=null;var E,F,G=Math.floor(Math.random()*10000),x=0,y=0,H=false,I=[],J,K,L=false,P=0,Q=0,U=['squareWithRadius'],V,W=new a('selectData','deselectData','showTooltip','hideTooltip','initialized','startToInit');var X=g.effectManager;var Y=d3.scale.ordinal(),Z=d3.scale.linear(),$=d3.scale.linear();var a1=null,b1=[],c1=[],d1=null,e1=false;var f1=1,g1,h1,i1,j1=[],k1=[];var l1=true,m1=true,n1=false,o1=true,p1=false,q1=false,r1=false,s1,t1=1000;var u1=null,v1=null,w1=R.newId();var x1='comparison';var y1='normal';var z1=false,A1=false,B1=false;var C1=function(){n1=V.isRoundCorner;x1=V.mode==='percentage'?'percentage':'comparison';l1=V.animation.dataLoading;m1=V.animation.dataUpdating;s1=V.tooltip.enabled;if(H&&!p1){J=V.primaryValuesColorPalette;K=V.secondaryValuesColorPalette}else{K=V.colorPalette;J=V.colorPalette}y1=V.drawingEffect;var d=o.length;I=[];var i,j;if(L){var k=0,m=0;for(i=0;i<s[0][0].length;i++){I.push(J[i%J.length]);k++;if(k===P&&H&&T.isExist(s[0][1])){m=0;for(j=0;j<=s[0][1].length;j++){if(m>=Q){k=0;break}I.push(K[j%K.length]);m++}}}}else{for(i=0;i<s[0].length;i++){for(j=0;j<s[0][0].length;j++){I.push(J[j%J.length])}if(H&&T.isExist(s[0][1])){for(j=0;j<s[0][1].length;j++){I.push(K[j%K.length])}}}}};function D1(_){c.drawBound(_,E,F);if(x1==='percentage'){E1()}h=t();if(!T.isExist(Z)&&!T.isExist($)){return}W.startToInit();_.each(function(){f1=(T.isExist(p))?2:1;i1=8*(Y.rangeBand())/(9*f1+7);h1=s[0][0].length+((T.isExist(s[0][1]))?s[0][1].length:0);var I1=8*(Y.rangeBand())/(9*h1+7);var J1=(D=d3.select(this));if(a1===null){a1=J1.append('rect').attr('width',E).attr('height',Y.rangeBand()-i1/2).attr('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{a1.attr('width',E).attr('height',Y.rangeBand()-i1/2).attr('visibility','hidden')}if(u1===null){u1=J1.append('defs').append('clipPath').append('rect').attr('width',E).attr('height',F)}else{u1.attr('width',E).attr('height',F)}if(v1===null){v1=J1.append('defs').attr('id','round-corner-clip'+w1)}else{if(A1||z1||B1||!n1){v1.remove();v1=J1.append('defs').attr('id','round-corner-clip'+w1)}}var r=Math.log(i1)/Math.log(2);if(r<0){n1=false}var K1=J1.selectAll('g.datashapesgroup');if(!T.isExist(K1[0][0])){K1=J1.append('g').attr('class','datashapesgroup')}var L1;L1=K1.selectAll('g.bar').data(s);L1.enter().append('g');L1.attr('class','bar').each(function(M1,i){var N1=d3.select(this).selectAll('g.axisGroup').data(M1);N1.enter().append('g');N1.attr('class','axisGroup').each(function(O1,j){var P1=(j===0)?Z:$;var Q1=(j===0)?i1/2:(i1/2+i1+i1/8);var R1=(j===0)?Y(i):(Y(i)+i1/2+i1);var S1=(j===0)?J:K;var T1=0,U1=0,V1=0,W1=0;var X1=[],Y1=[];var Z1=d3.select(this).selectAll('g.datashape').data(O1);Z1.enter().append('g').attr('class','datashape').append('rect').attr('class','datapoint');Z1.exit().remove();if(r1){Z1.each(function(){Y1.push(this.getTransformToElement(this.parentNode).e)})}Z1.attr('transform',function(d,k){var y=Y(i)+Q1;X1.push(y);var x;if(d.val>=0){T1=P1(V1);V1+=O1[k].val;x=T1}else{W1+=O1[k].val;x=P1(W1)}return'translate('+x+','+y+')'});var e=Z1.select('rect.datapoint');e.attr('fill',function(d,k){d.fillColor=S1[k%S1.length];var m={drawingEffect:y1,fillColor:d.fillColor,direction:'vertical'};return X.register(m)}).attr('shape-rendering','crispEdges').attr('fill-opacity',1);if(l1&&!q1){if(A1){e.attr('height',I1).attr('y',function(d,m){var y=R1-X1[m]+I1*m;y=y+I1/8*(m)+I1/2;return y}).attr('x',function(d){if(d.val>0){return 0}else{return P1(0)-P1(d.val)}}).attr('width',0);if(n1){e.attr('clip-path',function(d,k){if(k===k1[j][i]||k===j1[j][i]){var G='roundCorner-clip'+'-'+k+i+j+w1;var m=v1.append('clipPath').attr('id',G).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',I1).attr('width',0).attr('x',this.x.baseVal.value).transition().duration(t1/2).attr('x',function(){if(k===k1[j][i]){return 0}else{return 0-r}}).attr('width',function(){return Math.abs(P1(d.val)-P1(0))+r}).transition().delay(t1/2).duration(t1/2).attr('height',i1).attr('y',0);return'url(#'+G+')'}})}W1=0;e.transition().duration(t1/2).attr('width',function(d){return Math.abs(P1(d.val)-P1(0))}).attr('x',0);e.transition().delay(t1/2).duration(t1/2).attr('height',i1).attr('y',0).each('end',function(d,m){this.setAttribute('width',Math.abs(P1(d.val)-P1(0)));if(m===s[0][0].length-1&&i===0){F1()}})}else if(z1){e.attr('x',function(d,k){return Y1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr('width',function(d){var k=Math.abs(P1(d.val)-P1(0));if(parseFloat(this.width.baseVal.value)>k){return this.width.baseVal.value}else{return k}});var $1=e.transition();$1.duration(t1/2).attr('width',function(d){return Math.abs(P1(d.val)-P1(0))}).attr('x',0).attr('height',i1).each('end',function(d,m){this.setAttribute('width',Math.abs(P1(d.val)-P1(0)));if(m===s[0][0].length-1&&i===0){F1()}});if(n1){$1.attr('clip-path',function(d,k){if(k===k1[j][i]||k===j1[j][i]){var G='roundCorner-clip'+'-'+k+i+j+w1;var x=parseFloat(this.x.baseVal.value);var m=v1.append('clipPath').attr('id',G).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',this.height.baseVal.value).attr('width',this.width.baseVal.value+r).attr('x',function(){return x-((k===k1[j][i])?0:r)}).transition().duration(t1/2).attr('x',function(){if(k===k1[j][i]){return 0}else{return 0-r}}).attr('width',function(){return Math.abs(P1(d.val)-P1(0))+r}).attr('height',i1).attr('y',0);return'url(#'+G+')'}})}}else if(B1){e.attr('x',function(d,k){return Y1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e});var _1=e.transition();_1.duration(t1/2).attr('width',function(d){return Math.abs(P1(d.val)-P1(0))}).attr('x',0).each('end',function(d,m){this.setAttribute('width',Math.abs(P1(d.val)-P1(0)));if(m===s[0][0].length-1&&i===0){F1()}});if(n1){_1.attr('clip-path',function(d,k){if(k===k1[j][i]||k===j1[j][i]){var G='roundCorner-clip'+'-'+k+i+j+w1;var x=parseFloat(this.x.baseVal.value);var m=v1.append('clipPath').attr('id',G).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',i1).attr('width',this.width.baseVal.value+r).attr('x',function(){return x-((k===k1[j][i])?0:r)}).transition().duration(t1/2).attr('x',function(){if(k===k1[j][i]){return 0}else{return 0-r}}).attr('width',function(){return Math.abs(P1(d.val)-P1(0))+r});return'url(#'+G+')'}})}}else if(n1){e.attr('clip-path',function(d,k){if(k===k1[j][i]||k===j1[j][i]){var G='roundCorner-clip'+'-'+k+i+j+w1;var m=v1.append('clipPath').attr('id',G).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',i1).attr('width',function(){return Math.abs(P1(d.val)-P1(0))+r});if(k===k1[j][i]){m.attr('x',0)}else{m.attr('x',0-r)}return'url(#'+G+')'}})}}else{e.attr('y',0).attr('x',0).attr('width',function(d,k){var E=Math.abs(P1(d.val)-P1(0));return E}).attr('height',i1);if(n1){e.attr('clip-path',function(d,k){if(k===k1[j][i]||k===j1[j][i]){var G='roundCorner-clip'+'-'+k+i+j+w1;var m=v1.append('clipPath').attr('id',G).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',i1).attr('width',function(){return Math.abs(P1(d.val)-P1(0))+r});if(k===k1[j][i]){m.attr('x',0)}else{m.attr('x',0-r)}return'url(#'+G+')'}})}}});N1.exit().remove()});L1.exit().remove();if(!m1){q1=true}z1=false,B1=false,A1=false});if(!l1){F1()}return D1}D1.hoverOnPoint=function(d){var j=d.x,k=d.y;var i=-1;while(i<s.length){if(Math.abs(k-Y.rangeBand()*i-0.5*Y.rangeBand())<=0.5*Y.rangeBand()){break}i++}if(i>(s.length-1)||i<0){a1.attr('visibility','hidden');return}a1.attr('y',Y.rangeBand()*i+i1/4).attr('visibility','visible');if(i!==d1){if(s1){d1=i;var r=D[0][0].getTransformToElement(D[0][0].ownerSVGElement);var _=r.f;var I1=1,J1=1,m=0;var K1=h.generateTooltipData(n,q,g1-1-i,I,U);K1.point={x:d3.event.layerX,y:Y.rangeBand()*i+0.5*Y.rangeBand()+_};K1.plotArea={x:r.e,y:r.f,width:E,height:F};K1.valueAxis0Count=s[0][0].length;K1.valueAxis1Count=T.isExist(s[0][1])?s[0][1].length:0;W.showTooltip(t.formatTooltipData(K1))}}};D1.blurOut=function(){a1.attr('visibility','hidden');d1=null;if(s1){W.hideTooltip()}};D1.parent=function(){return D};D1.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};D1.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};D1.clear=function(d){if(d==null){D.selectAll('.datapoint').attr('fill-opacity',1)}else{D.selectAll('.datapoint').attr('fill-opacity',0.2)}};function E1(){for(var i=0,d=s.length;i<d;i++){for(var j=0,r=s[i],m=q[i];j<r.length;j++){var _=0,I1=0,k;for(k=0;k<r[j].length;k++){_+=Math.abs(r[j][k].val);if(!r[j][k].isNaN){I1++}}if(_===0){for(k=0;k<r[j].length;k++){r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=r[j][k].isNaN?0:1/I1;if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':1/I1}}}else{for(k=0;k<r[j].length;k++){if(r[j][k].val<0){r[j][k].isNegative=true}r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=Math.abs(r[j][k].val/_);if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':m[j][k].val/_}}}}}}function F1(){W.initialized();r1=true}D1.afterUIComponentAppear=function(){W.initialized()};D1.width=function(d){if(!arguments.length){return E}z1=(E===d)&&!z1?false:true;E=d;if(T.isExist(E)&&T.isExist(F)&&T.isExist(s)){G1()}return D1};D1.height=function(d){if(!arguments.length){return F}z1=(F===d)&&!z1?false:true;F=d;if(T.isExist(E)&&T.isExist(F)&&T.isExist(s)){G1()}return D1};D1.data=function(d){if(!arguments.length){return n}n=d;var k=M(n);var _=k["MG1"];var m=k["MG2"];P=k.MG1Number;Q=k.MG2Number||0;L=k.MNDOnColor&&k.MNDInner;q=[];var i;if(T.isExist(k.color)){p1=true;H=true;var r=[],I1=[];var J1=[],K1=[];for(i=0;i<_.length;i++){r=[];I1=[];for(var j=0;j<_[i].length;j++){if(k.color[j]===0){r.push(_[i][j]);I1.push({val:null,hasMNDonCategoryAxis:true})}else{r.push({val:null,hasMNDonCategoryAxis:true});I1.push(_[i][j])}}J1.push(r);K1.push(I1)}_=J1;m=K1}else{p1=false;if(T.isExist(m)){if(!A1&&(p.length!==m.length||p[0].length!==m[0].length)){A1=true}H=true}else{H=false}}if(o.length!==_.length||o[0].length!==_[0].length){A1=true}var L1=H1(_,m,k.color);if(!A1){B1=true}s=L1;o=_;p=m;if(p1){for(i=0;i<s.length;i++){var M1=s[i];if(M1[0][0].hasMNDonCategoryAxis){q.push(M1[1])}else{q.push(M1[0])}}}else{q=O.extend(true,{},s)}if(T.isExist(E)&&T.isExist(F)){G1()}C1();return D1};D1.properties=function(d){if(!arguments.length){return V}b.extend(true,V,d);C1();return D1};var G1=function(){var d=[];for(var i=0;i<s.length;i++){d.push(i)}Y.domain(d).rangeBands([F,0]);if(x1==='percentage'){Z.domain([0,1]).range([0,E]);$.domain([0,1]).range([0,E])}else{if(v===0&&u===0){Z.domain([0,1]).range([0,E])}else{Z.domain([v,u]).range([0,E])}if(T.isExist(p)||H){if(A===0&&B===0){$.domain(Z.domain()).range(Z.range())}else{$.domain([B,A]).range([0,E]);if(v===0&&u===0){Z.domain($.domain()).range($.range())}}}else{if(!w){S.perfect(Z)}}}if(!w&&!z){S.perfectDual(Z,$)}else if(!w&&z){S.perfect(Z)}else if(w&&!z){S.perfect($)}if(!T.isExist(p)){$.range([0,0])}};D1.colorPalette=function(d){if(!arguments.length){return I}I=d;return D1};D1.categoryScale=function(d){if(!arguments.length){return Y}Y=d;return D1};D1.primaryDataRange=function(r){if(!arguments.length){var m,d;if(x1==='percentage'){m=1;d=0}else{d=v<0?v:0;m=u}return{min:d,max:m}}if(r!==null){u=r.max;v=r.min;if(r.from==='axis'){w=true}if(T.isExist(E)&&T.isExist(F)){G1()}}return D1};D1.secondDataRange=function(r){if(!arguments.length){var m,d;if(x1==='percentage'){m=1;d=0}else{d=B<0?B:0;m=A}return{min:d,max:m}}if(r!==null){A=r.max;B=r.min;if(r.from==='axis'){z=true}if(T.isExist(E)&&T.isExist(F)){G1()}}return D1};D1.primaryScale=function(d){if(!arguments.length){return Z}Z=d;return D1};D1.secondScale=function(d){if(!arguments.length){return $}$=d;return D1};D1.primaryAxisColor=function(){if(H&&!p1){return I[0]}else{return undefined}};D1.secondAxisColor=function(){if(T.isExist(s[0][1])&&!p1){return K[s[0][1].length-1]}else{return undefined}};D1.getPreferredSize=function(){};D1.x=function(_){if(!arguments.length){return x}x=_;return this};D1.y=function(_){if(!arguments.length){return y}y=_;return this};D1.dispatch=function(_){if(!arguments.length){return W}W=_;return this};D1.dataLabel=function(_){};D1.primaryAxisTitle=function(_){if(!arguments.length){var d=n.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join('/')}return this};D1.secondAxisTitle=function(_){if(!arguments.length){var d=n.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join('/')}return this};var H1=function(d,k,m){var r=-1,_=-1;j1=[[],[]],k1=[[],[]];u=v=0;A=B=0;var I1=[];g1=d[0].length;var J1,K1;for(var j=0;j<g1;j++){var L1=[],M1=[];var N1=[];J1=0,K1=0;r=-1,_=-1;for(var i=0;i<d.length;i++){if(N.isNoValue(d[i][j].val)){d[i][j].val=null;d[i][j].isNaN=true}else{if(d[i][j].val>=0){J1+=d[i][j].val;r=i}else{K1+=d[i][j].val;_=i}}L1.push(d[i][j])}j1[0].push(r);k1[0].push(_);if(u<J1){u=J1}if(v>K1){v=K1}N1.push(L1);if(T.isExist(k)){J1=0,K1=0;r=-1,_=-1;for(i=0;i<k.length;i++){r=0,_=-1;if(N.isNoValue(k[i][j].val)){k[i][j].val=null;k[i][j].isNaN=true}else{if(k[i][j].val>=0){J1+=k[i][j].val;r=i}else{K1+=k[i][j].val;_=i}}M1.push(k[i][j])}j1[1].push(r);k1[1].push(_);if(A<J1){A=J1}if(B>K1){B=K1}N1.push(M1)}I1.push(N1)}return I1};V=f.props(null);return D1};return e});sap.riv.module({qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.stackedbar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.stackedbar','name':'stacked bar',base:"sap.viz.modules.bar",'properties':{'mode':{'name':'mode','supportedValueType':'List','supportedValues':['comparison','percentage'],'defaultValue':'comparison','description':'Set dispaly mode of stacked bar.','isExported':true}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_dual_stacked_bar',name:'IDS_MULTIDUALSTACKEDBARCHART',base:'viz/multi_dual_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualPercentageStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualStackedBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_100_dual_stacked_bar',name:'IDS_MULTIDUALPERCENTAGESTACKEDBARCHART',base:'viz/multi_dual_stacked_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true}}},xAxis2:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{'mode':'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,type:'value',showZero:true}}}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{formatString:[["0.00%"],["0.00%"]]}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiVerticalBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_stacked_column',name:'IDS_MULTISTACKEDVERTICALBARCHART',base:'viz/multi_column',modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiPercentageStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiStackedVerticalBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_100_stacked_column',name:'IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART',base:'viz/multi_stacked_column',feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{yAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{'mode':'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,showZero:true}}}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{formatString:[["0.00%"],["0.00%"]]}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_stacked_bar',name:'IDS_MULTISTACKEDBARCHART',base:'viz/multi_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:null},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiPercentageStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiStackedBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_100_stacked_bar',name:'IDS_MULTIPERCENTAGESTACKEDBARCHART',base:'viz/multi_stacked_bar',feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{'mode':'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,type:'value',showZero:true}}}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{formatString:[["0.00%"],["0.00%"]]}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.feeds.Radar',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var a={id:"regionColor",name:"Region Color",type:c.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:2},s={id:"regionShape",name:"Region Shape",type:c.Type.Dimension,min:0,max:2,aaIndex:3,acceptMND:0},b={id:"radarAxes",name:"Radar Axes",type:c.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:1},v={id:"radarAxesValues",name:"Radar Axes Values",type:c.Type.Measure,min:1,max:c.Constraints.INF,mgIndex:1};var f={id:"radar",feeds:[a,s,b,v]};M.register(f)});sap.riv.module({qname:'sap.viz.util.ShapeSeriesGenerator',version:'4.0.0'},[],function Setup(){var S={sapShapes:function(){return d3.scale.ordinal().range(['circle','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'])}};return S});sap.riv.module({qname:'sap.viz.modules.radar',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.axis',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.ShapeSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(c,t,e,f,g,h,s,k,l,p,m,o,O,B){return function(q,u){var v=0,z=0,A={},C={},D,E,F={},G,H,I=d3.scale.linear(),J,K={},L=[],M=[],P,Q,R=null,S,T={},U='multiple',V,W=u.effectManager;Q=f("selectData","deselectData","showTooltip","hideTooltip","initialized",'startToInit');G={clazz:"spiderweb",node:null,color:h.sap32(),shape:s.sapShapes(),radiusLength:0,radius:d3.scale.linear(),anchor:{x:0,y:0},radians:[],series:[],categories:[],caption:{node:null,name:"category-axis-title",width:0,height:0},labels:{},locked:false,};H={clazz:"valueaxis",anchor:{x:0,y:0},ref:g(l.get("sap.viz.modules.axis"),u),node:null,width:0,height:0};C=q.props(null);css={axisTitle:"viz-axis-title"},F={spacing:{hgap:5,vgap:5},alignment:{horizontal:"center"},polaraxis:{clazz:"polar_axis",color:"#6c6c6c",weight:"1px",labels:{css:{key:"viz-polar-axis-label",def:null}},title:{css:{key:"viz-polar-axis-title",def:null}}},polargrid:{clazz:"polar_grid",color:"#d8d8d8",weight:"1px"},line:{clazz:"dataline"},valueaxis:{clazz:"value_axis",title:{css:{key:"viz-axis-title",def:null}}},marker:{clazz:"datapoint",css:{key:"viz-radar-marker",def:null},stroke:"transparent"},labels:{color:"#333333",fontSize:"14px",fontWeight:"normal",fontFamily:"Arial"},tooltip:{radialOffset:1*10}};S={dataline:{weight:[1,7]},marker:{size:[4,32]}};J={options:$.extend(true,{},C),styles:$.extend(true,{},F),wording:{dash:" - ",dot:".",slash:" / ",ellipsis:"...",series:"s",data:"d",measureIndex:" mi",and:" & "}};E=function(){var a=G.series,b=arguments[0],d=arguments[1];G.max=typeof d!=="undefined"?d:d3.max(d3.merge(d3.merge(a)),function(_){return _.val});G.min=typeof b!=="undefined"?b:d3.min(d3.merge(d3.merge(a)),function(_){return _.val});if(G.min===G.max){if(G.min===0)G.max=100;if(G.min<0)G.max=0;if(G.min>0)G.min=0}if(!G.min||G.min==="NaN"){G.min=0}if(!G.max||G.max==="NaN"){G.max=0}};P=function(a,b){return e.fastMeasure(a,b["font-size"]||b.fontSize,b["font-weight"]||b.fontWeight,b["font-family"]||b.fontFamily)};V=function(){var a=arguments[0],b=a.valueaxis,d=a.lblW,i=a.lblH,j=a.caption,n={},w,r,x,N,_=F.spacing.hgap,a1=F.spacing.vgap,b1=-1,c1=[];(function layout(){b1++;if(i-1/3*z>0)i=0;if(j.height-1/3*z>0)j.height=0;if(j.width-2/3*v>0)j.width=0;if(v-z>=0){r=(z-2*(i+2*a1)-(j.height!==0?j.height+2*a1:0))/2;w=2*r+2*(d+2*_)+b;if(w>v){x=w-v;r=(z-x-2*(i+2*a1)-(j.height!==0?j.height+2*a1:0))/2}}else{r=(v-2*(d+2*_)-b)/2}c1[b1]=r;if(typeof c1[b1-2]!=='undefined'&&c1[b1-2]<=0){return 0}if(d>r||r<=0){d=0,i=0;j.width=0,j.height=0;r=layout();if(b>r){b=0;r=layout();if(v>=z){if(r<z/2)r=z/2,a1=0}else{if(r<v/2)r=v/2,_=0}}}return r})();N={width:b+2*r+4*_+2*d,height:2*(i+r)+4*a1+(j.height!==0?j.height+2*a1:0)};G.radiusLength=r;H.width=b;H.anchor.x=0;H.anchor.y=i+2*a1;G.caption.width=j.width;G.caption.height=j.height;n.x=b+d+r+_*2;n.y=i+r+a1*2;j.x=n.x;j.y=n.y+r+i+2*a1+j.height/2;var d1=0,e1=0;if(b){H.ref.gridlineLength(n.x-b);if(v>z){d1=v/2-N.width/2;H.anchor.x+=d1;n.x+=d1;j.x+=d1}}else{if(v>z){d1=v/2-n.x;n.x+=d1;j.x+=d1}}G.caption.node.attr("x",j.x);G.caption.node.attr("y",j.y);H.node.attr("transform","translate("+H.anchor.x+","+H.anchor.y+")");G.node.attr("transform","translate("+n.x+","+n.y+")");G.pole=n;G.labels.width=d;G.labels.height=i};D=function(n,N,a){var d=[],b=[],i;if(!n.length){return d3.scale.linear().domain([0,a]).range([0,2*Math.PI])}for(i=0;i<a;i++){d.push(i);b.push(i/a*2*Math.PI)}for(i=n.length-1;i>=0;i--){b.splice(n[i].order,1)}return d3.scale.ordinal().domain(d).range(b)};function X(w){B.drawBound(w,v,z);Q.startToInit();w.each(function(N){var a1=d3.select(this),b1=J.wording;H.node=null;G.node=null;G.radiusLength=0;R=a1;a1.select(b1.dot.concat(H.clazz)).remove();a1.select(b1.dot.concat(G.clazz)).remove();a1.select(b1.dot+G.caption.name).remove();H.node=a1.append("g").attr("class",H.clazz);G.node=a1.append("g").attr("class",G.clazz+' datashapesgroup');G.caption.node=a1.append("text").attr("class",G.caption.name);F.valueaxis.title.css.def=u.styleManager.query(F.valueaxis.title.css.key);F.polaraxis.labels.css.def=u.styleManager.query(F.polaraxis.labels.css.key);var c1,d1,e1,r,i,j,f1={},g1=G.categories,h1=G.series,i1=F.spacing.hgap,j1=F.spacing.vgap,k1=G.radians;var ls=[];for(i=0;i<g1.length;i++){ls.push(P(g1[i],F.polaraxis.labels.css.def))}d1=d3.max(ls,function(_){return _.width});e1=d3.max(ls,function(_){return _.height});I.domain([G.min,G.max]).range([200,0]);k.perfect(I);H.ref.scale(I).properties({label:{visible:true,formatString:C.valueAxis.label.formatString},title:{visible:C.valueAxis.title.visible,text:C.valueAxis.title.text},type:"value",position:"left",gridline:{visible:true,showFirstLine:true,showLastLine:true,type:"dotted"}});H.width=C.valueAxis.visible?H.ref.getPreferredSize().width:0;if(H.width>0.5*v)H.width=0;V({valueaxis:H.width,lblW:d1,lblH:e1,caption:{width:P(C.polarAxis.title.visible?C.polarAxis.title.text:0,F.polaraxis.labels.css.def).width,height:P(C.polarAxis.title.visible?C.polarAxis.title.text:0,F.polaraxis.labels.css.def).height,}});if(C.polarAxis.title.visible&&G.caption.width&&G.caption.height){G.caption.node.text(C.polarAxis.title.text).attr("text-anchor","middle").attr("alignment-baseline","middle").style("font-family",F.valueaxis.title.css.def["font-family"]).style("font-size",F.valueaxis.title.css.def["font-size"]).style("font-weight",F.valueaxis.title.css.def["font-weight"]).style("fill",F.valueaxis.title.css.def["fill"])}I.range([G.radiusLength,0]);k.perfect(I);H.ref.scale(I);if(C.valueAxis.visible&&H.width){H.node.call(H.ref)}var m1=G.node.append("g").attr("class","polaraxes-group").selectAll(F.polaraxis.clazz).data(g1);m1.enter().append("g").attr("transform",function(d,i){var a=i/g1.length*360-90;if(a>-180&&a<180){k1.push({axisIdx:i,radian:-1*a*Math.PI/180})}else{k1.push({axisIdx:i,radian:(360-a)*Math.PI/180})}return"rotate("+a+") translate("+G.radiusLength+")"});m1.append("svg:line").attr("x2",-1*G.radiusLength).style("stroke",W.register({drawingEffect:"normal",fillColor:F.polaraxis.color})).style("stroke-width",F.polaraxis.weight).style("fill","transparent");k1.sort(function(a,b){return a.radian-b.radian});var n1;if(G.labels.width&&G.labels.height){m1.append("g").attr("class","categoryLabel").append("text").text(function(d,i){return d}).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("transform",function(d,i){n1=i/g1.length*360-90;if(n1%90===0){if(n1===-90||n1===270){return"rotate(90) translate(0,"+(-1*(P(d,F.polaraxis.labels.css.def).height/2+j1))+")"}else if(n1===0){return"translate("+(P(d,F.polaraxis.labels.css.def).width/2+i1)+")"}else if(n1===180){return"rotate(180) translate("+(-1*(P(d,F.polaraxis.labels.css.def).width/2+i1))+")"}else{return"rotate(-90) translate(0,"+(P(d,F.polaraxis.labels.css.def).height/2+j1)+")"}}if((n1>-90&&n1<0)||(n1>0&&n1<90)){return"rotate("+(-1*n1)+") translate("+(P(d,F.polaraxis.labels.css.def).width/2+i1)+",0)"}return"rotate("+(-1*n1)+") translate("+(-1*(P(d,F.polaraxis.labels.css.def).width/2+i1))+",0)"}).style("font-family",F.polaraxis.labels.css.def["font-family"]).style("font-size",F.polaraxis.labels.css.def["font-size"]).style("fill",W.register({drawingEffect:"normal",fillColor:F.polaraxis.labels.css.def["fill"]}))}if(!G.min&&!G.max){Q.initialized();return}I.domain([G.max,G.min]);k.perfect(I);c1=G.categories.length;n1=D([],c1,c1);var o1=d3.svg.line.radial().interpolate("linear").radius(I).angle(function(d,i){return n1(i)});var p1=I.ticks(I.tickNum),q1=[],r1=[];for(i=0;i<p1.length;i++){r1=[];for(j=0;j<g1.length;j++){r1.push(p1[i])}q1.push(r1)}if(C.polarGrid.visible){G.node.append("g").attr("class","polargrid-group").selectAll("."+F.polargrid.clazz).data(q1).enter().append("path").attr("class",F.polargrid.childClazz).attr("d",function(d){return o1(d)+"Z"}).style("fill","none").style("stroke",W.register({drawingEffect:"normal",fillColor:F.polargrid.color})).style("stroke-width",F.polargrid.weight)}G.node.append("g").attr("class","dataline-group").selectAll("."+F.line.clazz).data(h1).enter().append("path").attr("class",function(d,i){return b1.series.concat(i+" ").concat(F.line.clazz)}).attr("d",function(d,i){if(!d.length)return;var a=[];n1=D([],c1,c1);for(var n=0;n<d.length;n++)a.push(d[n].val);if(a.length!==G.categories.length){n1=D(X.vacants[i],a.length,c1)}return o1(a)+"Z"}).style("fill",function(d,i){if(!d.length)return;if(C.surface.fill.visible){return W.register({drawingEffect:"normal",fillColor:d[0].color})}}).style("fill-opacity",function(d,i){if(C.surface.fill.visible)return C.surface.fill.transparency;return 0}).style("stroke",function(d,i){if(!d.length)return;return W.register({drawingEffect:"normal",fillColor:d[0].color})}).style("stroke-width",C.line.width>S.dataline.weight[1]||C.line.width<S.dataline.weight[0]?J.options.line.width:C.line.width);var s1=G.node.append("g").attr("class","marker-container").selectAll("."+F.marker.clazz).data(h1).enter().append("g");s1.attr("class","marker-group").each(function(N,a){var n=X.vacants[a],k1=[];$.each(G.categories,function(i,d){k1.push(i/c1*2*Math.PI-0.5*Math.PI)});for(var i=n.length-1;i>=0;i--){k1.splice(n[i].order,1)}d3.select(this).append("g").attr("class","marker-series").selectAll("."+F.marker.clazz).data(N).enter().append('g').attr('class','datashape').attr("transform",function(d,i){var x=I(d.val)*Math.cos(k1[i]);y=I(d.val)*Math.sin(k1[i]);return"translate("+x+", "+y+") rotate(0)"}).append("path").attr("class",function(d,i){return(b1.series+a+" "+b1.data+d.order+" "+F.marker.clazz+b1.measureIndex+d.ctx.path.mi)}).attr("d",function(d,i){return p.createMarkerData({type:d.shape,rx:F.marker.size/2,ry:F.marker.size/2,borderWidth:2})}).style("fill",function(d){var b={drawingEffect:C.drawingEffect,graphType:d.shape,fillColor:d.color,direction:'vertical',};return W.register(b)})});var t1=G.node.append("g").attr("class","phantom-marker-group").selectAll(".phantom-marker-series").data(X.vacants).enter().append("g");t1.attr("class","phantom-marker-series").each(function(N,a){d3.select(this).selectAll(".phantom-marker").data(N).enter().append("path").attr("class",function(d,i){return(b1.series+a+" "+b1.data+d.order+" "+b1.measureIndex+d.ctx.path.mi)}).style("fill","none")});Q.initialized()})}X.dataLabel=function(_){};X.data=function(_){if(!arguments.length)return A;A=_,G.series=[],G.categories=[],G.radians=[],M=[],L=[],X.vacants=[];if(!X.caliberated)return X;var a=A.getAnalysisAxisDataByIdx(0).values,b=A.getMeasureValuesGroupDataByIdx(0).values,d=A.getAnalysisAxisDataByIdx(1),r=A.getAnalysisAxisDataByIdx(2),w=[],N,a1,b1,c1=[],d1={aa2:{fed:d!==null&&d.values.length?true:false,axesFed:false,hasMND:false},aa3:{fed:r!==null&&r.values.length?true:false,axesFed:false,hasMND:false}},i,j,x;G.mndized=a[0].type&&a[0].type.toLowerCase()==="mnd"?true:false;for(i=0;i<a.length;i++){b1=[];for(j=0;j<a[i].rows.length;j++){b1.push(a[i].rows[j].val)}c1.push(b1)}N=c1.length,a1=c1[0].length;if(N===1){for(i=0;i<a1;i++){G.categories.push(c1[0][i]===''||c1[0][i]===null?m.get('IDS_ISNOVALUE'):c1[0][i])}}else{var e1=[];for(i=0;i<a1;i++){for(j=0;j<N;j++)e1.push(c1[j][i]);G.categories.push(e1.join(J.wording.slash));e1=[]}}a1=b[0].rows[0].length;if(G.mndized){if(!d1.aa2.fed&&!d1.aa3.fed){L.push(G.color(0));M.push(G.shape(0))}if(d1.aa2.fed){for(i=0;i<d.values[0].rows.length;i++){L.push(G.color(i))}if(!d1.aa3.fed)M.push(G.shape(0))}if(d1.aa3.fed){for(i=0;i<r.values[0].rows.length;i++){M.push(G.shape(i))}if(!d1.aa2.fed)L.push(G.color(0))}for(i=0;i<b.length;i++){for(j=0;j<b[i].rows.length;j++){for(x=0;x<a1;x++){b[i].rows[j][x].color=L[x]||G.color(0);if(d1.aa2.fed){b[i].rows[j][x].shape=M[j]||G.shape(0)}else{b[i].rows[j][x].shape=M[x]||G.shape(0)}}}}var f1,g1=[],h1=[];for(i=0;i<b[0].rows.length;i++){f1=[];for(j=0;j<b.length;j++){f1.push(b[j].rows[i])}g1.push(f1)}for(i=0;i<g1.length;i++){for(x=0;x<a1;x++){for(j=0;j<g1[i].length;j++,m1=[]){h1.push(g1[i][j][x])}w.push(h1);h1=[]}}$.each(w,function(o1,h1){var p1=h1,m1=[];for(var i=0;i<p1.length;i++){p1[i].order=i;if(p1[i].val===null)m1.push(p1[i])}for(i=p1.length-1;i>=0;i--){if(p1[i].val===null)p1.splice(i,1)}X.vacants.push(m1)});if(C.polarAxis.title.text==="Categories"){C.polarAxis.title.text=m.get('IDS_DEFAULTMND')}}else{if(d1.aa2.fed){for(i=0;i<d.values.length;i++){if(d.values[i].type&&d.values[i].type.toLowerCase()==="mnd"){d1.aa2.hasMND=true}}if(d1.aa2.hasMND){if(d.values.length>=2)d1.aa2.axesFed=true;else d1.aa2.axesFed=false}else{d1.aa2.axesFed=true}}if(d1.aa3.fed){for(i=0;i<r.values.length;i++){if(r.values[i].type&&r.values[i].type.toLowerCase()==="mnd"){d1.aa3.hasMND=true}}if(d1.aa3.hasMND){if(r.values.length>=2)d1.aa3.axesFed=true;else d1.aa3.axesFed=false}else{d1.aa3.axesFed=true}}var i1=0,j1=0,x,k1=d1.aa2.hasMND&&!d1.aa2.axesFed,l1=d1.aa3.hasMND&&!d1.aa3.axesFed,m1=[];for(i=0;i<b.length;i++){if(k1)L.push(G.color(i));if(l1)M.push(G.shape(i));for(j=0;j<b[i].rows.length;j++,m1=[]){for(x=0;x<b[i].rows[j].length;x++){if(b[i].rows[j][x].val===null){m1.push(b[i].rows[j][x])}b[i].rows[j][x].order=x}w.push(b[i].rows[j]);X.vacants.push(m1);if(d1.aa2.fed){if(k1){for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=G.color(i)}}else if(d1.aa2.hasMND&&d1.aa2.axesFed){i1++;L.push(G.color(i1));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=G.color(i1)}}else{L.push(G.color(j));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=G.color(j)}}}else{L.push(G.color(0));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=G.color(0)}}if(d1.aa3.fed){if(l1){for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=G.shape(i)}}else if(d1.aa3.hasMND&&d1.aa3.axesFed){j1++;M.push(G.shape(j1));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=G.shape(j1)}}else{if(d1.aa2.fed){if(d1.aa2.hasMND){M.push(G.shape(j));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=G.shape(j)}}else{for(x=0;x<b[i].rows[j].length;x++){M.push(G.shape(x));b[i].rows[j][x].shape=G.shape(x)}}}}}else{M.push(G.shape(0));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=G.shape(0)}}}}for(i=0;i<w.length;i++){for(j=w[i].length-1;j>=0;j--){for(var n=0;n<X.vacants[i].length;n++){if(X.vacants[i][n].order===j)w[i].splice(j,1)}}}if(C.polarAxis.title.text==="Categories"){C.polarAxis.title.text=Y(a)}}if(C.valueAxis.title.text==="Value"){var n1=[];for(i=0;i<b.length;i++){n1.push(b[i].col===''||b[i].col===null?m.get('IDS_ISNOVALUE'):b[i].col)}C.valueAxis.title.text=n1.join(J.wording.and)}G.series=w;G.feedings=d1;if(!G.locked)E();return X};function Y(a){var b='';for(var i=0;i<a.length;i++){b=b.concat(a[i].col.val===null?m.get('IDS_ISNOVALUE'):a[i].col.val+J.wording.slash)}return b.lastIndexOf(J.wording.slash)>0?b.substr(0,b.lastIndexOf(J.wording.slash)):b}X.primaryDataRange=function(_){if(!arguments.length)return{min:G.min,max:G.max};G.min=_.min;G.max=_.max;E(_.min,_.max);G.locked=true;return X};X.colorPalette=function(_){if(!arguments.length)return L;L=_;return X};X.shapes=function(_){if(!arguments.length)return M;M=_;return X};X.dispatch=function(_){if(!arguments.length)return Q;Q=_;return X};X.properties=function(_){if(!arguments.length)return C;O.extend(true,C,_);if(C.colorPalette.length)G.color.range(C.colorPalette);if(C.shapePalette.length)G.shape.range(C.shapePalette);F.marker.size=C.marker.size;if(F.marker.size>S.marker.size[1]||F.marker.size<S.marker.size[0])F.marker.size=6;F.polargrid.color=C.polarGrid.color;X.caliberated=true;X.data(A);return X};X.afterUIComponentAppear=function(){Q.initialized()};X.width=function(_){if(!arguments.length)return v;var a=v===_?false:true;v=_;if(t.isEmptyObject(A)&&z)X.data(A);if(a&&!G.locked)E();return X};X.height=function(_){if(!arguments.length)return z;var a=z===_?false:true;z=_;if(t.isEmptyObject(A)&&v)X.data(A);if(a&&!G.locked)E();return X};X.size=function(_){if(!arguments.length)return{width:v,height:z};v=_;z=_;if(t.isEmptyObject(A)&&v&&z)X.data(A);if(v&&z&&G.series.length)E();return X};X.parent=function(_){if(!arguments.length)return R;R=_;return X};X.hoverOnPoint=function(a){var b=G.pole,j,r,n=J.wording,w=G.radians,x={x:a.x-b.x,y:b.y-a.y};r=Math.sqrt(Math.pow(x.x,2)+Math.pow(x.y,2));if(r>G.radiusLength){if(typeof X.last!=="undefined"&&(t.isEmptyObject(T))){K.straight(n.dot+n.data+X.last,true)}if(C.tooltip.enabled)G.prompt();return}j=Math.atan2(x.y,x.x);var N=d3.bisector(function(d){return d.radian}).right,_=N(w,j),a1,b1,c1,d1;if(_===0){b1=w.length-1,c1=0;if(w[b1].radian===Math.PI){a1=-1*(Math.PI+Math.abs(w[c1].radian))/2;d1=j>a1?d1=w[c1].axisIdx:d1=w[b1].axisIdx}else{d1=w[0].axisIdx}}else if(_===w.length){d1=w[w.length-1].axisIdx}else{b1=_-1,c1=_;a1=(w[b1].radian+w[c1].radian)/2;d1=j>a1?d1=w[c1].axisIdx:d1=w[b1].axisIdx}if(typeof X.last!=="undefined"&&X.last!==d1){K.straight(n.dot+n.data+X.last,true)}K.focus(n.dot+n.data+d1,true);if(!t.isEmptyObject(T)){K.dim(n.dot+n.data+d1,true);for(var e1 in T){for(var i=0;i<T[e1].length;i++)K.highlight(T[e1])}}if(C.tooltip.enabled)G.prompt(d1);X.last=d1};X.clear=function(){if(!arguments[0]){K.straight().bright();T={}}else{K.dim()}};X.highlight=function(a){if(!G.min&&!G.max)return;var b=a instanceof Array?a:[a],d=/[sS][0-9]+/,r;U=typeof arguments[1]==='boolean'?'multiple':(typeof arguments[1]==='string'?arguments[1].toLowerCase():typeof arguments[2]==='string'?arguments[2].toLowerCase():'multiple');K.highlight(b);for(var i=0,w=false;i<b.length;i++,w=false){r=b[i].className.baseVal.match(d)[0];if(T[r]){for(var j=0;j<T[r].length;j++){if(T[r][j]===b[i])w=true}if(!w)T[r].push(b[i])}else{T[r]=[];T[r].push(b[i])}}if(U==='single')return;var x,N;for(var n in T){if(T.hasOwnProperty(n)){N=n.substr(1);x=G.series[N].length;Z(n,T[n],x)}}};function Z(a,d,b){if(d.length===b){K.highlight2(J.wording.dot+a,true)}else{K.highlight(d)}}X.unhighlight=function(a){var b=a instanceof Array?a:[a];K.straight(b).dim(b);if(U==='single'){T=[];return}$.each(b,function(d,j){var n=j.className.baseVal.match(/[sS][0-9]+/)[0];for(var r in T){for(var i=0;i<T[r].length;i++){if(T[r][i]===a){T[r].splice(i,1);break}}}K.straight2(J.wording.dot+n).dim(J.wording.dot+n)})};X.blurOut=function(){Q.hideTooltip()};G.prompt=function(){if(typeof arguments[0]==="undefined"){Q.hideTooltip();return}var a,b={},n,w=arguments[0],N=J.wording,_={},a1=0,r=G.radiusLength-F.tooltip.radialOffset,b1=R[0][0].getTransformToElement(R[0][0].ownerSVGElement),i;for(i=0;i<G.radians.length;i++){if(G.radians[i].axisIdx===w){a1=G.radians[i].radian;break}}_.x=r*Math.cos(a1);_.y=r*Math.sin(a1);orient=a1<=0.5*Math.PI&&a1>-0.5*Math.PI?"left":"right";a={body:[],plotArea:{x:b1.e,y:b1.f,width:v,height:z},point:{x:_.x+G.pole.x+b1.e,y:_.y<0?Math.abs(_.y)+G.pole.y+b1.f:G.pole.y-_.y+b1.f,orientation:orient,angle:a1,range:{x:a1===0.5*Math.PI||a1===-0.5*Math.PI?0:Math.abs(_.x),y:a1===0||a1===Math.PI||a1===-1*Math.PI?0:Math.abs(_.y)}},footer:[]};var c1=A.getAnalysisAxisDataByIdx(0).values,d1=G.feedings.aa2.fed?A.getAnalysisAxisDataByIdx(1).values:null,e1=G.feedings.aa3.fed?A.getAnalysisAxisDataByIdx(2).values:null,mg=A.getMeasureValuesGroupDataByIdx(0).values;n=G.node.selectAll("."+N.data+w);var g1,h1,i1,j1,i,j,k1;if(G.mndized){b={name:G.categories[w]===''||G.categories[w]===null?m.get('IDS_ISNOVALUE'):G.categories[w],val:[]};n.each(function(d){var f1={};f1.color=d.color;f1.shape=d.shape;f1.value=d.val!==null?d.val:m.get('IDS_ISNOVALUE');if(!G.feedings.aa2.fed&&!G.feedings.aa3.fed){f1.label=null}if(G.feedings.aa2.fed){j1=C.multichart?d.ctx.path.dii_a2:d.ctx.path.dii_a1;for(i=0,k1=[];i<d1.length;i++){k1.push(d1[i].rows[j1])}g1=k1;if(!G.feedings.aa3.fed)f1.label=g1}if(G.feedings.aa3.fed){j1=G.feedings.aa2.fed?d.ctx.path.dii_a2:d.ctx.path.dii_a1;for(i=0,k1=[];i<e1.length;i++){k1.push(e1[i].rows[j1])}if(G.feedings.aa2.fed){h1=k1;f1.label=[];f1.label=f1.label.concat(g1);f1.label=f1.label.concat(h1)}else{g1=k1;f1.label=g1}}b.val.push(f1)});a.body.push(b)}else{if(!G.feedings.aa2.axesFed&&!G.feedings.aa3.axesFed){n.each(function(d){var f1={},b={name:mg[d.ctx.path.mi].col,val:[]};f1.color=d.color;f1.shape=d.shape;f1.value=d.val!==null?d.val:m.get('IDS_ISNOVALUE');f1.label=null;b.val.push(f1);a.body.push(b)})}else{for(var x=0;x<mg.length;x++){b={name:mg[x].col===null?m.get('IDS_ISNOVALUE'):mg[x].col,val:[]};n.each(function(d){var f1={};f1.color=d.color;f1.shape=d.shape;f1.value=d.val!==null?d.val:m.get('IDS_ISNOVALUE');var m1=d3.select(this)[0][0].className.baseVal.match(/\smi[0-9]+/);if(m1!==null)m1=m1[0];else return;k1=[];if(m1===(N.measureIndex+x)){var aa=d1!==null?d1:e1;for(i=0;i<aa.length;i++){if(d.ctx.path.dii_a2>aa[i].rows.length-1){d.ctx.path.dii_a2=aa[i].rows.length-1}k1.push(aa[i].rows[d.ctx.path.dii_a2])}f1.label=k1}else return;b.val.push(f1)});a.body.push(b)}}var l1={};for(i=0;i<c1.length;i++){l1={};l1.label=c1[i].col;l1.value=c1[i].rows[w];a.footer.push(l1)}}Q.showTooltip(o.formatTooltipData(a))};K.params={stroke:{invisible:"transparent",natural:"#ffffff",heavy:"#333333"},weight:{natural:C.line.width,heavy:"2px"},opacity:{natural:1,low:0.2}};K.dim=function(){var a=J.wording;if(!arguments.length){G.node.selectAll(a.dot+F.line.clazz).attr("opacity",K.params.opacity.low);G.node.selectAll(a.dot+F.marker.clazz).attr("opacity",K.params.opacity.low)}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).attr("opacity",K.params.opacity.low)}}else if(arguments[1]){G.node.selectAll(arguments[0]).attr("opacity",K.params.opacity.low)}else{G.node.select(arguments[0]).attr("opacity",K.params.opacity.low)}return K};K.bright=function(){var a=J.wording;if(!arguments.length){G.node.selectAll(a.dot+F.line.clazz).attr("opacity",K.params.opacity.natural);G.node.selectAll(a.dot+F.marker.clazz).attr("opacity",K.params.opacity.natural)}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).attr("opacity",K.params.opacity.natural)}}else if(arguments[1]){G.node.selectAll(arguments[0]).attr("opacity",K.params.opacity.natural)}else{G.node.select(arguments[0]).attr("opacity",K.params.opacity.natural)}return K};K.straight=function(){var a=J.wording;if(!arguments.length){G.node.selectAll(a.dot+F.marker.clazz).style("stroke",K.params.stroke.invisible)}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).style("stroke",K.params.stroke.invisible)}}else if(arguments[1]){G.node.selectAll(arguments[0]).style("stroke",K.params.stroke.invisible)}else{G.node.select(arguments[0]).style("stroke",K.params.stroke.invisible)}return K};K.straight2=function(){var a=J.wording;if(!arguments.length){G.node.selectAll(a.dot+F.marker.clazz).style("stroke-width",K.params.weight.natural)}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).style("stroke-width",K.params.weight.natural)}}else if(arguments[1]){G.node.selectAll(arguments[0]).style("stroke-width",K.params.weight.natural)}else{G.node.select(arguments[0]).style("stroke-width",K.params.weight.natural)}return K};K.highlight=function(){if(!arguments.length)return;if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).style("stroke",K.params.stroke.heavy).style("stroke-width",K.params.weight.heavy).attr("opacity",K.params.opacity.natural)}}else if(arguments[1]){G.node.selectAll(arguments[0]).style("stroke",K.params.stroke.heavy).style("stroke-width",K.params.weight.heavy).attr("opacity",K.params.opacity.natural)}else{G.node.select(arguments[0]).style("stroke",K.params.stroke.heavy).style("stroke-width",K.params.weight.heavy).attr("opacity",K.params.opacity.natural)}return K};K.highlight2=function(){if(!arguments.length)return;if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).style("stroke-width",K.params.weight.heavy).attr("opacity",K.params.opacity.natural)}}else if(arguments[1]){G.node.selectAll(arguments[0]).style("stroke-width",K.params.weight.heavy).attr("opacity",K.params.opacity.natural)}else{G.node.select(arguments[0]).style("stroke-width",K.params.weight.heavy).attr("opacity",K.params.opacity.natural)}return K};K.focus=function(){if(!arguments.length)return;if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).style("stroke",K.params.stroke.natural).style("stroke-width",K.params.weight.natural)}}else if(arguments[1]){G.node.selectAll(arguments[0]).style("stroke",K.params.stroke.natural).style("stroke-width",K.params.weight.natural)}else{G.node.select(arguments[0]).style("stroke",K.params.stroke.natural).style("stroke-width",K.params.weight.natural)}return K};return X}});sap.riv.module({qname:'sap.viz.modules.manifests.Radar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.radar',version:'4.0.0'},{qname:'sap.viz.feeds.Radar',version:'4.0.0'}],function Setup(M,C,f){var m={id:"sap.viz.modules.radar",type:C.Module.Type.Chart,name:"radar",description:"Radar module properties",properties:{drawingEffect:{name:'drawingEffect',supportedValueType:'List',supportedValues:['normal','glossy'],defaultValue:'normal',description:'Set drawing effect of radar.',isExported:true},polarGrid:{name:"polarGrid",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set polar gridline visibility switch."},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set polar gridline color."}},description:"Settings for Polar gridline customizations."},valueAxis:{name:"valueAxis",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set value axis visibility switch."},title:{name:"title",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set value axis title visibility switch."},text:{name:"text",supportedValueType:"String",defaultValue:"Value",description:"Set value axis title text."},},description:"Settings for value axis title."},label:{name:"label",supportedValueType:"Object",supportedValues:{formatString:{name:'formatString',supportedValueType:'String',defaultValue:null,description:'Set format string of value axis. If number format and format string are both set, number format will be ignored. '}},description:"Settings for axis label."}},description:"Settings for value axis at side bar."},polarAxis:{name:"polarAxis",supportedValueType:"Object",supportedValues:{title:{name:"title",description:"Settings for polar axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set category axis visibility switch."},text:{name:"text",supportedValueType:"String",defaultValue:"Categories",description:"Set category axis text."}}}},description:"Settings for polar axes customizations."},colorPalette:{name:"colorPalette",defaultValue:C.SAPColor,description:"Set marker color customizations."},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],description:'Set marker shape customizations.'},line:{name:"line",description:"Settings for line customizations.",supportedValueType:"Object",supportedValues:{width:{name:'width',supportedValueType:'PositiveInt',defaultValue:2,description:"Line weight settings. Range is [1, 7]"}}},surface:{name:"surface",supportedValueType:"Object",supportedValues:{fill:{name:'fill',supportedValueType:'Object',supportedValues:{visible:{name:'visible',supportedValueType:'Boolean',defaultValue:true,description:'Set enable/disable fill effect for polar area.'},transparency:{name:'transparency',supportedValueType:'Double',defaultValue:0.3,description:'Set alpha value for polar area fill color.'},}}},description:"Settings for Surface customizations."},marker:{name:"marker",supportedValueType:"Object",supportedValues:{size:{name:"size",supportedValueType:"PositiveInt",defaultValue:6,min:4,max:32,description:"Set marker size customization."}},description:"Settings for marker/data point graphics."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",supportedValues:[true,false],defaultValue:true,description:"Set tooltip enablement."}},'isExported':false,description:"Settings for tooltip customization."},},events:{'initialized':C.Module.Event.Initialized.desc,selectData:C.Module.Event.SelectData.desc,deselectData:C.Module.Event.DeSelectData.desc,showTooltip:C.Module.Event.TooltipShow.desc,hideTooltip:C.Module.Event.TooltipHide.desc},feeds:{id:"radar"},css:{".viz-axis-title":{description:"Font style for polar axis title.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},'.viz-axis-label':{'description':'Define style for the axis label.','value':{'fill':'#333333','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}},".viz-polar-axis-label":{description:"Font styles for polar axis labels.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","fill":"#333333","font-size":"11px","font-weight":"bold"}}},configure:null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiRadarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Radar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_radar',name:'IDS_MULTIRADARCHART',base:'riv/base/multiple/xy',modules:{legend:{data:{aa:[3]}},tooltip:{id:"sap.viz.modules.tooltip",configure:{properties:{chartType:"radar",orientation:"left"}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},configure:{properties:{'mergeDataRange':['primary']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{orientation:'vertical',position:'outside',automaticInOutside:false,outsidePosition:'up'},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.radar',configure:{description:'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:"plotArea",properties:{multichart:true}}},background:{configure:{propertyCategory:'background',properties:{visible:false}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},regionShape:{max:0}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapes'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.plot.dataLabel',listener:'showLabel',sourceModule:'main.plot.plot',type:'initialized.datalabel'},{targetModule:'main.plot.dataLabel',listener:'removeLabel',sourceModule:'main.plot.plot',type:'startToInit.datalabel'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.controller.rotate',version:'4.0.0'},[],function Setup(){return function(a){var m=null,g=null,p=a.props(null),b=0,c=0,d=false;var r=function(){return r};r.registerEvent=function(){g.on('mousedown.rotate',s).on('mousemove.rotate',e).on('mouseup.rotate',f);$(g.node()).mouseleave(f);var h=m.rotate();b=h.xAngle;c=h.yAngle};function s(){oldX=d3.event.layerX;oldY=d3.event.layerY;d=true};function e(){if(d==true){var x=d3.event.layerX;var y=d3.event.layerY;c+=(oldX-x)/2;if(c>180){c-=360}else if(c<-180){c+=360}b+=(y-oldY)/2;if(b>90){b=90}else if(b<-90){b=-90}oldX=x;oldY=y;m.rotate({xAngle:b,yAngle:c})}}function f(){d=false}r.module=function(_){if(!arguments.length){return m}m=_;g=m.parent();return r};r.properties=function(_){if(!arguments.length){return p}p=_;return r};return r}});sap.riv.module({qname:'sap.viz.modules.manifests.controller.Rotate',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.controller.rotate',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Base',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.controller.rotate','name':'selection','base':"sap.viz.modules.controller.base",'description':'Settings for the interactions of the chart.','properties':{},'fn':f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.threeD.Vector3D',version:'4.0.0'},[{qname:'sap.viz.modules.threeD.Vector',version:'4.0.0'},{qname:'sap.viz.modules.threeD.Point',version:'4.0.0'}],function Setup(V,P){function a(){V.apply(this,arguments)}a.prototype=Object.create(V.prototype);a.prototype.transform=function(m){var p=new P(0,0,0).transform(m);var b=new P(this.value(0),this.value(1),this.value(2)).transform(m);this.value(0,b.x-p.x);this.value(1,b.y-p.y);this.value(2,b.z-p.z);return this};return a});sap.riv.module({qname:'sap.viz.modules.threeD.cube',version:'4.0.0'},[{qname:'sap.viz.modules.threeD.Vector4D',version:'4.0.0'},{qname:'sap.viz.modules.threeD.Vector3D',version:'4.0.0'},{qname:'sap.viz.modules.threeD.matrix',version:'4.0.0'},{qname:'sap.viz.modules.threeD.Point',version:'4.0.0'}],function Setup(V,e,f,P){return function(){var g,j,k,t,l;function n(q){var r=q.selectAll("g.cube").data(function(d,i){var w=d3.functor(g).apply(this,arguments);var h=d3.functor(j).apply(this,arguments);var a=d3.functor(k).apply(this,arguments);var m=d3.functor(t).apply(this,arguments);var c=d3.functor(l).apply(this,arguments);return[{wv:w,hv:h,dv:a,m:m,data:d,c:c}]});r.exit().remove();r.enter().append("g").attr("class","cube datapoint normal");var s=function(w,h,d){return[[0,0,0],[0,h,0],[0,h,d],[0,0,d],[w,0,0],[w,h,0],[w,h,d],[w,0,d]]};var u=r.selectAll("rect[class|=\"cube-surface\"]").data(function(d){var w=d.wv;var h=d.hv;var a=d.dv;var c=d.c;var b=d3.rgb(c).hsl();var i=b.l;var m=d3.hsl(b.h,b.s,i*1.06).rgb().toString();var p=d3.hsl(b.h,b.s,i*0.94).rgb().toString();var v=new Array({m:f().rotateX(90).translate(0,h,0).transform(d.m),type:"bottom"},{m:f().rotateY(180).translate(0,0,a).transform(d.m),type:"back"},{m:f().rotateY(90).transform(d.m),type:"left"},{type:"front",m:d.m},{m:f().rotateY(-90).translate(w,0,0).transform(d.m),type:"right"},{m:f().rotateX(-90).transform(d.m),type:"top"});v.forEach(function(o){o.normal=new e(0,0,-1).transform(o.m)});v=v.filter(function(o){return o.normal.value(2)<0});v.forEach(function(o){switch(o.type){case"bottom":o.x=0;o.y=0;o.w=w;o.h=a;break;case"back":o.x=-w;o.y=0;o.w=w;o.h=h;break;case"left":o.x=-a;o.y=0;o.w=a;o.h=h;break;case"front":o.x=0;o.y=0;o.w=w;o.h=h;break;case"right":o.x=0;o.y=0;o.w=a;o.h=h;break;case"top":o.x=0;o.y=-a;o.w=w;o.h=a;break}var x=o.normal.value(0);o.fill=x===0?m:(x<0?c:p)});return v});u.exit().remove();u.enter().append("rect").attr("class",function(d){return"cube-surface-"+d.type});u.attr("x",function(d){return d.x}).attr("y",function(d){return d.y}).attr("width",function(d){return d.w}).attr("height",function(d){return d.h}).attr("transform",function(d){if(d.m){return d.m.projection()}}).attr("fill",function(d){return d.fill});r.each(function(d){var c=0;if(d.m){var h=d.m.row(2);c=new V(0,d.hv,0,1).dotProduct(h)}d3.select(this.parentNode).datum().flbpz=c;var i=s(d.wv,d.hv,d.dv),m=[];i.forEach(function(p){m.push(new P(p[0],p[1],p[2]).transform(d.m))});m.sort(function(a,b){return(b.x-a.x)});m.splice(2);m.sort(function(a,b){return(a.y-b.y)});d.rtp=m[0]});q.sort(function(a,b){return d3.descending(a.flbpz,b.flbpz)})}n.width=function(){if(arguments.length===0){return g}g=arguments[0];return n};n.height=function(){if(arguments.length===0){return j}j=arguments[0];return n};n.depth=function(){if(arguments.length===0){return k}k=arguments[0];return n};n.matrix=function(){if(arguments.length===0){return t}t=arguments[0];return n};n.color=function(){if(arguments.length===0){return l}l=arguments[0];return n};return n}});sap.riv.module({qname:'sap.viz.modules.bar3d',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.threeD.cube',version:'4.0.0'},{qname:'sap.viz.modules.threeD.matrix',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.tooltip',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'}],function Setup(M,S,O,c,a,l,b,e,T,t,f){var g=0.5;return function(h){var w=0,k=0,n,p=h.props(null),m=a();var q,d=e('initialized','showTooltip','hideTooltip','valueScaleChange','primaryCategoryScaleChange','secondaryCategoryScaleChange');var r=null;var s=null;var u={'sap.viz.modules.column3d.dimension':{key:'sap.viz.modules.column3d.dimension',values:[{col:{val:''},rows:[]}]}};var v={'sap.viz.modules.column3d.dimension':{key:'sap.viz.modules.column3d.dimension',values:[{col:{val:''},rows:[]}]}};var A=d3.scale.ordinal(),B=d3.scale.ordinal(),C=d3.scale.linear();var D=c();var E=d3.scale.ordinal();function F(i){r=i;var j=i.selectAll("style").data([".normal rect{stroke:#FFF; opacity:1} .selected rect{stroke:#000; opacity:1} .deselected rect{stroke:#FFF; opacity:0.4}"]);j.exit().remove();j.enter().append("style");j.text(String);E.range(p.colorPalette);var o=A.rangeBand();var V=B.rangeBand();var W=G();var X=o/(1+2*g);var Y=X;var Z=X*g;var $=W?function(d){return k-C(d.data.val)}:function(d){return C(d.data.val)};D.width(W?X:$).height(W?$:X).depth(Y).matrix(function(d){var c1=d.aa1*o+Z;var x=W?c1:0;var y=W?C(d.data.val):k-c1;var z=d.aa2*V+Z;return a().translate(x,y,z).transform(m)}).color(function(d){return E(d.aa2)});var a1=i.select('g.mainshapesgroup');if(!T.isExist(a1[0][0])){a1=i.append('g').attr('class','mainshapesgroup')}var b1=a1.selectAll("g.datashape").data(q);b1.exit().remove();b1.enter().append("g").attr("class","datashape");D(b1);d.initialized()}F.afterUIComponentAppear=function(){d.initialized()};F.width=function(i){if(!arguments.length){return w}w=i;if(G()){H();I()}else{J()}return F};F.height=function(i){if(!arguments.length){return k}k=i;if(G()){J()}else{H();I()}return F};F.primaryCategoryScale=function(i){if(!arguments.length){return A}A=i;return F};F.secondaryCategoryScale=function(i){if(!arguments.length){return B}B=i;return F};F.valueScale=function(i){if(!arguments.length){return C}C=i;return F};F.data=function(x){if(!arguments.length){return n}n=x;var y=M(n);U(y,n);var z=y.MG1;var i;var V=z[0].length;var W=new Array(V);for(i=0;i<V;i++){W[i]=i}A.domain(W);var X=z.length;var Y=new Array(X);for(i=0;i<X;i++){Y[i]=i}B.domain(Y);I();q=[];for(var i=0,Z=z.length;i<Z;i++){var $=z[i];for(var j=0,a1=$.length;j<a1;j++){q.push({data:$[j],aa2:i,aa1:j})}}var b1=d3.extent(q,function(o){return o.data.val});var c1=b1[0],d1=b1[1];var e1=c1>=0?0:c1;var f1=d1<=0?0:d1;if(e1===0&&f1===0){f1=100}C.domain([e1,f1]);S.perfect(C);return F};F.properties=function(i){if(!arguments.length){return p}O.extend(true,p,i);H();I();J();return F};F.colorPalette=function(_){if(!arguments.length){return p.colorPalette}p.colorPalette=_;return this};F.matrix=function(_){if(!arguments.length){return m}m=_;return this};F.secondaryCategoryData=function(_){if(!arguments.length){return u}u=_;return this};F.primaryCategoryData=function(_){if(!arguments.length){return v}v=_;return F};F.dispatch=function(_){if(!arguments.length){return d}d=_;return F};F.parent=function(){if(!arguments.length){return r}r=_;return F};F.highlight=function(_){if(_ instanceof Array){for(var i=0;i<_.length;i++){var j=_[i].getAttribute('class');j=j.replace('normal','selected');j=j.replace('deselected','selected');_[i].setAttribute('class',j)}}else{var j=_.getAttribute('class');j=j.replace('normal','selected');j=j.replace('deselected','selected');_.setAttribute('class',j)}};F.unhighlight=function(_){if(_ instanceof Array){for(var i=0;i<_.length;i++){var j=_[i].getAttribute('class');j=j.replace('selected','deselected');j=j.replace('nomral','deselected');_[i].setAttribute('class',j)}}else{var j=_.getAttribute('class');j=j.replace('selected','deselected');j=j.replace('nomral','deselected');_.setAttribute('class',j)}};F.clear=function(i){if(i==null){r.selectAll('.datapoint').each(function(d){var j=this.getAttribute('class');if(j.indexOf('deselected')!=-1){j=j.replace('deselected','normal')}else{j=j.replace('selected','normal')}this.setAttribute('class',j)})}else{r.selectAll('.datapoint').each(function(d){var j=this.getAttribute('class');j=j.replace('selected','deselected');j=j.replace('normal','deselected');this.setAttribute('class',j)})}};F.mouseover=function(j){if(s===j){return}var o={body:[],footer:[]};var x=j.__data__.data,y=o.body,z=o.footer;var V=x.data.ctx.path;y.push({name:n.getMeasureValuesGroupDataByIdx(0).values[V.mi].col,val:[{value:x.data.val,color:j.__data__.c,shape:'squareWithRadius'}]});var W=n.getAnalysisAxisDataByIdx(0),X=V.dii_a1;if(W){for(var i=0,Y=W.values.length;i<Y;i++){z.push({'label':W.values[i].col.val,'value':W.values[i].rows[X].val,})}}var Z=n.getAnalysisAxisDataByIdx(1),$=V.dii_a2;if(Z){for(var i=0,Y=Z.values.length;i<Y;i++){if(Z.values[i].type==='MND'){continue}z.push({'label':Z.values[i].col.val,'value':Z.values[i].rows[$].val,})}}var a1=r.node().getTransformToElement(r.node().ownerSVGElement);var b1=j.__data__.rtp;o.point={x:b1.x+a1.e,y:b1.y+a1.f};o.plotArea={x:a1.e,y:a1.f,width:w,height:k};s=j;d.showTooltip(f.formatTooltipData(o))};F.mouseout=function(i){s=null;d.hideTooltip()};function G(){return p.direction==="vertical"}function H(){A.rangeBands(G()?[0,w]:[k,0]);d.primaryCategoryScaleChange(A,G()?[0,w]:[k,0])}function I(){B.rangeBands([0,A.rangeBand()*B.domain().length]);d.secondaryCategoryScaleChange(B,[0,A.rangeBand()*B.domain().length])}function J(){C.range(G()?[k,0]:[0,w]);d.valueScaleChange(C,G()?[k,0]:[0,w])}var K=function(_){var i=l.get('IDS_ISNOVALUE');if(_===null||_===undefined){return i}else{return _}};var L=function(j){for(var i=0;i<j.length;++i){j[i].val=K(j[i].val)}return j};var N=function(i){var j={};switch(i.aa){case 0:j.dii_a1=i.dii;break;case 1:j.dii_a2=i.dii;break;case 2:j.dii_a3=i.dii;break}return j};var P=function(i,j){var o,x=[],y,z;var V=R(o,i,y);y=V.feedsLength;var W=R(o,j,z);z=W.feedsLength;u['sap.viz.modules.column3d.dimension'].values[0].rows=W.labels;v['sap.viz.modules.column3d.dimension'].values[0].rows=V.labels};var Q=function(o,x){var y=o[0];var z=function(V){var W=y;y=[];for(var i=0;i<W.length;i++){for(var j=0;j<V.length;j++){var X=(W[i].val===undefined)?W[i].val:W[i].val,Y=(V[j].val===undefined)?V[j].val:V[j].val;var Z={path:{}};b.extend(Z.path,W[i].ctx.path,V[j].ctx.path);y.push({'val':X+x+Y,'ctx':Z})}}};for(var i=1;i<o.length;i++){z(o[i])}return y};var R=function(o,x,y){var z=[],V=[],W=' / ',X=' - ';var Y,Z=false,i,j,$;if(x&&x.length>0){for(i=0,$=x.length;i<$;i++){if(x[i].type!=='MND'){if(o===undefined){o=K(x[i].col.val)}else{o=o+W+K(x[i].col.val)}V=x[i].rows;for(j=0;j<V.length;j++){if(z[j]===undefined){z[j]={};z[j].val=K(V[j].val);z[j].ctx={path:N(V[j].ctx.path)}}else{z[j].val=z[j].val+W+K(V[j].val)}}}else{Y=i}}y=z.length}if(Y!==undefined){if(z.length>0){if(x[Y].rows.length>1){if(Y===0){o=l.get('IDS_DEFAULTMND')+X+o;z=Q([L(x[Y].rows),z],X);y=y*x[Y].rows.length}else if(Y===x.length-1){o=o+X+l.get('IDS_DEFAULTMND');z=Q([z,L(x[Y].rows)],X);y=y*x[Y].rows.length}}}else{o=l.get('IDS_DEFAULTMND');V=x[Y].rows;for(j=0;j<V.length;j++){V[j].val=K(V[j].val);z.push(V[j])}y=V.length;if(V.length===1){Z=true}}}return{'title':o,'labels':z,'feedsLength':y,'MNDInfo':{'MNDIndex':Y,'hasOnlyMND':Z}}};function U(){var i=null,j=null;;var o=n.getAnalysisAxisDataByIdx(0);if(o){i=o.values}o=n.getAnalysisAxisDataByIdx(1);if(o){j=o.values}P(i,j)};return F}});sap.riv.module({qname:'sap.viz.modules.manifests.xyz.Bar3D',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.bar3d',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.BaseBar',version:'4.0.0'}],function Setup(M,f,C){var m={'id':'sap.viz.modules.bar3d','name':'3d bar','type':C.Module.Type.Chart,fn:f,'properties':{'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColor,'description':'Set color palette.'},'direction':{'name':"direction",'supportedValueType':'List','supportedValues':['vertical','horizontal'],'defaultValue':"vertical",'description':'Set direction.','isExported':false}},'feeds':{id:"xy",configure:{secondaryValues:null}}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.xyzlayout',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.threeD.matrix',version:'4.0.0'},{qname:'sap.viz.modules.threeD.Point',version:'4.0.0'}],function Setup(T,a,P){var b=function(w,h,f){var g=[{x:0,y:0,z:0},{x:0,y:0,z:f},{x:w,y:0,z:0},{x:w,y:0,z:f},{x:0,y:h,z:0},{x:0,y:h,z:f},{x:w,y:h,z:0},{x:w,y:h,z:f}];return g.map(function(i){return new P(i.x,i.y,i.z)})};var c=function(f,m){var g=f[0];g.transform(m);var h=g.x,j=g.y,k=g.x,l=g.y;for(var i=1,n=f.length;i<n;i++){g=f[i];g.transform(m);h=Math.min(h,g.x);j=Math.min(j,g.y);k=Math.max(k,g.x);l=Math.max(l,g.y)}return{x:h,y:j,z:k,w:l}};var d=function(f,m,g,h){return{top:0,left:f.west.size.width,bottom:f.south.size.height>f.east.size.height?f.south.size.height:f.east.size.height,right:f.east.size.height}};var p=function(w,h,f,m){var g=f.z-f.x;var i=f.w-f.y;var s=h-m.bottom-m.top;var j=w-m.left-m.right;var r=j/g;var k=s/i;var l=Math.min(r,k);return{x:l,y:k,z:l}};var e=function(w,h,f,m,g,i,j,k){var l=b(w,h,f);var n=c(l,m);var s={x:n.x,y:n.y,x:n.z,w:n.w};var o=d(k,g,i,j);var q=p(w,h,n,o);return q};var x=function(s){var f={resize:true,type:'grid',padding:[0,0,0,0],hgap:0,vgap:0};var h=s.hgap||f.hgap,v=s.vgap||f.vgap,g=s.padding||f.padding,i=s.bias||'none';var j=s.m_xaxis,k=s.m_yaxis,l=s.m_zaxis,n=s.m_plot,o=s.m_background;var t=s.size.width,q=s.size.height;var r=s.xAngle,y=s.yAngle;var u={},w=s.prefs;var f={resize:true,type:'grid',padding:[0,0,0,0],hgap:0,vgap:0};var h=s.hgap||f.hgap,v=s.vgap||f.vgap,g=s.padding||f.padding,i=s.bias||'none';var j=s.m_xaxis,k=s.m_yaxis,l=s.m_zaxis,n=s.m_plot,o=s.m_background;var t=s.size.width,q=s.size.height;var r=s.xAngle,y=s.yAngle;var u={},w=s.prefs;if(!s.finalLayout){O=u.center={};O.bounds={x:0,y:0,width:t,height:q};return u}var z=w.west.size.width,A=w.west.size.height,B=w.south.size.width,C=w.south.size.height,D=w.east.size.width,E=w.east.size.height;var m=a();m.transform(a().rotateY(y).rotateX(r));var F=b(t,q,D);var G=c(F,m);var H=d(w,j,k,l);var I=p(t,q,G,H);u.scale=I;A=q-C;m.scale(I.x,I.y,I.z);j.scale(I.x,I.y,I.z);k.scale(I.x,I.y,I.z);l.scale(I.x,I.y,I.z);n.scale(I.x,I.y,I.z);F=b(t,q,D);var J=c(F,m);var K=J.w-J.y;var L=J.z-J.x;var M=(t-L)/2;var N=(q-K)/2+Math.abs(new P(0,0,D).transform(m).y);var O=u.west={};var Q=new P(0,0,0).transform(m);var R=new P(0,A,0).transform(m);var S=Math.sqrt(Math.pow(R.y-Q.y,2)+Math.pow(R.x-Q.x,2));O.bounds={x:Q.x-z,y:Q.y-7.5,width:D,height:S};k.rotateY(-90).translate(Q.x,Q.y,0).transform(a().rotateY(y).rotateX(r));O=u.south={};var U=a().rotateY(y).rotateX(r);var V=new P(0,A,0).transform(m);var W=new P(0,A,0).transform(U);var X=new P(B,A,0).transform(U);var Y=Math.sqrt(Math.pow(X.y-W.y,2)+Math.pow(X.x-W.x,2));O.bounds={x:V.x,y:V.y,width:Y*I.x,height:C};O.angle=Math.atan(U.value(1,0)/U.value(0,0))*180/Math.PI;O.labelAngle=Math.atan(U.value(1,2)/U.value(0,2))*180/Math.PI;O.tickAngle=Math.atan(U.value(1,2)/U.value(0,2))*180/Math.PI;j.rotateX(-90).transform(a().rotateY(y).rotateX(r)).translate(W.x,W.y,0);O=u.center={};var Z=new P(0,0,0).transform(m);O.bounds={x:Z.x,y:Z.y,width:B,height:A-w.west.endPadding};n.transform(a().rotateY(y).rotateX(r)).translate(Z.x,Z.y,0);O=u.east={};var $=new P(B,A-w.west.endPadding,0).transform(m);var _=new P(B,0,0).transform(U);var a1=new P(B,0,D).transform(U);var b1=Math.sqrt(Math.pow(a1.y-_.y,2)+Math.pow(a1.x-_.x,2));O.bounds={x:$.x,y:$.y,width:b1*I.z,height:E};O.angle=Math.atan(U.value(1,2)/U.value(0,2))*180/Math.PI;O.labelAngle=Math.atan(U.value(1,0)/U.value(0,0))*180/Math.PI;O.tickAngle=Math.atan(U.value(1,0)/U.value(0,0))*180/Math.PI;l.rotateY(-90).rotateZ(-90).transform(a().rotateY(y).rotateX(r)).translate(_.x,_.y,0);O=u.background={};var c1=new P(z+D,0,0).transform(k);O.bounds={x:c1.x,y:c1.y,width:B,height:A-w.west.endPadding};o.scale(u.scale.x,u.scale.y,u.scale.z).transform(a().rotateY(y).rotateX(r)).translate(c1.x,c1.y,0);return u};return x});sap.riv.module({qname:'sap.viz.modules.xyzcontainer',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.modules.xyzlayout',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.data.handler.SingleChartDataHandler',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.threeD.matrix',version:'4.0.0'},{qname:'sap.viz.modules.threeD.Point',version:'4.0.0'},{qname:'sap.viz.modules.threeD.Vector3D',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,O,F,x,M,S,d,a,P,V,b){var r=function(c,e){function l(m){return M.module.get(m).execute(e)}var w=0,h=0,p={},f={},g={},j={},s={},k,n=null;var o=new d('initialized','showTooltip','hideTooltip'),q=0;;var t=c.props(null);var u=20,y=50;var v=0;var z=d3.scale.linear();var A=d3.scale.ordinal();var B=d3.scale.ordinal();var C=function(i,m){var _={},e1,f1,g1;if(m){if(i){e1=i.propertyCategory;f1=p;g1={};g1[e1]=i.properties;O.extend(true,_,g1,f1)}else{_=p}}else{if(i){e1=i.propertyCategory;f1=p[e1];g1=i.properties;O.extend(true,_,g1,f1)}}return _};var D=function(i,m){var _=g.modules;var e1,f1,g1;if(_[i]&&j[i]){f1=_[i].configure;if(m){e1=p}else{if(f1){g1=f1.propertyCategory;e1=O.extend(true,{},p[g1])}else{e1={}}}j[i].properties(e1)}};function E(){if(T.isEmptyObject(g))F.error('Container configuration missing');q=0;H('xAxis');H('yAxis');H('zAxis');H('background');var i=g.modules.plot;if(!i)return;var m=j.plot=l(i.id);var _=new S(f);m.data(_.getDataAdapter());var e1;if(i.configure){e1=C(i.configure);m.properties(e1)}if(m.dispatch){var f1=m.dispatch();if(f1.initialized){q++;f1.on('initialized.xycontainer',b1)};if(f1.showTooltip)f1.on('showTooltip.xycontainer',c1);if(f1.hideTooltip)f1.on('hideTooltip.xycontainer',d1)}var g1=g.modules.dataLabel;if(T.isExist(g1)&&T.isExist(m.dataLabel)){var h1=j.dataLabel=l(g1.id);m.dataLabel(h1);h1.plot(m);if(g1.configure){e1=C(g1.configure);h1.properties(e1)}}if(j.xAxis&&!s.xAxis)s.xAxis=n.append('g').attr('class','xAxis');if(j.yAxis&&!s.yAxis)s.yAxis=n.append('g').attr('class','yAxis');if(j.zAxis&&!s.zAxis)s.zAxis=n.append('g').attr('class','zAxis');if(j.plot&&!s.plot)s.plot=n.append('g').attr('class','plot');if(j.background&&!s.background)s.background=n.insert('g',':first-child').attr('class','background')}function G(i){if(j[i]){var m=g.modules[i];var _=m.data;if(_){j[i].data(f.createDataAdapterForModule(_))}}};function H(i){if(!g.modules[i])return;var m=g.modules[i],_=j[i]=l(m.id);G(i);var e1=C(m.configure);_.properties(e1);if(_.dispatch&&_.dispatch()['initialized']){q++;_.dispatch().on('initialized.xycontainer',b1)}}var I=function(w,h,i){var m=[{x:0,y:0,z:0},{x:0,y:0,z:i},{x:w,y:0,z:0},{x:w,y:0,z:i},{x:0,y:h,z:0},{x:0,y:h,z:i},{x:w,y:h,z:0},{x:w,y:h,z:i}];return m.map(function(_){return new P(_.x,_.y,_.z)})};var J=function(_,m){var e1=_[0];e1.transform(m);var f1=e1.x,g1=e1.y,h1=e1.x,i1=e1.y;for(var i=1,j1=_.length;i<j1;i++){e1=_[i];e1.transform(m);f1=Math.min(f1,e1.x);g1=Math.min(g1,e1.y);h1=Math.max(h1,e1.x);i1=Math.max(i1,e1.y)}return{x:f1,y:g1,z:h1,w:i1}};function K(i){return i*Math.PI/180}var L=function(i,m,_,e1,f1,g1,h1,i1,j1){var k1=W('south',i,'xAxis',A,_,0,0,e1,f1,g1,m.x0,m.x1,m.y0,m.z0,m.z1);var l1=Math.abs(K(k1));var m1=W('west',i,'yAxis',z,_,0,0,e1,f1,g1,m.x0,m.x1,m.y0,m.z0,m.z1);var n1=Math.abs(K(m1));var o1=W('none',i,'zAxis',B,_,0,0,e1,f1,g1,m.x0,m.x1,m.y0,m.z0,m.z1);var p1=Math.abs(K(o1));var q1=0,r1=0,s1=0,t1=0;q1=i1.width*Math.cos(n1);if(o1<=1&&k1>0&&!(o1==1&&k1==91&&u>0)){q1=(q1>h1.height*Math.cos(l1))?q1:h1.height*Math.cos(l1);s1=j1.height*Math.cos(p1);t1=(h1.height*Math.sin(l1)>j1.height*Math.sin(p1))?h1.height*Math.sin(l1):j1.height*Math.sin(p1)}else{q1=(q1>j1.height*Math.cos(p1))?q1:j1.height*Math.cos(p1);s1=h1.height*Math.cos(l1);t1=(h1.height*Math.sin(l1)>j1.height*Math.sin(p1))?h1.height*Math.sin(l1):j1.height*Math.sin(p1)}return{top:0,left:q1,bottom:t1,right:s1}};var N=function(i,m,_,e1,f1){var g1=_.z-_.x;var h1=_.w-_.y;var i1=i/g1;var j1=m/h1;var k1=Math.min(i1,j1);return{x:k1,y:j1,z:k1}};var Q=function(w,h,i,m){var _=I(w,h,i);var bb=J(_,m);var e1={x:bb.x,y:bb.y,x:bb.z,w:bb.w};var f1=L();var g1=N(w,h,bb,f1);return g1};var R=function(m){var i=new V(0,0,1);var _=false,e1=false,f1=false;var g1=new P(0,0,0);var h1=new P(1,0,0);var i1=new P(0,-1,0);var j1=new P(0,0,1);g1.transform(m);h1.transform(m);i1.transform(m);j1.transform(m);var k1=new V(h1.x-g1.x,h1.y-g1.y,h1.z-g1.z),l1=new V(i1.x-g1.x,i1.y-g1.y,i1.z-g1.z),m1=new V(j1.x-g1.x,j1.y-g1.y,j1.z-g1.z);if(i.dotProduct(k1)<0){_=true}if(i.dotProduct(l1)<0){e1=true}if(i.dotProduct(m1)>0){f1=true}return{isRenderRT:_,isRenderTP:e1,isRenderFT:f1,renderingOrderX:k1,renderingOrderY:l1,renderingOrderz:m1}};function U(i,m,_,e1,f1,g1){var x0,x1,y0,y1,z0,z1;y0=_+f1;if(i.isRenderFT){x0=m;if(i.isRenderTP)z0=0;else z0=g1}else{x0=m+e1;if(i.isRenderTP)z0=g1;else z0=0}if(i.isRenderRT){z1=0;if(i.isRenderTP)x1=m+e1;else x1=m}else{z1=g1;if(i.isRenderTP)x1=m;else x1=m+e1}return{x0:x0,x1:x1,y0:y0,z0:z0,z1:z1}};function W(i,_,e1,f1,m,x_,y_,i1,j1,k1,x0,x1,y0,z0,z1){var q1,r1,s1,t1;var u1,v1,w1,y1,A1;switch(i){case'south':q1=new P(x_,y0,z0);A1=(0==z0)?-k1:k1;s1=new P(x_,y0,z0+A1);r1=new P(x_+i1,y0,z0);break;case'north':q1=new P(x_,j1-y0,k1-z0);A1=(0==z0)?-k1:k1;s1=new P(x_,y0,k1-z0+A1);r1=new P(x_+i1,j1-y0,k1-z0);break;case'west':q1=new P(x0,y_,z1);s1=new P(x0-i1,y_,z1);r1=new P(x0,y_-j1,z1);break;case'east':q1=new P(i1-x0,y_+j1,k1-z1);s1=new P(i1,y_+j1,k1-z1);r1=new P(i1-x0,y_,k1-z1);break;default:q1=new P(x1,y0,0);A1=(x_==x1)?-i1:i1;s1=new P(x1+A1,y0,0);r1=new P(x1,y0,k1);break}q1.transform(m);s1.transform(m);r1.transform(m);if(i=='west'){w1=0;y1=0}else{t1=new V(s1.x-q1.x,s1.y-q1.y,r1.z-q1.z);w1=Math.atan2(t1.values[0],t1.values[1])*180/Math.PI+90;if(w1>90)w1-=180;else if(w1<-90)w1+=180;w1=X(w1);y1=Math.atan2(t1.values[1],t1.values[0])*180/Math.PI}j[e1].labelAngle(w1).tickAngle(y1);t1=new V(r1.x-q1.x,r1.y-q1.y,r1.z-q1.z);s[e1].attr('transform','translate('+q1.x+' '+q1.y+')');v1=Math.atan2(t1.values[1],t1.values[0])*180/Math.PI+90;if(i==='none'&&v1==0){v1=-1}j[e1].angle(v1);j[e1].labelAlign('start');u1=(r1.x-q1.x)*(r1.x-q1.x)+(r1.y-q1.y)*(r1.y-q1.y);if(u1<0.01)u1=0;if(i=='west'){j[e1].height(Math.sqrt(u1))}else{j[e1].width(Math.sqrt(u1))}if(f1.rangeBands){f1.rangeBands([0,Math.sqrt(u1)])}else{f1.range([Math.sqrt(u1),0])}return w1};function X(i){var m=i%360;if(-271<m&&m<-270)return-271;else if(-270<=m&&m<-269)return-269;if(-181<m&&m<-180)return-181;else if(-180<=m&&m<-179)return-179;else if(-91<m&&m<-90)return-91;else if(-90<=m&&m<-89)return-89;else if(-1<m&&m<0)return-1;else if(0<=m&&m<1)return 1;else if(89<m&&m<90)return 89;else if(90<=m&&m<91)return 91;else if(179<m&&m<180)return 179;else if(180<=m&&m<181)return 181;else if(269<m&&m<270)return 269;else if(270<=m&&m<271)return 271;else if(359<m&&m<360)return 359;return Math.round(i)}function Y(i){v++;if(T.isEmptyObject(j)||!w||!h)return;w=w<0?0:w;h=h<0?0:h;if(v%4!=0){j.plot.width(w).height(h)}else{var m=j.xAxis.getPreferredSize();var _=j.yAxis.getPreferredSize();var e1=j.zAxis.getPreferredSize();var f1=m.width,g1=_.height,h1=e1.width;var i1=a().rotateY(y).rotateX(u);var j1=R(i1);var k1=U(j1,0,0,f1,g1,h1);var l1=I(f1,g1,h1);var bb=J(l1,i1);var n1={x:bb.x,y:bb.y,x:bb.z,w:bb.w};var o1=L(j1,k1,i1,f1,g1,h1,m,_,e1);var p1=h-o1.bottom-o1.top;var q1=w-o1.left-o1.right;var r1=N(q1,p1,bb,o1);var s1=i1.unit().scale(r1.x,r1.y,r1.z).clone();i1.rotateY(y).rotateX(u);var t1=0,u1=0;var v1=0;while(v1<10){l1=I(f1,g1,h1);bb=J(l1,i1);t1=0-bb.x+o1.left+(q1-bb.z+bb.x)/2;u1=0-bb.y+o1.top+(p1-bb.w+bb.y)/2;if(t1>0&&u1>0){break}r1=N(q1,p1,bb,o1);i1=s1.clone();i1.scale(r1.x,r1.y,r1.z);s1=i1.clone();i1.rotateY(y).rotateX(u);v1++}j.plot.matrix(i1);W('south',j1,'xAxis',A,i1,0,0,f1,g1,h1,k1.x0,k1.x1,k1.y0,k1.z0,k1.z1);W('west',j1,'yAxis',z,i1,0,0,f1,g1,h1,k1.x0,k1.x1,k1.y0,k1.z0,k1.z1);W('none',j1,'zAxis',B,i1,0,0,f1,g1,h1,k1.x0,k1.x1,k1.y0,k1.z0,k1.z1);var w1=s.yAxis.node(),x1=w1.getTransformToElement(w1.parentNode);s.yAxis.attr('transform','translate('+(x1.e-_.width)+','+x1.f+')');l1=I(f1,g1,h1);bb=J(l1,i1);w1=s.yAxis.node(),x1=w1.getTransformToElement(w1.parentNode);s.yAxis.attr('transform','translate('+(x1.e+t1)+','+(x1.f+u1)+')');w1=s.xAxis.node(),x1=w1.getTransformToElement(w1.parentNode);s.xAxis.attr('transform','translate('+(x1.e+t1)+','+(x1.f+u1)+')');w1=s.zAxis.node(),x1=w1.getTransformToElement(w1.parentNode);s.zAxis.attr('transform','translate('+(x1.e+t1)+','+(x1.f+u1)+')');w1=s.plot.node();s.plot.attr('transform','translate('+(t1)+','+(u1)+')')}}function Z(i){i.each(function(f){n=i;b.drawBound(i,w,h);if(T.isEmptyObject(j))E();$()});return Z}Z.width=function(_,i){if(!arguments.length)return w;w=_;Y(i);return Z};Z.height=function(_,i){if(!arguments.length)return h;h=_;Y(i);return Z};Z.size=function(_){if(!arguments.length)return{'width':w,'height':h};h=_.height;w=_.width;Y();return Z};Z.data=function(_){if(!arguments.length)return f;f=_;if(!T.isEmptyObject(j)){var i=new S(f);j.plot.data(i.getDataAdapter());G('xAxis');G('yAxis');G('zAxis')}return Z};Z.properties=function(_){if(!arguments.length)return t;p=_;if(!T.isEmptyObject(j)){D('xAxis');D('yAxis');D('zAxis');D('plot');D('datalabel');D('background')}O.extend(true,t,_.xyzcontainer);u=t&&t.xAngle?t.xAngle:u;y=t&&t.yAngle?t.yAngle:y;return Z};Z.config=function(_){if(!arguments.length)return g;g=_;return Z};Z.modules=function(_){if(!arguments.length){if(T.isEmptyObject(j)){E()}return j}j=_;return Z};Z.parent=function(_){if(!arguments.length)return n;n=_;return Z};Z.rotate=function(_){if(!arguments.length){return{xAngle:u,yAngle:y}}v=2;u=_.xAngle;y=_.yAngle;Y();Y();$();return Z};Z.dispatch=function(_){if(!arguments.length)return o;o=_;return Z};Z.infoForSizeLegend=function(){return{space:k,number:1,plotHeight:j.plot.height()}};Z.yAxis=function(_){if(!arguments.length){return z}z=_.copy();return Z};Z.xAxis=function(_){if(!arguments.length){return A}A=_.copy();return Z};Z.zAxis=function(_){if(!arguments.length){return B}B=_.copy();return Z};Z.xAxisScaleChange=function(_,i){if(A.rangeBands){A.rangeBands(i)}else{A.range(i)}};Z.zAxisScaleChange=function(_,i){B.rangeBands(i)};Z.yAxisScaleChange=function(_,i){if(z.rangeBands){z.rangeBands(i)}else{z.range(i)}};function $(){for(var i in s){if(s.hasOwnProperty(i)){s[i].datum(j[i].data()).call(j[i])}}if(T.isExist(j.dataLabel)){j.dataLabel()}}var a1=0;function b1(){if(q==++a1){a1=0;o.initialized()}};function c1(i){o.showTooltip(i)};function d1(i){o.hideTooltip(i)};return Z};return r});sap.riv.module({qname:'sap.viz.modules.manifests.XYZContainer',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.xyzcontainer',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.xyzcontainer','type':C.Module.Type.Container,'name':'single container','properties':{'xAngle':{name:'xAngle',supportedValueType:'Number',defaultValue:20},'yAngle':{name:'yAngle',supportedValueType:'Number',defaultValue:50}},'css':null,'configure':null,'events':{'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xyz.Base3DChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYZContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xyz.Bar3D',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Rotate',version:'4.0.0'}],function Setup(M){return function(d){var i=d==="vertical";var c,v;if(i){c="xAxis";v="yAxis"}else{c="yAxis";v="xAxis"}var a={id:'viz/3d_'+(i?'column':'bar'),name:'IDS_3D_'+(i?'COLUMN':'BAR'),modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title'}},legend:{id:'sap.viz.modules.legend',data:{aa:[2]},configure:{propertyCategory:'legend'}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{orientation:'left'}}},main:{id:'sap.viz.modules.xyzcontainer',controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{selectability:{mode:'multiple',selectWithCtrlKey:true},preserveSelectionWhenDragging:true}}},'rotate':{id:'sap.viz.modules.controller.rotate',configure:{propertyCategory:'rotate'}}},modules:{plot:{id:'sap.viz.modules.bar3d',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',properties:{direction:d}}},zAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the category axis of an XYZ chart.',propertyCategory:'zAxis',properties:{type:'category',position:'bottom',forceVerticalFont:true,gridline:{visible:false},shapeRendering:false,isIndependentMode:true}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:d}}}},configure:{propertyCategory:'xyzcontainer',properties:{xAngle:20,yAngle:50}}}},dependencies:{attributes:[{targetModule:'main',target:c,sourceModule:'main.plot',source:'primaryCategoryScale'},{targetModule:'main',target:v,sourceModule:'main.plot',source:'valueScale'},{targetModule:'main.'+v,target:'scale',sourceModule:'main',source:v},{targetModule:'main.'+c,target:'scale',sourceModule:'main',source:c},{targetModule:'main',target:'zAxis',sourceModule:'main.plot',source:'secondaryCategoryScale'},{targetModule:'main.zAxis',target:'scale',sourceModule:'main',source:'zAxis'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'main.zAxis',target:'independentData',sourceModule:'main.plot',source:'secondaryCategoryData'},{targetModule:'main.'+c,target:'independentData',sourceModule:'main.plot',source:'primaryCategoryData'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.rotate',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.rotate'},{targetModule:'main',listener:i?'xAxisScaleChange':'yAxisScaleChange',sourceModule:'main.plot',type:'primaryCategoryScaleChange.xyzcontainer'},{targetModule:'main',listener:i?'yAxisScaleChange':'xAxisScaleChange',sourceModule:'main.plot',type:'valueScaleChange.xyzcontainer'},{targetModule:'main',listener:'zAxisScaleChange',sourceModule:'main.plot',type:'secondaryCategoryScaleChange.xyzcontainer'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip.tooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip.tooltip'}]}};var m=a.modules.main.modules;m[c]={id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the value axis of an XYZ chart.',propertyCategory:c,properties:{type:'category',isIndependentMode:true,position:i?'bottom':'left',forceVerticalFont:(i?true:undefined),gridline:{visible:false,showFirstLine:(i?false:true),showLastLine:(i?false:true)},shapeRendering:false},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}};m[v]={id:'sap.viz.modules.axis',configure:{'description':'Settings for the category axis of an XYZ chart.',propertyCategory:v,properties:{type:'value',position:(i?'left':'bottom'),forceVerticalFont:(i?undefined:true),shapeRendering:false,gridline:{showFirstLine:(i?true:false),showLastLine:(i?true:false)}}}};M.register(a)}});sap.riv.module({qname:'sap.viz.manifests.xyz.Bar3DChart',version:'4.0.0'},[{qname:'sap.viz.manifests.xyz.Base3DChart',version:'4.0.0'}],function Setup(f){f("horizontal")});sap.riv.module({qname:'sap.viz.manifests.xyz.Column3DChart',version:'4.0.0'},[{qname:'sap.viz.manifests.xyz.Base3DChart',version:'4.0.0'}],function Setup(f){f("vertical")});sap.riv.module({qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var c={id:'riv/basehorizontalchart',name:'IDS_BASEHORIZONTALCHART','abstract':true,modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title'}},legend:{id:'sap.viz.modules.legend',data:{aa:[2]},configure:{propertyCategory:'legend'}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'bar',orientation:'left'}}},main:{id:'sap.viz.modules.xycontainer',modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'horizontal',position:'inside',automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'right'}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis',properties:{type:'value',position:'bottom'}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'horizontal'}}}}}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalAreaChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Area',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/horizontal_area',name:'IDS_HORIZONTALAREACHART',base:'riv/basehorizontalchart',modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove']}}}},'modules':{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,outsidePosition:'left',showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',propertiesOverride:{bStacked:true},properties:{orientation:'horizontal'}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'getColorPalette'},{targetModule:'main.plot',target:'primaryDataRange',sourceModule:'main.xAxis',source:'range'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.PercentageHorizontalAreaChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalAreaChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/100_horizontal_area',name:'IDS_PERCENTAGEHORIZONTALAREACHART',base:'viz/horizontal_area',modules:{main:{'modules':{plot:{configure:{properties:{mode:"percentage"}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis',properties:{isPercentMode:true}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'horizontalline',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'},{qname:'sap.viz.modules.manifests.DataLabel',version:'4.0.0'}],function Setup(M){var c={id:'riv/baseverticalchart',name:'IDS_BASEVERTICALCHART','abstract':true,modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title'}},legend:{id:'sap.viz.modules.legend',data:{aa:[2]},configure:{propertyCategory:'legend'}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'verticalbar',orientation:'left'}}},main:{id:'sap.viz.modules.xycontainer',modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'inside',automaticInOutside:true,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'up'}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'yAxis',properties:{type:'value',position:'left'}}},xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',propertyCategory:'xAxis',properties:{type:'category',position:'bottom',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}}}}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.AreaChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Area',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/area',name:'IDS_AREACHART',base:'riv/baseverticalchart',modules:{tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove']}}}},'modules':{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,outsidePosition:'down',showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.area',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',propertiesOverride:{bStacked:true}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'getColorPalette'},{targetModule:'main.plot',target:'primaryDataRange',sourceModule:'main.yAxis',source:'range'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.PercentageAreaChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.xy.AreaChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/100_area',name:'IDS_PERCENTAGEAREACHART',base:'viz/area',modules:{main:{'modules':{plot:{configure:{properties:{mode:"percentage"}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'yAxis',properties:{isPercentMode:true}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'line',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.modules.mekko',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,O,a,M,b,C,S,R,N,c,l,B){var e=function(f,g){var n,o=[[]],p=[[]],s,q=[],u=0,v=0,z=0,A=0,D=null;var E=l.get('IDS_ISNOVALUE');var F,G,x=0,y=0,H=[],I,J=['squareWithRadius'],K=f.props(null),L=new a('selectData','deselectData','showTooltip','hideTooltip','initialized','startToInit');var P=g.effectManager;var Q=d3.scale.ordinal(),U=d3.scale.linear();Q.noEqual=true;var V=null,W=null;var X=1,Y,Z,$,a1=[],b1=[];var c1=true,d1=true,e1=false,f1=true,g1=false,h1=false,i1=true,j1=1000;var k1=null,l1=null,m1=R.newId();var n1='comparison';var o1='normal';var p1=false,q1=false,r1=false,s1=false;var t1={'sap.viz.modules.mekko.dimension':{key:'sap.viz.modules.mekko.dimension',values:[{col:{val:''},rows:[]}]}};var u1=[],v1=[],w1=[];var x1=true,y1=false;var z1=function(){if(n1===K.mode){n1=K.mode==='percentage'?'percentage':'comparison';s1=false}else{n1=K.mode==='percentage'?'percentage':'comparison';s1=true}x1=K.orientation==='horizontal'?true:false;e1=K.isRoundCorner;c1=K.animation.dataLoading;d1=K.animation.dataUpdating;i1=K.tooltip.enabled;I=K.colorPalette;o1=K.drawingEffect;H=[];var i,j;for(i=0;i<s[0].length;i++){for(j=0;j<s[0][0].length;j++){H.push(I[j%I.length])}}};function A1(t){B.drawBound(t,F,G);if(n1==='percentage'){C1()}if(n1==='comparison'){D1()}if(!T.isExist(U)){return}L.startToInit();t.each(function(){X=(T.isExist(p))?2:1;$=8*(Q.rangeBand())/(9*X+7);Z=s[0][0].length+((T.isExist(s[0][1]))?s[0][1].length:0);var Y=s.length;var I1=(D=d3.select(this));if(V===null){if(x1){V=I1.append('rect').attr('width',F).attr('height',Q.rangeBand()-$/2).attr('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{V=I1.append('rect').attr('width',Q.rangeBand()-$/2).attr('height',G).attr('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}}else{if(x1){V.attr('width',F).attr('height',Q.rangeBand()-$/2).attr('visibility','hidden')}else{V.attr('width',Q.rangeBand()-$/2).attr('height',G).attr('visibility','hidden')}}if(k1===null){k1=I1.append('defs').append('clipPath').append('rect').attr('width',F).attr('height',G)}else{k1.attr('width',F).attr('height',G)}if(l1===null){l1=I1.append('defs').attr('id','round-corner-clip'+m1)}else{if(q1||p1||r1){l1.remove();l1=I1.append('defs').attr('id','round-corner-clip'+m1)}}var J1=I1.selectAll('g.datashapesgroup');if(!T.isExist(J1[0][0])){J1=I1.append('g').attr('class','datashapesgroup')}var K1;if(c1&&!h1){K1=J1.selectAll('g.bar').data(s);K1.enter().append('g');K1.attr('class','bar').each(function(L1,i){var M1=x1?8*(u1[Y-i-1]-u1[Y-i])/(9*Z+7):8*(u1[i+1]-u1[i])/(9*Z+7);var N1=x1?u1[Y-i-1]-u1[Y-i]:u1[i+1]-u1[i];if(N1>1){N1=N1-1}var r=Math.log(N1)/Math.log(2);if(r<0){e1=false}var O1=d3.select(this).selectAll('g.axisGroup').data(L1);O1.enter().append('g');O1.attr('class','axisGroup').each(function(P1,j){var Q1=I;var R1=$/2;var S1=Q(i);var T1=0,U1=0,V1=0,W1=0;var X1=[],Y1=[];var Z1=d3.select(this).selectAll('g.datashape').data(P1);Z1.enter().append('g').attr('class','datashape');Z1.each(function(d){var $1=d3.select(this).selectAll('rect').data([d]);$1.enter().append('rect');$1.exit().remove()});Z1.exit().remove();if(y1){Z1.each(function(){if(T.isExist(this.getTransformToElement(this.parentNode))){Y1.push(this.getTransformToElement(this.parentNode).e);X1.push(this.getTransformToElement(this.parentNode).f)}else{Y1.push(0);X1.push(0)}})}Z1.attr('transform',function(d,k){if(x1){var y=G-u1[Y-i-1];var x;if(d.val>=0){T1=U(V1);V1+=d.val;x=T1}else{W1+=d.val;U1=U(W1);x=U1}}else{var x=u1[i];var y;if(d.val>=0){V1+=d.val;positiveY=U(V1);y=positiveY}else{negativeY=U(W1);W1+=d.val;y=negativeY}}return'translate('+x+','+y+')'});var $1=d3.select(this).selectAll('rect');$1.attr('fill',function(d,h){d.fillColor=Q1[h%Q1.length];var k={drawingEffect:o1,fillColor:d.fillColor,direction:x1?'vertical':'horizontal'};return P.register(k)}).attr('class','datapoint').attr('fill-opacity',1);if(q1){if(x1){$1.attr('height',M1).attr('y',function(d,m){return M1*m}).attr('x',0).attr('width',0);if(e1){$1.attr('clip-path',function(d,h){if(h===b1[j][i]||h===a1[j][i]){var k='roundCorner-clip'+'-'+h+i+j+m1;var m=l1.append('clipPath').attr('id',k).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',M1).attr('width',0).attr('x',this.x.baseVal.value).transition().duration(j1/2).attr('x',function(){if(h===b1[j][i]){return 0}else{return 0-r}}).attr('width',function(){return Math.abs(U(d.val)-U(0))+r}).transition().delay(j1/2).duration(j1/2).attr('height',N1).attr('y',0);return'url(#'+k+')'}})}W1=0;$1.transition().duration(j1/2).attr('width',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('x',0).transition().delay(j1/2).duration(j1/2).attr('height',function(d,m){var h=u1[Y-i-1]-u1[Y-i];if(h>1){return u1[Y-i-1]-u1[Y-i]-1}else{return u1[Y-i-1]-u1[Y-i]}}).attr('y',0).attr('width',function(d,m){return Math.abs(U(d.val)-U(0))}).each('end',function(d,m){if(i===0&&m===Z-1){E1()}})}else{$1.attr('width',M1).attr('x',function(d,m){return M1*m}).attr('y',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('height',0);if(e1){$1.attr('clip-path',function(d,h){if(h===b1[j][i]||h===a1[j][i]){var k='roundCorner-clip'+'-'+h+i+j+m1;var m=l1.append('clipPath').attr('id',k).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('width',M1).attr('height',0).attr('x',this.x.baseVal.value).transition().duration(j1/2).attr('y',function(){if(h===b1[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(U(d.val)-U(0))+r}).transition().delay(j1/2).duration(j1/2).attr('width',N1).attr('x',0);return'url(#'+k+')'}})}W1=0;$1.transition().duration(j1/2).attr('height',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('y',0).transition().delay(j1/2).duration(j1/2).attr('width',function(d,m){var w=u1[i+1]-u1[i];if(w>1){return u1[i+1]-u1[i]-1}else{return u1[i+1]-u1[i]}}).attr('x',0).attr('height',function(d,m){return Math.abs(U(d.val)-U(0))}).each('end',function(d,m){if(i===0&&m===Z-1){E1()}})}}else if(r1){$1.attr('x',function(d,k){return Y1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr('y',function(d,k){return X1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var _1=$1.transition();if(x1){_1.duration(j1/2).attr('width',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('x',0).attr('height',function(d,m){var h=u1[Y-i-1]-u1[Y-i];if(h>1){return u1[Y-i-1]-u1[Y-i]-1}else{return u1[Y-i-1]-u1[Y-i]}}).attr('y',0).each('end',function(d,m){if(i===0&&m===Z-1){E1()}});if(e1){_1.attr('clip-path',function(d,h){if(h===b1[j][i]||h===a1[j][i]){var k='roundCorner-clip'+'-'+h+i+j+m1;var x=parseFloat(this.x.baseVal.value);var m=l1.append('clipPath').attr('id',k).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('height',this.height.baseVal.value).attr('width',this.width.baseVal.value+r).attr('x',function(){return x-((h===b1[j][i])?0:r)}).attr('y',this.y.baseVal.value).transition().duration(j1/2).attr('x',function(){if(h===b1[j][i]){return 0}else{return 0-r}}).attr('width',function(){return Math.abs(U(d.val)-U(0))+r}).attr('height',N1).attr('y',0);return'url(#'+k+')'}})}}else{_1.duration(j1/2).attr('height',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('y',0).attr('width',function(d,m){var w=u1[i+1]-u1[i];if(w>1){return u1[i+1]-u1[i]-1}else{return u1[i+1]-u1[i]}}).attr('x',0).each('end',function(d,m){if(i===0&&m===Z-1){E1()}});if(e1){_1.attr('clip-path',function(d,h){if(h===b1[j][i]||h===a1[j][i]){var k='roundCorner-clip'+'-'+h+i+j+m1;var y=parseFloat(this.y.baseVal.value);var m=l1.append('clipPath').attr('id',k).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('width',this.width.baseVal.value).attr('height',this.height.baseVal.value+r).attr('y',function(){return y-((h===b1[j][i])?r:0)}).attr('x',this.x.baseVal.value).transition().duration(j1/2).attr('y',function(){if(h===b1[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(U(d.val)-U(0))+r}).attr('width',N1).attr('x',0);return'url(#'+k+')'}})}}}else if(p1){if(x1){$1.attr('x',function(d,k){return Y1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e}).attr('width',function(d){var h=Math.abs(U(d.val)-U(0));if(parseFloat(this.width.baseVal.value)>h){return this.width.baseVal.value}else{return h}});var _1=$1.transition();_1.duration(j1/2).attr('width',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('x',0).attr('height',function(d,m){var h=u1[Y-i-1]-u1[Y-i];if(h>1){return u1[Y-i-1]-u1[Y-i]-1}else{return u1[Y-i-1]-u1[Y-i]}}).attr('y',0).each('end',function(d,m){if(i===0&&m===Z-1){E1()}});if(e1){_1.attr('clip-path',function(d,h){if(h===b1[j][i]||h===a1[j][i]){var k='roundCorner-clip'+'-'+h+i+j+m1;var x=parseFloat(this.x.baseVal.value);var m=l1.append('clipPath').attr('id',k).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('height',this.height.baseVal.value).attr('width',this.width.baseVal.value+r).attr('x',function(){return x-((h===b1[j][i])?0:r)}).attr('y',this.y.baseVal.value).transition().duration(j1/2).attr('x',function(){if(h===b1[j][i]){return 0}else{return 0-r}}).attr('width',function(){return Math.abs(U(d.val)-U(0))+r}).attr('height',N1).attr('y',0);return'url(#'+k+')'}})}}else{$1.attr('y',function(d,k){return X1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f}).attr('height',function(d){var h=Math.abs(U(d.val)-U(0));if(parseFloat(this.height.baseVal.value)>h){return this.height.baseVal.value}else{return h}});var _1=$1.transition();_1.duration(j1/2).attr('height',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('y',0).attr('width',function(d,m){var w=u1[i+1]-u1[i];if(w>1){return u1[i+1]-u1[i]-1}else{return u1[i+1]-u1[i]}}).attr('x',0).each('end',function(d,m){if(i===0&&m===Z-1){E1()}});if(e1){_1.attr('clip-path',function(d,h){if(h===b1[j][i]||h===a1[j][i]){var k='roundCorner-clip'+'-'+h+i+j+m1;var y=parseFloat(this.y.baseVal.value);var m=l1.append('clipPath').attr('id',k).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('width',this.width.baseVal.value).attr('height',this.height.baseVal.value+r).attr('y',function(){return y-((h===b1[j][i])?r:0)}).attr('x',this.x.baseVal.value).transition().duration(j1/2).attr('y',function(){if(h===b1[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(U(d.val)-U(0))+r}).attr('width',N1).attr('x',0);return'url(#'+k+')'}})}}}else if(s1){if(x1){$1.attr('x',function(d,k){return Y1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).e});var _1=$1.transition();_1.duration(j1/2).attr('width',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('x',0).attr('height',function(d,m){var h=u1[Y-i-1]-u1[Y-i];if(h>1){return u1[Y-i-1]-u1[Y-i]-1}else{return u1[Y-i-1]-u1[Y-i]}}).attr('y',0).each('end',function(d,m){if(i===0&&m===Z-1){E1()}});if(e1){_1.attr('clip-path',function(d,h){if(h===b1[j][i]||h===a1[j][i]){var k='roundCorner-clip'+'-'+h+i+j+m1;var x=parseFloat(this.x.baseVal.value);var m=l1.append('clipPath').attr('id',k).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('height',this.height.baseVal.value).attr('width',this.width.baseVal.value+r).attr('x',function(){return x-((h===b1[j][i])?0:r)}).attr('y',this.y.baseVal.value).transition().duration(j1/2).attr('x',function(){if(h===b1[j][i]){return 0}else{return 0-r}}).attr('width',function(){return Math.abs(U(d.val)-U(0))+r}).attr('height',N1).attr('y',0);return'url(#'+k+')'}})}}else{$1.attr('y',function(d,k){return X1[k]-this.parentNode.getTransformToElement(this.parentNode.parentNode).f});var _1=$1.transition();_1.duration(j1/2).attr('height',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('y',0).attr('width',function(d,m){var w=u1[i+1]-u1[i];if(w>1){return u1[i+1]-u1[i]-1}else{return u1[i+1]-u1[i]}}).attr('x',0).each('end',function(d,m){if(i===0&&m===Z-1){E1()}});if(e1){_1.attr('clip-path',function(d,h){if(h===b1[j][i]||h===a1[j][i]){var k='roundCorner-clip'+'-'+h+i+j+m1;var y=parseFloat(this.y.baseVal.value);var m=l1.append('clipPath').attr('id',k).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('width',this.width.baseVal.value).attr('height',this.height.baseVal.value+r).attr('y',function(){return y-((h===b1[j][i])?r:0)}).attr('x',this.x.baseVal.value).transition().duration(j1/2).attr('y',function(){if(h===b1[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(U(d.val)-U(0))+r}).attr('width',N1).attr('x',0);return'url(#'+k+')'}})}}}});O1.exit().remove()});K1.exit().remove();if(!d1){h1=true}}else{K1=I1.selectAll('g.bar').data(s);K1.enter().append('g');K1.attr('class','bar').each(function(L1,i){var M1=x1?u1[Y-i-1]-u1[Y-i]:u1[i+1]-u1[i];if(M1>1){M1=M1-1}var r=Math.log(M1)/Math.log(2);if(r<0){e1=false}var N1=d3.select(this).selectAll('g.axisGroup').data(L1);N1.enter().append('g');N1.attr('class','axisGroup').each(function(O1,j){var P1=I;var Q1=0,R1=0,S1=0,T1=0;var U1=0,V1=-1;var W1=[],X1=[];var Y1=d3.select(this).selectAll('g.datashape').data(O1);Y1.enter().append('g').attr('class','datashape');Y1.each(function(d){var Z1=d3.select(this).selectAll('rect').data([d]);Z1.enter().append('rect');Z1.exit().remove()});Y1.exit().remove();Y1.attr('transform',function(d,k){if(x1){var y=G-u1[Y-i-1];var x;if(d.val>=0){Q1=U(S1);S1+=d.val;x=Q1}else{T1+=d.val;R1=U(T1);x=R1}}else{var x=u1[i];var y;if(d.val>=0){S1+=d.val;positiveY=U(S1);y=positiveY}else{negativeY=U(T1);T1+=d.val;y=negativeY}}return'translate('+x+','+y+')'});var Z1=d3.select(this).selectAll('rect');if(x1){Z1.attr('width',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('x',0).attr('height',function(d,m){var h=u1[Y-i-1]-u1[Y-i];if(h>1){return u1[Y-i-1]-u1[Y-i]-1}else{return u1[Y-i-1]-u1[Y-i]}}).attr('y',0).attr('fill',function(d,h){d.fillColor=P1[h%P1.length];var k={drawingEffect:o1,fillColor:d.fillColor,direction:'vertical'};return P.register(k)}).attr('class','datapoint').attr('fill-opacity',1);if(e1){Z1.attr('clip-path',function(d,h){if(h===b1[j][i]||h===a1[j][i]){var k='roundCorner-clip'+'-'+h+i+j+m1;var m=l1.append('clipPath').attr('id',k).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('x',function(){if(h===b1[j][i]){return 0}else{return 0-r}}).attr('width',function(){return Math.abs(U(d.val)-U(0))+r}).attr('height',M1).attr('y',0);return'url(#'+k+')'}})}}else{Z1.attr('height',function(d,m){return Math.abs(U(d.val)-U(0))}).attr('x',0).attr('width',function(d,m){var w=u1[i+1]-u1[i];if(w>1){return u1[i+1]-u1[i]-1}else{return u1[i+1]-u1[i]}}).attr('y',0).attr('fill',function(d,h){d.fillColor=P1[h%P1.length];var k={drawingEffect:o1,fillColor:d.fillColor,direction:'horizontal'};return P.register(k)}).attr('class','datapoint').attr('fill-opacity',1);if(e1){Z1.attr('clip-path',function(d,h){if(h===b1[j][i]||h===a1[j][i]){var k='roundCorner-clip'+'-'+h+i+j+m1;var m=l1.append('clipPath').attr('id',k).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){if(h===b1[j][i]){return 0-r}else{return 0}}).attr('height',function(){return Math.abs(U(d.val)-U(0))+r}).attr('width',M1).attr('x',0);return'url(#'+k+')'}})}}});N1.exit().remove()});K1.exit().remove()}p1=false,r1=false,q1=false});if(!c1||!d1){E1()}return A1}A1.hoverOnPoint=function(d){var h=d.x,j=d.y;var i=0,k=u1.length-1,m=0;if(x1){while(i<k){if(j>=(G-u1[i])&&j<(G-u1[i+1])){m=u1[i]-u1[i+1];break};i++}}else{while(i<k){if(h>=(u1[i])&&h<(u1[i+1])){m=u1[i+1]-u1[i];break};i++}}if(i>(s.length-1)||i<0){V.attr('visibility','hidden');return}if(x1){V.attr('y',G-u1[i]).attr('visibility','visible').attr('height',m)}else{V.attr('x',u1[i]).attr('visibility','visible').attr('width',m)}if(i!==W){if(i1){W=i;var t=D[0][0].getTransformToElement(D[0][0].ownerSVGElement);var r=t.f;var w=t.e;var I1=x1?B1(Y-i-1):B1(i);I1.point={x:x1?d3.event.layerX:u1[i]+m/2+w,y:x1?G-u1[i]+m/2+r:d3.event.layerY};I1.plotArea={x:t.e,y:t.f,width:F,height:G};I1.valueAxis0Count=s[0][0].length;I1.valueAxis1Count=T.isExist(s[0][1])?s[0][1].length:0;L.showTooltip(b.formatTooltipData(I1))}}};var B1=function(d){var h={'body':[],'footer':[]};var k=n.getAnalysisAxisDataByIdx(0).values;var m=n.getMeasureValuesGroupDataByIdx(0).values;var r=n.getMeasureValuesGroupDataByIdx(1).values;if(T.isExist(n.getAnalysisAxisDataByIdx(1))){var w=n.getAnalysisAxisDataByIdx(1).values}var I1=q[0][0].length;for(var i=0,J1=m.length;i<J1;i++){var K1={},L1=[];K1.name=m[i].col;K1.val=L1;for(var j=0;j<I1;j++){var M1='';if(T.isExist(w)){for(var t=0,N1=w.length;t<N1;t++){if(t===0){M1+=w[t].rows[j].val}else{M1+=' / '+w[t].rows[j].val}}}L1.push({value:q[d][0][j].isNaN?E:q[d][0][j].val,label:M1,shape:'squareWithRadius',color:H[j]})}h.body.push(K1)}var K1={},L1=[];K1.name=r[0].col;K1.val=L1;L1.push({value:T.isExist(rangeSum[d])?rangeSum[d]:E,valueAxis:1});h.body.push(K1);for(var i=0,O1=k.length;i<O1;i++){var P1={};P1.label=k[i].col.val;P1.value=k[i].rows[d].val;h.footer.push(P1)}return h};A1.blurOut=function(){V.attr('visibility','hidden');W=null;if(i1){L.hideTooltip()}};A1.parent=function(){return D};A1.highlight=function(d){if(d instanceof Array){for(var i=0,h=d.length;i<h;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};A1.unhighlight=function(d){if(d instanceof Array){for(var i=0,h=d.length;i<h;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};A1.clear=function(d){if(d==null){D.selectAll('.datapoint').attr('fill-opacity',1)}else{D.selectAll('.datapoint').attr('fill-opacity',0.2)}};function C1(){for(var i=0,d=s.length;i<d;i++){for(var j=0,r=s[i],h=q[i];j<r.length;j++){var m=0,t=0,k;for(k=0;k<r[j].length;k++){m+=Math.abs(r[j][k].val);if(!r[j][k].isNaN){t++}}if(m===0){for(k=0;k<r[j].length;k++){r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=r[j][k].isNaN?0:1/t;if(T.isExist(h[j])&&T.isExist(h[j][k])){h[j][k].val=h[j][k].isNaN?' ':1/t}}}else{for(k=0;k<r[j].length;k++){if(r[j][k].val<0){r[j][k].isNegative=true}r[j][k].value=T.isExist(r[j][k].value)?r[j][k].value:r[j][k].val;r[j][k].val=Math.abs(r[j][k].val/m);if(T.isExist(h[j])&&T.isExist(h[j][k])){h[j][k].val=h[j][k].isNaN?' ':h[j][k].val/m}}}}}}function D1(){var d=O.extend(true,{},M(n));var h=d["MG1"];var i=d["MG2"];measureOnAxis1=d.MG1Number;q=[];var j=H1(h,null,d.color);s=j;o=h;p=i;q=O.extend(true,{},s)}function E1(){L.initialized();y1=true}A1.afterUIComponentAppear=function(){L.initialized()};A1.width=function(d){if(!arguments.length){return F}p1=(F===d)&&!p1?false:true;F=d;G1();return A1};A1.height=function(d){if(!arguments.length){return G}p1=(G===d)&&!p1?false:true;G=d;G1();return A1};A1.data=function(d){if(!arguments.length){return n}n=d;var h=O.extend(true,{},M(n));var i=h["MG1"];var j=h["MG2"];measureOnAxis1=h.MG1Number;q=[];var k=H1(i,null,h.color);if(o.length!==i.length||o[0].length!==i[0].length){q1=true}else{r1=true}s=k;o=i;p=j;q=O.extend(true,{},s);G1();z1();return A1};A1.properties=function(d){if(!arguments.length){return K}c.extend(true,K,d);z1();G1();return A1};var F1=function(u1){for(var i=0;i<u1.length;i++){if(!N.isNoValue(u1[i])&&u1[i]!=0)return}for(var i=1;i<u1.length;i++){u1[i]=i*(x1?G/(u1.length-1):F/(u1.length-1))}};var G1=function(){if(T.isExist(F)&&T.isExist(G)&&T.isExist(s)){var d=[],t=0,h=0;u1=[],rangeSum=[],u1[0]=0;var r=t1['sap.viz.modules.mekko.dimension'].values[0].rows=[];t1['sap.viz.modules.mekko.dimension'].values[0].col.val=n.getMeasureValuesGroupDataByIdx(1).values[0].col;for(var i=0,k=p.length;i<k;i++){for(var j=0;j<p[i].length;j++){if(T.isExist(rangeSum[j])){rangeSum[j]+=p[i][j].val}else{rangeSum[j]=p[i][j].val}}}for(var i=0,k=rangeSum.length;i<k;i++){d.push(i);t+=rangeSum[i]>0?rangeSum[i]:(0-rangeSum[i])}for(var j=0,k=rangeSum.length;h+=Math.abs(rangeSum[j]),j<k;j++){h=parseFloat(h.toFixed(8));u1[j+1]=t==0?null:Math.abs(x1?h/t*G:h/t*F);r.push({val:T.isExist(rangeSum[j])?rangeSum[j]:E})}F1(u1);if(x1){Q.domain(d).range(u1.reverse());if(n1==='percentage'){U.domain([0,1]).range([0,F]).nice();S.perfect(U)}else{if(v===0&&u===0){U.domain([0,1]).range([0,F]).nice()}else{U.domain([v,u]).range([0,F]).nice()}S.perfect(U)}}else{Q.domain(d).range(u1);if(n1==='percentage'){U.domain([1,0]).range([0,G]).nice();S.perfect(U)}else{if(v===0&&u===0){U.domain([1,0]).range([0,G]).nice()}else{U.domain([u,v]).range([0,G]).nice()}S.perfect(U)}}}};A1.colorPalette=function(d){if(!arguments.length){return H}H=d;return A1};A1.categoryScale=function(d){if(!arguments.length){return Q}Q=d;return A1};A1.dimensionData=function(_){if(!arguments.length){return t1}t1=_;return A1};A1.secondCategoryScale=function(){if(!arguments.length){return Q}Q=_;return A1};A1.primaryDataRange=function(r){if(!arguments.length){var m,d;if(n1==='percentage'){m=1;d=0}else{d=v<0?v:0;m=u}return{min:d,max:m}}u=r.max;v=r.min;G1();return A1};A1.secondDataRange=function(r){if(!arguments.length){var m,d;if(n1==='percentage'){m=1;d=0}else{d=A<0?A:0;m=z}return{min:d,max:m}}z=r.max;A=r.min;G1();return A1};A1.primaryScale=function(d){if(!arguments.length){return U}U=d;return A1};A1.primaryAxisColor=function(){return undefined};A1.getPreferredSize=function(){};A1.x=function(_){if(!arguments.length){return x}x=_;return this};A1.y=function(_){if(!arguments.length){return y}y=_;return this};A1.dispatch=function(_){if(!arguments.length){return L}L=_;return this};A1.dataLabel=function(_){};A1.primaryAxisTitle=function(_){if(!arguments.length){var t=n.getMeasureValuesGroupDataByIdx(0),d=[];if(t){for(var i=0,h=t.values.length;i<h;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){d.push(t.values[i].col)}else{d.push(l.get('IDS_ISNOVALUE'))}}}return d.join('/')}return this};A1.secondAxisTitle=function(_){if(!arguments.length){var t=n.getMeasureValuesGroupDataByIdx(1),d=[];if(t){for(var i=0,h=t.values.length;i<h;i++){if(t.values[i].col!==null&&t.values[i].col!==undefined){d.push(t.values[i].col)}else{d.push(l.get('IDS_ISNOVALUE'))}}}return d.join('/')}return this};var H1=function(d,h,k){var m=-1,r=-1;a1=[[],[]],b1=[[],[]];u=v=0;z=A=0;var t=[];Y=d[0].length;var w,I1;for(var j=0;j<Y;j++){var J1=[],K1=[];var L1=[];w=0,I1=0;m=-1,r=-1;for(var i=0;i<d.length;i++){if(N.isNoValue(d[i][j].val)){d[i][j].val=0;d[i][j].isNaN=true}else{if(d[i][j].val>=0){w+=d[i][j].val;m=i}else{I1+=d[i][j].val;r=i}}J1.push(d[i][j])}a1[0].push(m);b1[0].push(r);if(u<w){u=w}if(v>I1){v=I1}L1.push(J1);if(T.isExist(h)){w=0,I1=0;m=-1,r=-1;for(i=0;i<h.length;i++){m=0,r=-1;if(N.isNoValue(h[i][j].val)){h[i][j].val=0;h[i][j].isNaN=true}else{if(h[i][j].val>=0){w+=h[i][j].val;m=i}else{I1+=h[i][j].val;r=i}}K1.push(h[i][j])}a1[1].push(m);b1[1].push(r);if(z<w){z=w}if(A>I1){A=I1}L1.push(K1)}t.push(L1)}return t};K=f.props(null);return A1};return e});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Mekko',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.mekko',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.BaseBar',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.mekko','name':'mekko',base:"sap.viz.modules.xy.bar.base",'properties':{'mode':{'name':'mode','supportedValueType':'List','supportedValues':['comparison','percentage'],'defaultValue':'comparison','description':'Set dispaly mode of mekko chart.'},'orientation':{'name':'orientation','supportedValueType':'List','supportedValues':['vertical','horizontal'],'defaultValue':'horizontal','description':'vertical or horizontal mekko chart.'},},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.BarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/bar',name:'IDS_BARCHART',base:'riv/basehorizontalchart',modules:{main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},modules:{plot:{id:'sap.viz.modules.bar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalMekkoChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BarChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Mekko',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/horizontal_mekko',name:'IDS_HORIZONTALMEKKOCHART',base:'viz/bar',modules:{main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.mekko',configure:{propertyCategory:'plotArea',propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},yAxis:{id:'sap.viz.modules.axis',configure:{properties:{type:'category',position:'left',label:{hideStrategy:'greedy'}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{isIndependentMode:true,type:'category',position:'right',gridline:{visible:false},label:{hideStrategy:'greedy'}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false}}}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'mekko',orientation:'left'}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis2',target:'scale',sourceModule:'main.plot',source:'secondCategoryScale'},{targetModule:'main.xAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.yAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'main.yAxis2',target:'independentData',sourceModule:'main.plot',source:'dimensionData'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.PercentageHorizontalMekkoChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalMekkoChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/100_horizontal_mekko',name:'IDS_PERCENTAGEHORIZONTALMEKKOCHART',base:'viz/horizontal_mekko',modules:{tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'mekko',formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.mekko',configure:{propertyCategory:'plotArea',properties:{mode:'percentage'},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis',properties:{isPercentMode:true}}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.VerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/column',name:'IDS_VERTICALBARCHART',base:'riv/baseverticalchart',modules:{main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{}}}},modules:{plot:{id:'sap.viz.modules.verticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'main.plot',target:'primaryDataRange',sourceModule:'main.yAxis',source:'range'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.MekkoChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.xy.VerticalBarChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Mekko',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/mekko',name:'IDS_MEKKOCHART',base:'viz/column',modules:{main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.mekko',configure:{propertyCategory:'plotArea',properties:{orientation:'vertical'},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.',properties:{position:'left'}}},xAxis:{id:'sap.viz.modules.axis',configure:{properties:{type:'category',position:'bottom',label:{hideStrategy:'greedy'}}}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'xAxis2',properties:{isIndependentMode:true,type:'category',position:'top',gridline:{visible:false},label:{hideStrategy:'greedy'}},propertiesOverride:{gridline:{isExported:false},axisline:{isExported:false},label:{numberFormat:{isExported:false}}}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'mekko',orientation:'bottom'}}}},feeds:{secondaryValues:{min:1,max:1},primaryValues:{min:1,max:1},regionColor:{min:0,max:1,acceptMND:-1},axisLabels:{min:1,max:1,acceptMND:-1}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis2',target:'scale',sourceModule:'main.plot',source:'secondCategoryScale'},{targetModule:'main.yAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.xAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'main.xAxis2',target:'independentData',sourceModule:'main.plot',source:'dimensionData'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.PercentageMekkoChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.xy.MekkoChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/100_mekko',name:'IDS_PERCENTAGEMEKKOCHART',base:'viz/mekko',modules:{tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{formatString:[["0.00%"],[""]]}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true}}},plot:{id:'sap.viz.modules.mekko',configure:{propertyCategory:'plotArea',properties:{mode:'percentage'},propertiesOverride:{primaryValuesColorPalette:{isExported:false},mode:{isExported:false},orientation:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'yAxis',properties:{isPercentMode:true}}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.modules.manifests.xy.HorizontalBoxplot',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.horizontalboxplot',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.horizontalboxplot','name':'horizontal boxplot',base:"sap.viz.modules.xy.base",'properties':{'primaryValuesColorPalette':null,'secondaryValuesColorPalette':null,'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'}},'feeds':{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalBoxplotChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalBoxplot',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/horizontal_boxplot',name:'IDS_HORIZONTALBOXPLOTCHART',base:'riv/basehorizontalchart',modules:{tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'horizontalboxplot',orientation:'left'}}},main:{modules:{dataLabel:null,yAxis:{id:'sap.viz.modules.axis',configure:{properties:{isIndependentMode:true}}},plot:{id:'sap.viz.modules.horizontalboxplot',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}}}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.yAxis',target:'independentData',sourceModule:'main.plot',source:'dimensionData'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.modules.verticalboxplot',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,a,M,C,S,N,l,t,O,b){var c=function(e,f){var w=null,g=[],h=[],s=[],o=[],r=[],p=[],q=[],u=[],v=[],z=null;var A={'sap.viz.modules.verticalboxplot.dimension':{'key':'sap.viz.modules.verticalboxplot.dimension','values':null}};var B=undefined,D=undefined,E=d3.scale.ordinal(),F=d3.scale.linear(),G=d3.scale.ordinal(),H,I,J=null,K=true,L={min:0,max:0},P=f.effectManager,Q='normal',R=l.get('IDS_ISNOVALUE');var U={},V=new a('showTooltip','hideTooltip','initialized');var W={width:'1',color:'#000000'};var X={width:'0',midLineColor:'#000000'};var Y=[],Z=[],$=[],a1=[],b1=[],c1=[],d1=[];var e1=function(){var d=[];for(var i=0;i<s.length;i++){d.push(i)}E.domain(d).rangeBands([0,B]);G.domain(h).rangeBands([0,B]);if(!L||(L.min===0&&L.max===0)){F.domain([0,1]).range([D,0]).nice()}else{F.domain([L.min,L.max]).range([D,0]).nice()}S.perfect(F)};m1.dimensionData=function(_){if(!arguments.length){return A}A=_;return m1};function f1(d){if(T.isExist(d)){length=d.length;var j=false;for(var i=0;i<length;i++){if(d[i].length>0){if(!j){L=g1(d[i]);j=true}else{var k=g1(d[i]);if(k){if(k.min<L.min){L.min=k.min}if(k.max>L.max){L.max=k.max}}}}}}}function g1(d){var m={min:0,max:0};if(T.isExist(d)){d.sort(function(i,j){return i.val-j.val});m={min:d[0].val,max:d[d.length-1].val}}return m}function h1(){Y=[];Z=[];$=[];a1=[];b1=[];c1=[];d1=[]}function i1(){g=[];h=[];s=[];o=[];r=[];p=[];q=[]}function j1(n){return(n&1)==0}function k1(d,i,j){var n=j-i+1;if(n<=0)return-1;var k;var m=d[i+Math.floor((n+1)/2)-1].ctx;if(j1(n)){k=(d[i+Math.floor((n+1)/2)-1].val+d[i+Math.floor((n+1)/2)].val)/2}else{k=d[i+Math.floor((n+1)/2)-1].val}return{'ctx':m,'val':k}}function l1(d){if(d&&d.length>0){var n=d.length,m={'Maximum:':null,'3rd Quartile:':null,'Median:':null,'1st Quartile:':null,'Minimum:':null};midLine=k1(d,0,n-1);m['Median:']=midLine;var x=d[Math.floor(n/2)];d[Math.floor(n/2)]=midLine;var y=k1(d,0,Math.floor(n/2));d[Math.floor(n/2)]=x;x=d[Math.floor((n-1)/2)];d[Math.floor((n-1)/2)]=midLine;var _=k1(d,Math.floor((n-1)/2),n-1);d[Math.floor((n-1)/2)]=x;m['3rd Quartile:']=_;m['1st Quartile:']=y;var y1=_.val-y.val;var z1=y.val-1.5*y1;var A1=_.val+1.5*y1;var i=0;while(d[i].val<z1)i++;lowWhisker=d[i];m['Minimum:']=lowWhisker;if(lowWhisker){if(y){if(y.val!=lowWhisker.val){a1.push({'pair':[y,lowWhisker],'ctx':[y.ctx,lowWhisker.ctx],'val':[y.val,lowWhisker.val]})}}}for(var k=0;k<i;k++)d1.push(d[k]);var j=n-1;while(d[j].val>A1)j--;highWhisker=d[j];m['Maximum:']=highWhisker;for(var k=0;k<n-j-1;k++)d1.push(d[j+1+k]);if(d1.length>0)m['outLiers(s)']=d1.length;if(highWhisker){if(_){if(_.val!=highWhisker.val){b1.push({'pair':[highWhisker,_],'ctx':[highWhisker.ctx,_.ctx],'val':[highWhisker.val,_.val]})}}}if(y&&_&&midLine){if(y.val==_.val){c1.push({'pair':[y,y],'midLine':null,'ctx':[y.ctx],'val':[y.val]})}else if(midLine.val==_.val||midLine.val==y.val){c1.push({'pair':[_,y],'midLine':null,'ctx':[_.ctx,y.ctx],'val':[_.val,y.val]})}else{c1.push({'pair':[_,midLine],'midLine':midLine,'ctx':[_.ctx],'val':[_.val]});c1.push({'pair':[midLine,y],'midLine':midLine,'ctx':[y.ctx],'val':[y.val]})}}q.push(m)}}function m1(i){i.each(function(){b.drawBound(i,B,D);boxNumber=1,boxGroupNumber=s.length,I=8*(E.rangeBand())/(9*boxNumber+7);var j=w=d3.select(this);j.selectAll('g.box').remove();if(H==null){H=j.append('rect').attr('width',E.rangeBand()-I/2).attr('height',D).style('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{H.attr('width',E.rangeBand()-I/2).attr('height',D).style('visibility','hidden')}var k=j.selectAll('g.box').data(s);k.enter().append('g');k.attr('class','box').each(function(m,n){if(m.length==0){q.push({});return}m=m.sort(function(d,x){return d.val-x.val});var _=m.length,y1=m[0],z1=m[_-1];l1(m);var A1=d3.select(this).selectAll('circle.outliers').data(d1);A1.enter().append('circle');A1.attr('cx',function(d){var x=E(n)+I;return x}).attr('cy',function(d,x){var y=F(d.val);return y}).attr('r','2').attr('stroke',P.register({drawingEffect:'normal',fillColor:W.color})).attr('stroke-width',W.width).attr('fill','none').attr('class','datapoint outliers');A1.exit().remove();var B1=d3.select(this).selectAll('rect.quartile').data(c1);B1.enter().append('rect');B1.attr('x',function(d){var x=E(n)+I/2;return x}).attr('y',function(d,x){var y=F(d.pair[0].val);return y}).attr('width',I).attr('height',function(d,x){var D=0;var y=d.pair[1].val-d.pair[0].val;if(y==0){D=1}else{D=F(d.pair[1].val)-F(d.pair[0].val)}return D}).attr('shape-rendering','crispEdges').attr('fill',function(d){var x={drawingEffect:Q,fillColor:v[n%v.length],direction:'horizontal'};return P.register(x)}).attr('stroke-width',X.width).attr('class','datapoint quartile');if(c1.length==2){var C1=E(n)+I/2;var D1=C1+I;var E1=midLineYEnd=F(c1[0].midLine.val);var F1=d3.select(this);F1.append('line').attr('x1',C1).attr('y1',E1).attr('x2',D1).attr('y2',midLineYEnd).attr('stroke','#ffffff').attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','midline')}B1.exit().remove();var G1=0,H1=0,I1=0,J1=0;var K1=0,L1=0,M1=0,N1=0;var O1=d3.select(this).selectAll('rect.rectlowwhisker').data(a1);O1.enter().append('rect');O1.attr('x',function(d){var x=E(n)+I/2;K1=x;M1=x+I;G1=I1=x+I/2;return x}).attr('y',function(d){var x=d.pair;var y=F(x[0].val);H1=y;L1=N1=F(x[1].val);return y}).attr('width',I).attr('height',function(x){var D=F(x.pair[1].val)-F(x.pair[0].val);J1=F(x.pair[1].val);var F1=d3.select(this.parentNode);F1.append('line').attr('x1',G1).attr('y1',H1).attr('x2',I1).attr('y2',J1).attr('stroke',P.register({drawingEffect:'normal',fillColor:'#000000'})).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','lineverticallowwhisker');var F1=d3.select(this.parentNode);F1.append('line').attr('x1',K1).attr('y1',L1).attr('x2',M1).attr('y2',N1).attr('stroke',function(d){var y={drawingEffect:'normal',fillColor:v[n%v.length]};return P.register(y)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','linehorizontallowwhisker');return D}).attr('shape-rendering','crispEdges').attr('fill-opacity','0').attr('stroke-width','0').attr('class','datapoint rectlowwhisker');O1.exit().remove();var G1=0,H1=0,I1=0,J1=0;var K1=0,L1=0,M1=0,N1=0;var O1=d3.select(this).selectAll('rect.recthighwhisker').data(b1);O1.enter().append('rect');O1.attr('x',function(d){var x=E(n)+I/2;K1=x;M1=x+I;G1=I1=x+I/2;return x}).attr('y',function(d,x){var P1=d.pair;var y=F(P1[0].val);H1=y;L1=N1=F(P1[0].val);return y}).attr('width',I).attr('height',function($,x){var D=F($.pair[1].val)-F($.pair[0].val);J1=H1+D;var F1=d3.select(this.parentNode);F1.append('line').attr('x1',G1).attr('y1',H1).attr('x2',I1).attr('y2',J1).attr('stroke',P.register({drawingEffect:'normal',fillColor:'#000000'})).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','lineverticalhighwhisker');var F1=d3.select(this.parentNode);F1.append('line').attr('x1',K1).attr('y1',L1).attr('x2',M1).attr('y2',N1).attr('stroke',function(d){var y={drawingEffect:'normal',fillColor:v[n%v.length]};return P.register(y)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','linehorizontalhighwhisker');return D}).attr('shape-rendering','crispEdges').attr('fill-opacity','0').attr('stroke-width','0').attr('class','datapoint recthighwhisker');O1.exit().remove();h1();V.initialized()});k.exit().remove()});return m1};m1.width=function(d){if(!arguments.length){return B}B=d;if(T.isExist(B)&&T.isExist(D)&&T.isExist(s)){e1()}return m1};m1.height=function(d){if(!arguments.length){return D}D=d;if(T.isExist(B)&&T.isExist(D)&&T.isExist(s)){e1()}return m1};var n1=function(_){if(_===null||_===undefined){return R}else{return _}};function o1(d){var j={'body':[],'footer':[]},k=0;if(r){var m={'name':null,'val':[]};k=d%r.length;m.name=r[k].name;if(r[k].label!=null&&r[k].shape!=null&&v[k]!=null){var n={'shape':null,'color':null,'label':null,'value':null};n.shape=r[k].shape;n.color=v[k];n.label=r[k].label;m.val.push(n)}if(q){if(q[d]){for(var i in q[d]){var n={'shape':null,'color':null,'label':null,'value':null};n.label=i;if(q[d][i]){if(i=='outLiers(s)'){n.value=q[d][i]}else{n.value=q[d][i].val}}m.val.push(n)}}}j.body.push(m)}if(p){k=Math.floor(d/r.length);for(var i=0;i<p.length;i++){if(p[i].rows.length>0){var x={'label':null,'value':null};x.label=p[i].col;x.value=p[i].rows[k];j.footer.push(x)}}}return j}function p1(){if(A){for(var i in A){p=A[i].values}}if(o){var d=o.values;if(d.length>1){if(d[0].type=='MND'){for(var j=0;j<d[0].rows.length;j++){for(var m=0;m<d[1].rows.length;m++){var x={'name':null,'shape':null,'color':null,'label':null};x.name=d[0].rows[j];var y=[];for(var n=1;n<d.length;n++){y.push(d[n].rows[m])}x.label=y;r.push(x)}}}else if(d[d.length-1].type=='MND'){for(var m=0;m<d[0].rows.length;m++){var y=[];for(var n=0;n<d.length-1;n++){y.push(d[n].rows[m])}for(var j=0;j<d[d.length-1].rows.length;j++){var x={'name':null,'shape':null,'color':null,'label':null};x.label=y;x.name=d[d.length-1].rows[j];r.push(x)}}}}else{for(var m=0;m<d[0].rows.length;m++){var x={'name':null,'shape':null,'color':null,'label':null};x.name=d[0].rows[m];r.push(x)}}}for(var k=0;k<r.length;k++){r[k].shape='squareWithRadius'}}function q1(d,i,k){if(d){var m=d.getAttribute('class');if(m.indexOf('recthighwhisker')==-1&&m.indexOf('rectlowwhisker')==-1&&m.indexOf('linehorizontalhighwhisker')==-1&&m.indexOf('lineverticalhighwhisker')==-1&&m.indexOf('linehorizontallowwhisker')==-1&&m.indexOf('lineverticallowwhisker')==-1){d.setAttribute(i,k)}else if(m.indexOf('recthighwhisker')!=-1){var n=d.parentNode.querySelectorAll('line');if(n){for(var j=0,x=n.length;j<x;j++){var y=n[j].getAttribute('class');if(y.indexOf('linehorizontalhighwhisker')!=-1||y.indexOf('lineverticalhighwhisker')!=-1){n[j].setAttribute(i,k)}}}}else if(m.indexOf('rectlowwhisker')!=-1){var n=d.parentNode.querySelectorAll('line');if(n){for(var j=0,x=n.length;j<x;j++){var y=n[j].getAttribute('class');if(y.indexOf('linehorizontallowwhisker')!=-1||y.indexOf('lineverticallowwhisker')!=-1){n[j].setAttribute(i,k)}}}}}}m1.parent=function(){return w};m1.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){var k=d[i];q1(k,'opacity',1)}}else{q1(d,'opacity',1)}};m1.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){var k=d[i];q1(k,'opacity',0.2)}}else{q1(d,'opacity',0.2)}};m1.clear=function(d){if(d==null){w.selectAll('.datapoint').attr('opacity',1);w.selectAll('.lineverticallowwhisker').attr('opacity',1);w.selectAll('.lineverticalhighwhisker').attr('opacity',1);w.selectAll('.linehorizontallowwhisker').attr('opacity',1);w.selectAll('.linehorizontalhighwhisker').attr('opacity',1)}else{w.selectAll('.datapoint').attr('opacity',0.2);w.selectAll('.lineverticallowwhisker').attr('opacity',0.2);w.selectAll('.lineverticalhighwhisker').attr('opacity',0.2);w.selectAll('.linehorizontallowwhisker').attr('opacity',0.2);w.selectAll('.linehorizontalhighwhisker').attr('opacity',0.2)}w.selectAll('.recthighwhisker').attr('opacity',0);w.selectAll('.rectlowwhisker').attr('opacity',0)};m1.hoverOnPoint=function(d){var x=d.x,y=d.y;var i=-1;while(i<s.length){if(Math.abs(x-E.rangeBand()*i-0.5*E.rangeBand())<=0.5*E.rangeBand()){break}i++}if(i>(s.length-1)||i<0){H.style('visibility','hidden');return}H.attr('x',E.rangeBand()*i+I/4).style('visibility','visible');if(J!==i){if(K){J=i;var j=w[0][0].getTransformToElement(w[0][0].ownerSVGElement);var k=j.e;var m=o1(i);m.point={x:E.rangeBand()*i+0.5*E.rangeBand()+k,y:d3.event.layerY};m.plotArea={x:j.e,y:j.f,width:B,height:D};V.showTooltip(t.formatTooltipData(m))}}};m1.blurOut=function(){H.style('visibility','hidden');J=null;if(K){V.hideTooltip()}};function r1(d,i,j,k,m){if(d&&i<=j&&j<d.length){var n=subEnd=pos=i;while(pos<=j){while(((pos+1)<=j)&&(d[pos+1].val==d[pos].val)){subEnd++;pos++}k.push({'val':d[n],'parentGroupIndex':m,'start':n,'end':subEnd});pos++;n=subEnd=pos}}}function s1(d){var j=[];if(d){var m=g.length;var k=m>0?g[m-1].val:null;if(k){for(var i=0,n=k.length;i<n;i++){var x=k[i];var y=x.start;var _=x.end;r1(d,y,_,j,i)}}else{r1(d,0,d.length-1,j,null)}}return j}function t1(d){if(d){var j=d.getAnalysisAxisDataByIdx(0);o=d.getAnalysisAxisDataByIdx(1);if(j){var k=j.values.length;if(k==1){g.push({'col':j.values[0].col.val,'val':[]})}else{for(var i=0;i<k-1;i++){var m=j.values[i].rows;g.push({'col':j.values[i].col.val,'val':s1(m)})}}}}}function u1(d,i){var j=g.length,n=0,k=0,m=g[j-1].val;while(m[k].start!=d){k++}while(m[k].end!=i){n++;k++}n++;return n}function v1(){if(g){var d=g.length,n=null;n=g[d-1].val;if(n.length==0){h.push(0);h.push(1)}else{for(var i=0,x=n.length;i<x;i++){h.push(i)}}if(n.length==0){A['sap.viz.modules.verticalboxplot.dimension'].values=[{'col':{'val':g[d-1].col},'rows':[]}]}else{var y=[];for(var j=0;j<d;j++){var _={'col':{'val':''},'rows':[]};_.col.val=g[j].col;var y1=g[j].val;for(var k=0,z1=y1.length;k<z1;k++){var A1=y1[k].start,B1=y1[k].end,C1=u1(A1,B1);for(var m=0;m<C1;m++){_.rows.push({'val':n1(y1[k].val.val),'info':y1[k].val.info})}}y.push(_)}A['sap.viz.modules.verticalboxplot.dimension'].values=y}}}function w1(d){v=[];if(u.length>0){for(var i=0;i<d;++i){v.push(u[i%u.length])}}}function x1(){K=U.tooltip.enabled;u=U.colorPalette;Q=U.drawingEffect}m1.data=function(d){if(!arguments.length){return z}i1();x1();z=d;var k=M(z);t1(z);dataMG1=k["MG1"];var n=dataMG1.length;var x=g[g.length-1].val;if(x.length!=0){for(var i=0,y=x.length;i<y;i++){var _=x[i].start,y1=x[i].end;for(var j=0;j<n;j++){var z1=[],A1=_,B1=y1;for(;A1<=B1;A1++){if(!N.isNoValue(dataMG1[j][A1].val))z1.push(dataMG1[j][A1])}s.push(z1)}}}else{for(var j=0;j<n;j++){var z1=[];for(var m=0;m<dataMG1[j].length;m++){if(!N.isNoValue(dataMG1[j][m].val)){z1.push(dataMG1[j][m])}}s.push(z1)}}f1(s);v1();if(T.isExist(B)&&T.isExist(D)){e1()}p1();w1(r.length);return m1};m1.primaryAxisTitle=function(_){if(!arguments.length){var d=z.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join('/')}return this};m1.secondAxisTitle=function(_){if(!arguments.length){var d=z.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join('/')}return this};m1.properties=function(d){if(!arguments.length){return U}O.extend(true,U,d);x1();w1(r.length);return m1};m1.categoryScale=function(d){if(!arguments.length){return G}G=d;return m1};m1.primaryScale=function(d){if(!arguments.length){return F}F=d;return m1};m1.colorPalette=function(d){if(!arguments.length){return u}u=d;return m1};m1.dispatch=function(_){if(!arguments.length)return V;V=_;return this};U=e.props(null);return m1};return c});sap.riv.module({qname:'sap.viz.modules.manifests.xy.VerticalBoxplot',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.verticalboxplot',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.verticalboxplot','name':'vertical boxplot',base:"sap.viz.modules.xy.base",'properties':{'primaryValuesColorPalette':null,'secondaryValuesColorPalette':null,'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'}},'feeds':{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.VerticalBoxplotChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBoxplot',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/boxplot',name:'IDS_VERTICALBOXPLOTCHART',base:'riv/baseverticalchart',modules:{tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'verticalboxplot',orientation:'left'}}},main:{modules:{dataLabel:null,xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isIndependentMode:true}}},plot:{id:'sap.viz.modules.verticalboxplot',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}}}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'independentData',sourceModule:'main.plot',source:'dimensionData'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.modules.combination',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(c,M,C,e,T,O,f,g,S,N,h,l,B){var k=function(o,p){function q(a){B.drawBound(a,w,x);u=g();a.each(function(i){if(i!==undefined){P(i)}E=d3.select(this);V()});return q}q.afterUIComponentAppear=function(){v.initialized()};q.width=function(_){if(!arguments.length){return w}w=_;if(T.isExist(w)&&T.isExist(x)&&T.isExist(A)){X()}return q};q.height=function(_){if(!arguments.length){return x}x=_;if(T.isExist(w)&&T.isExist(x)&&T.isExist(A)){X()}return q};q.size=function(_){if(!arguments.length){return{width:w,height:x}}w=_.width;x=_.height;if(T.isExist(w)&&T.isExist(x)&&T.isExist(A)){X()}return q};q.properties=function(_){if(!arguments.length){return Z()}$(h.extend(true,Z(),_));P(A,true);return q};q.dataLabel=function(_){};q.data=function(_){if(!arguments.length){return A}P(_);return q};q.primaryAxisTitle=function(_){if(!arguments.length){var a=A.getMeasureValuesGroupDataByIdx(0),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(l.get('IDS_ISNOVALUE'))}}}return b.join('/')}return this};q.secondAxisTitle=function(_){if(!arguments.length){var a=A.getMeasureValuesGroupDataByIdx(1),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(l.get('IDS_ISNOVALUE'))}}}return b.join('/')}return this};q.dispatch=function(_){if(!arguments.length){return v}v=_;return q};q.primaryScale=function(a){if(!arguments.length){return s.scale}s.scale=a;return q};q.secondaryScale=function(a){if(!arguments.length){return t.scale}t.scale=a;return q};q.categoryScale=function(a){if(!arguments.length){return r}r=a;return q};q.primaryDataRange=function(a){if(!arguments.length){return{min:s.scale.domain()[0],max:s.scale.domain()[1]}}if(a!==null){s.topValue=a.max;s.bottomValue=a.min;if(a.from==='axis'){s.manualRange=true}if(T.isExist(w)&&T.isExist(x)){Y(s,s.scale)}}return q};q.secondDataRange=function(a){if(!arguments.length){return{min:t.scale.domain()[0],max:t.scale.domain()[1]}}if(a!==null){t.topValue=a.max;t.bottomValue=a.min;if(a.from==='axis'){t.manualRange=true}if(T.isExist(w)&&T.isExist(x)){Y(t,t.scale)}}return q};q.primaryAxisColor=function(){if(!y.MNDOnCategory){return y.primaryValuesColorPalette[0]}else{return null}};q.secondAxisColor=function(){if(!y.MNDOnCategory){return y.secondaryValuesColorPalette[0]}else{return null}};q.colorPalette=function(a){if(!arguments.length){return F}return q};q.shapePalette=function(a){if(!arguments.length){return G}return q};q.parent=function(){return E};q.clear=function(a){for(var i in H){if(a===undefined){H[i].module.clear()}else{H[i].module.clear('grayall')}}};q.highlight=function(a){var i,j;var b;if(a instanceof Array){b=a}else{b=[];b.push(a)}if(b.length===0){return}for(i in H){if(H.hasOwnProperty(i)){H[i].highlightArray=[]}}for(i=0;i<b.length;i++){var d=b[i];for(j in H){if(H.hasOwnProperty(j)){var m=H[j].dataPointElements;if(c1(m,d)){H[j].highlightArray.push(d);break}}}}for(i in H){if(H.hasOwnProperty(i)){H[i].module.highlight(H[i].highlightArray)}}};q.unhighlight=function(a){var i,j;var b;if(a instanceof Array){b=a}else{b=[];b.push(a)}for(i in H){if(H.hasOwnProperty(i)){H[i].unhighlightArray=[]}}for(i=0;i<b.length;i++){var d=b[i];for(j in H){if(H.hasOwnProperty(j)){var m=H[j].dataPointElements;if(c1(m,d)){H[j].unhighlightArray.push(d);break}}}}for(i in H){if(H.hasOwnProperty(i)){H[i].module.unhighlight(H[i].unhighlightArray)}}};q.hoverOnPoint=function(a){var i;if(y.tooltip.enabled){var b=a.x,d=a.y;if(b<0||b>w){return}var j=W(b);if(I===j){return}I=j;var m=u.generateTooltipData(A,D,j,F,G);var n=E.node().getTransformToElement(E.node().ownerSVGElement);m.point={x:r.rangeBand()*(j+0.5)+n.e,y:x/4+n.f};v.showTooltip(g.formatTooltipData(m))}for(i in H){if(H.hasOwnProperty(i)){H[i].module.hoverOnPoint(a)}}return true};q.blurOut=function(){var i;if(y.tooltip.enabled){v.hideTooltip();I=-1}for(i in H){if(H.hasOwnProperty(i)){H[i].module.blurOut()}}return true};var r=d3.scale.ordinal(),s={scale:d3.scale.linear()},t={scale:d3.scale.linear()};var u;var v=new c('showTooltip','hideTooltip','initialized','startToInit');var w,x;var y={priorityMap:{'bar':5,'line':0},defaultShape:'line',MNDOnCategory:false,MNDInner:false};var z=p.effectManager;var A,D;var E;var F,G;var H;var I=-1;var J=function(_){this.mtype=_};J.prototype.initialized=function(){K.initialized(this.mtype)};J.prototype.startToInit=function(){v.startToInit()};var K={initialized:function(m){var i;if(H[m]){H[m].isCompleteAnimation=true}for(i in H){if(!H[i].isCompleteAnimation){return true}}v.initialized();return true}};function L(){H={}}function P(a,b){var i,j,m,d;if((a===null)||(a===undefined)||(!b&&(A===a))){return}L();A=a;var n=e(A);y.MNDInner=n.MNDInner;s.data=n['MG1'];t.data=n['MG2'];D=g.dataTransform(n);if(n.color){var _=n['MG1'];var e1=[];var f1=[];for(i=0;i<_.length;i++){var g1=[];var h1=[];var i1=_[i];for(j=0;j<i1.length;j++){if(n.color[j]===0){g1.push(i1[j])}else if(n.color[j]===1){h1.push(i1[j])}}e1.push(g1);f1.push(h1)}s.data=e1;t.data=f1}if(T.isExist(w)&&T.isExist(x)&&T.isExist(A)){X()}if(n.hasMND&&!n.MNDOnColor){m=y.dataShape.primaryAxis[0];if(m===undefined){m=y.defaultShape}if(H[m]===undefined){H[m]={}}H[m].data=A;y.MNDOnCategory=true}else{y.MNDOnCategory=false;var j1=A.getAnalysisAxisDataByIdx(0);var k1=A.getAnalysisAxisDataByIdx(1);var l1=A.getMeasureValuesGroupDataByIdx(0);var m1=A.getMeasureValuesGroupDataByIdx(1);for(i=0;i<l1.values.length;i++){m=y.dataShape.primaryAxis[i];if(m===undefined){m=y.defaultShape}if(H[m]===undefined){H[m]={m1Num:0,m2Num:0}}d=H[m];d.m1Num++;if(d.data===undefined){d.data=new f();d.data.addAnalysisAxis(j1);d.data.addAnalysisAxis(k1);d.data.addMeasureValuesGroup({index:l1.index,values:[]});if(m1){d.data.addMeasureValuesGroup({index:m1.index,values:[]})}}var n1=d.data.getMeasureValuesGroupDataByIdx(0);n1.values.push(l1.values[i])}if(m1){for(i=0;i<m1.values.length;i++){m=y.dataShape.secondAxis[i];if(m===undefined){m=y.defaultShape}if(H[m]===undefined){H[m]={m1Num:0,m2Num:0}}d=H[m];d.m2Num++;if(d.data===undefined){d.data=new f();d.data.addAnalysisAxis(j1);d.data.addAnalysisAxis(k1);d.data.addMeasureValuesGroup({index:l1.index,values:[]});if(m1){d.data.addMeasureValuesGroup({index:m1.index,values:[]})}}var o1=d.data.getMeasureValuesGroupDataByIdx(1);o1.values.push(m1.values[i])}}}Q()}function Q(){var i,j,a,m,b;if(A===undefined){return}var d=A.getMeasureValuesGroupDataByIdx(0);var n=A.getMeasureValuesGroupDataByIdx(1);var _;var e1;if(n&&!y.MNDOnCategory){_=y.primaryValuesColorPalette}else{_=y.colorPalette}e1=y.secondaryValuesColorPalette;F=[];G=[];for(i in H){if(H.hasOwnProperty(i)){H[i].colorPaletteY1=[];H[i].currentM1Index=-1;if(n){H[i].colorPaletteY2=[];H[i].currentM2Index=-1}}}if(y.MNDOnCategory){m=y.dataShape.primaryAxis[0];var f1=d.values[0].rows.length;for(j=0;j<f1;j++){H[m].colorPaletteY1.push(_[(j)%_.length]);G.push(b1(m));F.push(_[(j)%_.length])}}else{var g1=d.values.length;var h1=0;if(n){h1=n.values.length}var i1=g1+h1;var j1=d.values[0].rows.length;for(i=0;i<g1;i++){m=y.dataShape.primaryAxis[i];if(m===undefined){m=y.defaultShape}b=H[m];b.currentM1Index++;for(j=0;j<j1;j++){if(y.MNDInner){a=_[(i+j*g1)%_.length];b.colorPaletteY1[b.currentM1Index+j*b.m1Num]=a;G[i+j*i1]=b1(m);F[i+j*i1]=a}else{a=_[(i*j1+j)%_.length];H[m].colorPaletteY1.push(a);G.push(b1(m));F.push(a)}}}if(n){for(i=0;i<h1;i++){m=y.dataShape.secondAxis[i];if(m===undefined){m=y.defaultShape}b=H[m];b.currentM2Index++;for(j=0;j<j1;j++){if(y.MNDInner){a=e1[(i+j*h1)%e1.length];b.colorPaletteY2[b.currentM2Index+j*b.m2Num]=a;G[g1+i+j*i1]=b1(m);F[g1+i+j*i1]=a}else{a=e1[(i*j1+j)%e1.length];H[m].colorPaletteY2.push(a);G.push(b1(m));F.push(a)}}}}}}function R(a,b){return(y.priorityMap[b]-y.priorityMap[a])}function U(){var a=[],i;for(i in H){if(H.hasOwnProperty(i)){a.push(i)}}a.sort(R);E.selectAll('.module').remove();var b=E.selectAll('.module').data(a);b.enter().append('svg:g').attr('class','module');b.exit().remove();b.each(function(d){H[d].d3root=d3.select(this)});for(i in H){if(H.hasOwnProperty(i)){H[i].module=a1(i);var j={colorPalette:H[i].colorPaletteY1,primaryValuesColorPalette:H[i].colorPaletteY1,tooltip:{enabled:false},animation:{'dataLoading':y.animation.dataLoading},drawingEffect:y.drawingEffect};if(H[i].colorPaletteY2){j.secondaryValuesColorPalette=H[i].colorPaletteY2}switch(i){case'line':j.hoverline={visible:false};O.extend(j,y.line);break;case'bar':j.animation.dataUpdating=y.animation.dataLoading;O.extend(j,y.bar);break;default:break}H[i].props=j;H[i].module.dispatch(new J(i))}}}function V(){var i;U();for(i in H){if(H.hasOwnProperty(i)){var m=H[i];m.module.width(w).height(x).data(m.data).properties(m.props).primaryScale(s.scale).categoryScale(r);var d=A.getMeasureValuesGroupDataByIdx(1);if(d){switch(i){case'bar':m.module.secondScale(t.scale);break;case'line':m.module.secondaryScale(t.scale);break;default:break}}m.d3root.call(m.module);m.dataPointElements=[];m.d3root.selectAll('.datapoint').each(function(){m.dataPointElements.push(this)})}}}function W(a){var i=a/r.rangeBand();i=Math.floor(i);return i}function X(){var d=[];var a=0;if(y.MNDOnCategory){if(s.data&&s.data.length>0){a+=s.data[0].length}if(t.data&&t.data.length>0){a+=t.data[0].length}}else{if(s.data&&s.data.length>0){a=s.data[0].length}else{a=t.data[0].length}}for(var i=0;i<a;i++){d.push(i)}r.domain(d).rangeBands([0,w]);Y(s,s.scale);Y(t,t.scale);if(s.data&&s.data.length>0&&t.data&&t.data.length>0){if(s.scale.domain().length===0&&t.scale.domain().length===0){s.scale.domain([0,1]).range([x,0]);t.scale.domain([0,1]).range([x,0])}else if(s.scale.domain().length===0&&t.scale.domain().length!==0){s.scale.domain(t.scale.domain()).range(t.scale.range())}else if(s.scale.domain().length!==0&&t.scale.domain().length===0){t.scale.domain(s.scale.domain()).range(s.scale.range())}if(!s.manualRange&&!t.manualRange){S.perfectDual(s.scale,t.scale)}else if(!s.manualRange){S.perfect(s.scale)}else if(!t.manualRange){S.perfect(t.scale)}}else if(s.data&&s.data.length>0&&!s.manualRange){if(s.scale.domain().length===0){s.scale.domain([0,1]).range([x,0])}S.perfect(s.scale)}else if(t.data&&t.data.length>0&&!t.manualRange){if(t.scale.domain().length===0){t.scale.domain([0,1]).range([x,0])}S.perfect(t.scale)}}function Y(a,b){if(a.data&&a.data.length>0){if(a.topValue===undefined){var m=d1(a);if(!m||(m.min===0&&m.max===0)){b.domain([]).range([])}else{b.domain([m.min,m.max]).range([x,0])}}else{b.domain([a.bottomValue,a.topValue]).range([x,0])}}else{b.domain([0,0]).range(0,0)}}function Z(){var a={};a.tooltip={enabled:y.tooltip.enabled};a.primaryValuesColorPalette=y.primaryValuesColorPalette;a.secondaryValuesColorPalette=y.secondaryValuesColorPalette;a.colorPalette=y.colorPalette;a.drawingEffect=y.drawingEffect;a.animation={'dataLoading':y.animation.dataLoading};a.dataShape={};O.extend(true,a.dataShape,y.dataShape);a.bar={};O.extend(true,a.bar,y.bar);a.line={};O.extend(true,a.line,y.line);return a}function $(a){y.tooltip={enabled:a.tooltip.enabled};y.primaryValuesColorPalette=a.primaryValuesColorPalette;y.secondaryValuesColorPalette=a.secondaryValuesColorPalette;y.drawingEffect=a.drawingEffect;y.colorPalette=a.colorPalette;y.animation={dataLoading:a.animation.dataLoading};y.dataShape={};O.extend(true,y.dataShape,a.dataShape);y.bar={};O.extend(true,y.bar,a.bar);y.line={};O.extend(true,y.line,a.line);return y}function a1(m){var a;switch(m){case'bar':a=M.module.get("sap.viz.modules.verticalbar");break;case'line':a=M.module.get("sap.viz.modules.line");break;default:break}return a.fn(a,p)}function b1(m){var a;switch(m){case'line':a=y.line.marker.shape;break;case'bar':a='squareWithRadius';break;default:break}return a}function c1(a,b){for(var n=0;n<a.length;n++){if(a[n]===b){return true}}return false}function d1(a){if(!a.data||a.data.length===0){return null}var m={min:null,max:null};m.max=d3.max(a.data,function(d){return d3.max(d,function(_){return _.val})});m.min=d3.min(a.data,function(d){return d3.min(d,function(_){return _.val})});if(N.isNoValue(m.max)){return null}if(m.min>=0){m.min=0;m.max+=m.max*5/x}else if(m.max<=0){m.max=0;m.min+=m.min*5/x}else{var b=(m.max-m.min)*5/x;m.min-=b;m.max+=b}return m}$(o.props(null));return q};return k});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Combination',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.combination',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M,C,f){var m={base:"sap.viz.modules.xy.base",'id':'sap.viz.modules.combination','name':'combination','properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled data loading animation of plot area.'}},'description':'Settings for animation of plot area.'},'dataShape':{'name':'dataShape','supportedValueType':'Object','supportedValues':{'primaryAxis':{'name':'primaryAxis','supportedValueType':'StringArray','supportedValues':['bar','line'],'defaultValue':['bar','line','line'],'description':'Set shape of measure index1 data.'},'secondAxis':{'name':'secondAxis','supportedValueType':'StringArray','supportedValues':['line','line'],'defaultValue':['line','line','line'],'description':'Set shape of measure index2 data.','isExported':false}},'description':'Set shape of measure data.'},'bar':{'name':'bar','supportedValueType':'Object','supportedValues':{'isRoundCorner':{'name':'isRoundCorner','supportedValueType':'Boolean','defaultValue':false,'description':'Set enable/disable round corner of bar.'}},'description':'Settings for bar properties.'},'line':{'name':'line','supportedValueType':'Object','supportedValues':{'width':{'name':'width','supportedValueType':'PositiveInt','defaultValue':2,'description':'Set width of line, range[1,7]. When beyond the range, the line width is default size 2.'},'marker':{'name':'marker','description':'Set marker/data point graphics settings.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set to show marker or not.'},'shape':{'name':'shape','supportedValueType':'StringArray','supportedValues':['circle','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'],'defaultValue':'circle','description':'Set marker shapes for chart.'},'size':{'name':'size','supportedValueType':'PositiveInt','defaultValue':"6",'min':'4','max':'32','description':'Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 6.'}}}},'description':'Settings for line properties.'}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.horizontalcombination',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(c,M,C,e,T,O,f,g,S,N,h,l,B){var k=function(o,p){function q(a){u=g();B.drawBound(a,w,x);a.each(function(i){if(i!==undefined){P(i)}E=d3.select(this);V()});return q}q.width=function(_){if(!arguments.length){return w}w=_;if(T.isExist(w)&&T.isExist(x)&&T.isExist(A)){X()}return q};q.height=function(_){if(!arguments.length){return x}x=_;if(T.isExist(w)&&T.isExist(x)&&T.isExist(A)){X()}return q};q.afterUIComponentAppear=function(){v.initialized()};q.size=function(_){if(!arguments.length){return{width:w,height:x}}w=_.width;x=_.height;if(T.isExist(w)&&T.isExist(x)&&T.isExist(A)){X()}return q};q.properties=function(_){if(!arguments.length){return Z()}$(h.extend(true,Z(),_));P(A,true);return q};q.dataLabel=function(_){};q.data=function(_){if(!arguments.length){return A}P(_);return q};q.primaryAxisTitle=function(_){if(!arguments.length){var a=A.getMeasureValuesGroupDataByIdx(0),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(l.get('IDS_ISNOVALUE'))}}}return b.join('/')}return this};q.secondAxisTitle=function(_){if(!arguments.length){var a=A.getMeasureValuesGroupDataByIdx(1),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(l.get('IDS_ISNOVALUE'))}}}return b.join('/')}return this};q.dispatch=function(_){if(!arguments.length){return v}v=_;return q};q.primaryScale=function(a){if(!arguments.length){return s.scale}s.scale=a;return q};q.secondaryScale=function(a){if(!arguments.length){return t.scale}t.scale=a;return q};q.categoryScale=function(a){if(!arguments.length){return r}r=a;return q};q.primaryDataRange=function(a){if(!arguments.length){return{min:s.scale.domain()[0],max:s.scale.domain()[1]}}if(a!==null){s.topValue=a.max;s.bottomValue=a.min;if(a.from==='axis'){s.manualRange=true}if(T.isExist(w)&&T.isExist(x)){Y(s,s.scale)}}return q};q.secondDataRange=function(a){if(!arguments.length){return{min:t.scale.domain()[0],max:t.scale.domain()[1]}}if(a!==null){t.topValue=a.max;t.bottomValue=a.min;if(a.from==='axis'){t.manualRange=true}if(T.isExist(w)&&T.isExist(x)){Y(t,t.scale)}}return q};q.primaryAxisColor=function(){if(!y.MNDOnCategory){return y.primaryValuesColorPalette[0]}else{return null}};q.secondAxisColor=function(){if(!y.MNDOnCategory){return y.secondaryValuesColorPalette[0]}else{return null}};q.colorPalette=function(a){if(!arguments.length){return F}return q};q.shapePalette=function(a){if(!arguments.length){return G}return q};q.parent=function(){return E};q.clear=function(a){for(var i in H){if(a===undefined){H[i].module.clear()}else{H[i].module.clear('grayall')}}};q.highlight=function(a){var i,j;var b;if(a instanceof Array){b=a}else{b=[];b.push(a)}if(b.length===0){return}for(i in H){if(H.hasOwnProperty(i)){H[i].highlightArray=[]}}for(i=0;i<b.length;i++){var d=b[i];for(j in H){if(H.hasOwnProperty(j)){var m=H[j].dataPointElements;if(c1(m,d)){H[j].highlightArray.push(d);break}}}}for(i in H){if(H.hasOwnProperty(i)){H[i].module.highlight(H[i].highlightArray)}}};q.unhighlight=function(a){var i,j;var b;if(a instanceof Array){b=a}else{b=[];b.push(a)}for(i in H){if(H.hasOwnProperty(i)){H[i].unhighlightArray=[]}}for(i=0;i<b.length;i++){var d=b[i];for(j in H){if(H.hasOwnProperty(j)){var m=H[j].dataPointElements;if(c1(m,d)){H[j].unhighlightArray.push(d);break}}}}for(i in H){if(H.hasOwnProperty(i)){H[i].module.unhighlight(H[i].unhighlightArray)}}};q.hoverOnPoint=function(a){var i;if(y.tooltip.enabled){var b=a.x,d=a.y;if(d<0||d>x){return}var j=W(d);if(I===j){return}I=j;var m=u.generateTooltipData(A,D,j,F,G);var n=E.node().getTransformToElement(E.node().ownerSVGElement);m.point={y:(x-r.rangeBand()*(j+0.5))+n.f,x:w*3/4+n.e};v.showTooltip(g.formatTooltipData(m))}for(i in H){if(H.hasOwnProperty(i)){H[i].module.hoverOnPoint(a)}}return true};q.blurOut=function(){var i;if(y.tooltip.enabled){v.hideTooltip();I=-1}for(i in H){if(H.hasOwnProperty(i)){H[i].module.blurOut()}}return true};var r=d3.scale.ordinal(),s={scale:d3.scale.linear()},t={scale:d3.scale.linear()};var u;var v=new c('showTooltip','hideTooltip','initialized','startToInit');var w,x;var y={priorityMap:{'bar':5,'line':0},defaultShape:'line',MNDOnCategory:false,MNDInner:false};var z=p.effectManager;var A,D;var E;var F,G;var H;var I=-1;var J=function(_){this.mtype=_};J.prototype.initialized=function(){K.initialized(this.mtype)};J.prototype.startToInit=function(){v.startToInit()};var K={initialized:function(m){var i;if(H[m]){H[m].isCompleteAnimation=true}for(i in H){if(!H[i].isCompleteAnimation){return true}}v.initialized();return true}};function L(){H={}}function P(a,b){var i,j,m,d;if((a===null)||(a===undefined)||(!b&&(A===a))){return}L();A=a;var n=e(A);y.MNDInner=n.MNDInner;s.data=n['MG1'];t.data=n['MG2'];D=g.dataTransform(n);if(n.color){var _=n['MG1'];var e1=[];var f1=[];for(i=0;i<_.length;i++){var g1=[];var h1=[];var i1=_[i];for(j=0;j<i1.length;j++){if(n.color[j]===0){g1.push(i1[j])}else if(n.color[j]===1){h1.push(i1[j])}}e1.push(g1);f1.push(h1)}s.data=e1;t.data=f1}if(T.isExist(w)&&T.isExist(x)&&T.isExist(A)){X()}if(n.hasMND&&!n.MNDOnColor){m=y.dataShape.primaryAxis[0];if(m===undefined){m=y.defaultShape}if(H[m]===undefined){H[m]={}}H[m].data=A;y.MNDOnCategory=true}else{y.MNDOnCategory=false;var j1=A.getAnalysisAxisDataByIdx(0);var k1=A.getAnalysisAxisDataByIdx(1);var l1=A.getMeasureValuesGroupDataByIdx(0);var m1=A.getMeasureValuesGroupDataByIdx(1);for(i=0;i<l1.values.length;i++){m=y.dataShape.primaryAxis[i];if(m===undefined){m=y.defaultShape}if(H[m]===undefined){H[m]={m1Num:0,m2Num:0}}d=H[m];d.m1Num++;if(d.data===undefined){d.data=new f();d.data.addAnalysisAxis(j1);d.data.addAnalysisAxis(k1);d.data.addMeasureValuesGroup({index:l1.index,values:[]});if(m1){d.data.addMeasureValuesGroup({index:m1.index,values:[]})}}var n1=d.data.getMeasureValuesGroupDataByIdx(0);n1.values.push(l1.values[i])}if(m1){for(i=0;i<m1.values.length;i++){m=y.dataShape.secondAxis[i];if(m===undefined){m=y.defaultShape}if(H[m]===undefined){H[m]={m1Num:0,m2Num:0}}d=H[m];d.m2Num++;if(d.data===undefined){d.data=new f();d.data.addAnalysisAxis(j1);d.data.addAnalysisAxis(k1);d.data.addMeasureValuesGroup({index:l1.index,values:[]});if(m1){d.data.addMeasureValuesGroup({index:m1.index,values:[]})}}var o1=d.data.getMeasureValuesGroupDataByIdx(1);o1.values.push(m1.values[i])}}}Q()}function Q(){var i,j,a,m,b;if(A===undefined){return}var d=A.getMeasureValuesGroupDataByIdx(0);var n=A.getMeasureValuesGroupDataByIdx(1);var _;var e1;if(n&&!y.MNDOnCategory){_=y.primaryValuesColorPalette}else{_=y.colorPalette}e1=y.secondaryValuesColorPalette;F=[];G=[];for(i in H){if(H.hasOwnProperty(i)){H[i].colorPaletteY1=[];H[i].currentM1Index=-1;if(n){H[i].colorPaletteY2=[];H[i].currentM2Index=-1}}}if(y.MNDOnCategory){m=y.dataShape.primaryAxis[0];var f1=d.values[0].rows.length;for(j=0;j<f1;j++){H[m].colorPaletteY1.push(_[(j)%_.length]);G.push(b1(m));F.push(_[(j)%_.length])}}else{var g1=d.values.length;var h1=0;if(n){h1=n.values.length}var i1=g1+h1;var j1=d.values[0].rows.length;for(i=0;i<g1;i++){m=y.dataShape.primaryAxis[i];if(m===undefined){m=y.defaultShape}b=H[m];b.currentM1Index++;for(j=0;j<j1;j++){if(y.MNDInner){a=_[(i+j*g1)%_.length];b.colorPaletteY1[b.currentM1Index+j*b.m1Num]=a;G[i+j*i1]=b1(m);F[i+j*i1]=a}else{a=_[(i*j1+j)%_.length];H[m].colorPaletteY1.push(a);G.push(b1(m));F.push(a)}}}if(n){for(i=0;i<h1;i++){m=y.dataShape.secondAxis[i];if(m===undefined){m=y.defaultShape}b=H[m];b.currentM2Index++;for(j=0;j<j1;j++){if(y.MNDInner){a=e1[(i+j*h1)%e1.length];b.colorPaletteY2[b.currentM2Index+j*b.m2Num]=a;G[g1+i+j*i1]=b1(m);F[g1+i+j*i1]=a}else{a=e1[(i*j1+j)%e1.length];H[m].colorPaletteY2.push(a);G.push(b1(m));F.push(a)}}}}}}function R(a,b){return(y.priorityMap[b]-y.priorityMap[a])}function U(){var a=[],i;for(i in H){if(H.hasOwnProperty(i)){a.push(i)}}a.sort(R);E.selectAll('.module').remove();var b=E.selectAll('.module').data(a);b.enter().append('svg:g').attr('class','module');b.exit().remove();b.each(function(d){H[d].d3root=d3.select(this)});for(i in H){if(H.hasOwnProperty(i)){H[i].module=a1(i);var j={colorPalette:H[i].colorPaletteY1,primaryValuesColorPalette:H[i].colorPaletteY1,tooltip:{enabled:false},animation:{'dataLoading':y.animation.dataLoading},drawingEffect:y.drawingEffect};if(H[i].colorPaletteY2){j.secondaryValuesColorPalette=H[i].colorPaletteY2}switch(i){case'line':j.hoverline={visible:false};O.extend(j,y.line);break;case'bar':j.animation.dataUpdating=y.animation.dataLoading;O.extend(j,y.bar);break;default:break}H[i].props=j;H[i].module.dispatch(new J(i))}}}function V(){var i;U();for(i in H){if(H.hasOwnProperty(i)){var m=H[i];m.module.width(w).height(x).data(m.data).properties(m.props).primaryScale(s.scale).categoryScale(r);var d=A.getMeasureValuesGroupDataByIdx(1);if(d){switch(i){case'bar':m.module.secondScale(t.scale);break;case'line':m.module.secondaryScale(t.scale);break;default:break}}m.d3root.call(m.module);m.dataPointElements=[];m.d3root.selectAll('.datapoint').each(function(){m.dataPointElements.push(this)})}}}function W(a){var b=r.domain().length;var i=a/r.rangeBand();i=Math.floor(i);return b-1-i}function X(){var d=[];var a=0;if(y.MNDOnCategory){if(s.data&&s.data.length>0){a+=s.data[0].length}if(t.data&&t.data.length>0){a+=t.data[0].length}}else{if(s.data&&s.data.length>0){a=s.data[0].length}else{a=t.data[0].length}}for(var i=0;i<a;i++){d.push(i)}r.domain(d).rangeBands([x,0]);Y(s,s.scale);Y(t,t.scale);if(s.data&&s.data.length>0&&t.data&&t.data.length>0){if(s.scale.domain().length===0&&t.scale.domain().length===0){s.scale.domain([0,1]).range([0,w]);t.scale.domain([0,1]).range([0,w])}else if(s.scale.domain().length===0&&t.scale.domain().length!==0){s.scale.domain(t.scale.domain()).range(t.scale.range())}else if(s.scale.domain().length!==0&&t.scale.domain().length===0){t.scale.domain(s.scale.domain()).range(s.scale.range())}if(!s.manualRange&&!t.manualRange){S.perfectDual(s.scale,t.scale)}else if(!s.manualRange){S.perfect(s.scale)}else if(!t.manualRange){S.perfect(t.scale)}}else if(s.data&&s.data.length>0&&!s.manualRange){if(s.scale.domain().length===0){s.scale.domain([0,1]).range([0,w])}S.perfect(s.scale)}else if(t.data&&t.data.length>0&&!t.manualRange){if(t.scale.domain().length===0){t.scale.domain([0,1]).range([0,w])}S.perfect(t.scale)}}function Y(a,b){if(a.data&&a.data.length>0){if(a.topValue===undefined){var m=d1(a);if(!m||(m.min===0&&m.max===0)){b.domain([]).range([])}else{b.domain([m.min,m.max]).range([0,w])}}else{b.domain([a.bottomValue,a.topValue]).range([0,w])}}else{b.domain([0,0]).range(0,0)}}function Z(){var a={};a.tooltip={enabled:y.tooltip.enabled};a.primaryValuesColorPalette=y.primaryValuesColorPalette;a.secondaryValuesColorPalette=y.secondaryValuesColorPalette;a.colorPalette=y.colorPalette;a.drawingEffect=y.drawingEffect;a.animation={'dataLoading':y.animation.dataLoading};a.dataShape={};O.extend(true,a.dataShape,y.dataShape);a.bar={};O.extend(true,a.bar,y.bar);a.line={};O.extend(true,a.line,y.line);return a}function $(a){y.tooltip={enabled:a.tooltip.enabled};y.primaryValuesColorPalette=a.primaryValuesColorPalette;y.secondaryValuesColorPalette=a.secondaryValuesColorPalette;y.drawingEffect=a.drawingEffect;y.colorPalette=a.colorPalette;y.animation={dataLoading:a.animation.dataLoading};y.dataShape={};O.extend(true,y.dataShape,a.dataShape);y.bar={};O.extend(true,y.bar,a.bar);y.line={};O.extend(true,y.line,a.line);return y}function a1(m){var a;switch(m){case'bar':a=M.module.get("sap.viz.modules.bar");break;case'line':a=M.module.get("sap.viz.modules.horizontalline");break;default:break}return a.fn(a,p)}function b1(m){var a;switch(m){case'line':a=y.line.marker.shape;break;case'bar':a='squareWithRadius';break;default:break}return a}function c1(a,b){for(var n=0;n<a.length;n++){if(a[n]===b){return true}}return false}function d1(a){if(!a.data||a.data.length===0){return null}var m={min:null,max:null};m.max=d3.max(a.data,function(d){return d3.max(d,function(_){return _.val})});m.min=d3.min(a.data,function(d){return d3.min(d,function(_){return _.val})});if(N.isNoValue(m.max)){return null}if(m.min>=0){m.min=0;m.max+=m.max*5/w}else if(m.max<=0){m.max=0;m.min+=m.min*5/w}else{var b=(m.max-m.min)*5/w;m.min-=b;m.max+=b}return m}$(o.props(null));return q};return k});sap.riv.module({qname:'sap.viz.modules.manifests.xy.HorizontalCombination',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.horizontalcombination',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Combination',version:'4.0.0'}],function Setup(M,f){var m={base:"sap.viz.modules.combination",'id':'sap.viz.modules.horizontalcombination','name':'horizontalcombination',fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.line',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.BoundingBox',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.base.UADetector',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(a,M,T,S,C,B,N,l,D,b,c,R,O,U,e){return function(m,f){var n,o;var p=null,q;var r=R.newId();var t=null;var s;var u="#FFFFFF";var v="#cccccc";var x="#333333";var y=d3.scale.ordinal();var z;var A;var g;var E,F,G;var H=new a('showTooltip','hideTooltip','initialized','startToInit');var I;var J;var K;var L=f.effectManager;var P={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var Q={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var V=[];var W='axis1';var X='axis2';var Y=false;var Z=true;var $=0;var a1;var b1=0.4;function c1(d){e.drawBound(d,n,o);s=b();q1(d);return c1}function d1(h){var i={min:null,max:null};if(!h.data||h.data.length===0){return}i.max=Number(d3.max(h.data,function(d){return d3.max(d,function(_){return _.val})}));i.min=Number(d3.min(h.data,function(d){return d3.min(d,function(_){return _.val})}));if(N.isNoValue(i.max)){return null}if(i.min>=0){i.min=0;i.max+=i.max*5/o}else if(i.max<=0){i.max=0;i.min+=i.min*5/o}else{var j=(i.max-i.min)*5/o;i.min-=j;i.max+=j}return i}function e1(){V=[];var i=0,j=0;if(Q.data&&Q.data.length>0){P.colorPalette=q.primaryValuesColorPalette}else{P.colorPalette=q.colorPalette}Q.colorPalette=q.secondaryValuesColorPalette;if(I&&J&&K){var d=p.getMeasureValuesGroupDataByIdx(0);var h=p.getMeasureValuesGroupDataByIdx(1);var k=0,w=0,_=0,u1=0;if(d&&d.values.length>0){k=d.values.length;u1=d.values[0].rows.length}if(h&&h.values.length>0){w=h.values.length;u1=h.values[0].rows.length}for(i=0;i<u1;i++){for(j=0;j<k;j++){V.push(P.colorPalette[i*k+j%P.colorPalette.length])}for(j=0;j<w;j++){V.push(Q.colorPalette[i*w+j%Q.colorPalette.length])}}}else{for(i=0;i<P.data.length;++i){V.push(P.colorPalette[i%P.colorPalette.length])}if(Q.data&&Q.data.length>0){for(i=0;i<Q.data.length;++i){V.push(Q.colorPalette[i%Q.colorPalette.length])}}}}function f1(d){if(d.data&&d.data.length>0){if(d.topValue===null||d.topValue===undefined){var h=d1(d);if(!h||(h.min===0&&h.max===0)){d.scale.domain([]).range([])}else{d.scale.domain([h.min,h.max]).range([o,0])}}else{d.scale.domain([d.bottomValue,d.topValue]).range([o,0])}}else{d.scale.domain([0,0]).range([0,0])}return d.scale}function g1(){var d=[];var h=0;if(P.data.length!==0){h=P.data[0].length}else{h=Q.data[0].length}for(var i=0;i<h;i++){d.push(i)}y.domain(d).rangeBands([0,n]);f1(P);f1(Q);if(P.data&&P.data.length>0&&Q.data&&Q.data.length>0){if(P.scale.domain().length===0&&Q.scale.domain().length===0){P.scale.domain([0,1]).range([o,0]);Q.scale.domain([0,1]).range([o,0])}else if(P.scale.domain().length===0&&Q.scale.domain().length!==0){P.scale.domain(Q.scale.domain()).range(Q.scale.range())}else if(P.scale.domain().length!==0&&Q.scale.domain().length===0){Q.scale.domain(P.scale.domain()).range(P.scale.range())}if(!P.manualRange&&!Q.manualRange){S.perfectDual(P.scale,Q.scale)}else if(!P.manualRange){S.perfect(P.scale)}else if(!Q.manualRange){S.perfect(Q.scale)}}else if(P.data&&P.data.length>0&&!P.manualRange){if(P.scale.domain().length===0){P.scale.domain([0,1]).range([o,0])}S.perfect(P.scale)}else if(Q.data&&Q.data.length>0&&!Q.manualRange){if(Q.scale.domain().length===0){Q.scale.domain([0,1]).range([o,0])}S.perfect(Q.scale)}}function h1(d,h,i){if(d===undefined||d===null){return}var j=0;for(j=0;j<P.data.length;++j){if(!P.selectedMarkers[j][d]){i1(j,d,i,P);if(!q.marker.visible){if($>0){d3.select(P.markers[j][d]).attr("opacity",b1).attr("visibility",h)}else{d3.select(P.markers[j][d]).attr("opacity",1).attr("visibility",h)}}}}if(!Q.data){return}for(j=0;j<Q.data.length;++j){if(!Q.selectedMarkers[j][d]){i1(j,d,i,Q);if(!q.marker.visible){if($>0){d3.select(Q.markers[j][d]).attr("opacity",b1).attr("visibility",h)}else{d3.select(Q.markers[j][d]).attr("opacity",1).attr("visibility",h)}}}}}function i1(d,h,i,j){d3.select(j.markers[d][h]).attr("stroke",i)}function j1(d){var i=d/y.rangeBand();i=Math.floor(i);var h=0;if(P.data.length!==0){h=P.data[0].length}else{h=Q.data[0].length}if(i>h-1){i=h-1}if(i<0){i=0}return i}function k1(d,h){var k=false,w,_;for(var i=0;i<d.markers.length&&!k;i++){var u1=d.markers[i];for(var j=0;j<u1.length&&!k;j++){if(u1[j]===h){k=true;w=i;_=j}}}if(!k){return false}if(d.selectedMarkers[w][_]){return true}i1(w,_,x,d);d3.select(d.markers[w][_]).attr("opacity",1).attr("visibility","visible");d.selectedMarkers[w][_]=true;if(_>0&&d.selectedMarkers[w][_-1]){d.highLines[w][_-1].attr("visibility","visible")}if(_<d.highLines[0].length&&d.selectedMarkers[w][_+1]){d.highLines[w][_].attr("visibility","visible")}++$}function l1(d,h){var k=A;var w=false,_;for(var i=0;i<d.markers.length&&!w;i++){var u1=d.markers[i];for(var j=0;j<u1.length&&!w;j++){if(u1[j]===h){w=true;_=i;k=j}}}if(!w){return false}if(!d.selectedMarkers[_][k]){return true}if(k===A){i1(_,k,u,d)}else{i1(_,k,q.style.marker.stroke,d)}d3.select(d.markers[_][k]).attr("opacity",b1);if(!q.marker.visible&&k!==A){d3.select(d.markers[_][k]).attr("visibility","hidden")}d.selectedMarkers[_][k]=false;if(k>0&&d.selectedMarkers[_][k-1]){d.highLines[_][k-1].attr("visibility","hidden")}if(k<d.highLines[0].length&&d.selectedMarkers[_][k+1]){d.highLines[_][k].attr("visibility","hidden")}--$}function m1(d){var h={data:[],color:[]};var w=[];var k;var _;for(var i=0;i<d.length;++i){var u1=0;for(var j=0;j<d[i].length;++j){if(N.isNoValue(d[i][j].val)){if(j>u1){w=[];for(k=u1;k<j;k++){_=d[i][k];_.x=k;w.push(_)}h.data.push(w);h.color.push(i)}u1=j+1}}if(u1<d[i].length){w=[];for(k=u1;k<d[i].length;k++){_=d[i][k];_.x=k;w.push(_)}h.data.push(w);h.color.push(i)}}return h}function n1(h,k){if(!h.data||h.data.length===0){return}var w=F.select("g."+k);if(w.empty()){w=F.append("svg:g").attr("class",k)}h.selectedMarkers=new Array(h.data.length);h.markers=[];var _=m1(h.data);var u1=w.selectAll("."+"lines").data(_.data);u1.enter().append("path").attr('class',"lines").attr("stroke-width",q.width).attr("stroke-linejoin","round");u1.exit().remove();u1.attr("stroke-width",q.width);var c1=d3.svg.line().x(function(d,i){return y(d.x)+y.rangeBand()/2}).y(function(d){return h.scale(d.val)});u1.attr("transform",function(d,i){d3.select(this).attr("d",c1(d)).attr("stroke",function(){var j={graphType:"line",fillColor:h.colorPalette[_.color[i]%h.colorPalette.length]};return L.register(j)})});var v1=G.selectAll("g."+k);if(v1.empty()){v1=G.append("svg:g").attr("class",k)}var w1=v1.selectAll("g").data(h.data);w1.enter().append("g");w1.exit().remove();h.highLines=[];w1.attr("transform",function(d,i){d3.select(this).selectAll(".lightLine").remove();h.highLines.push([]);for(var j=1;j<d.length;++j){if(N.isNoValue(d[j].val)||N.isNoValue(d[j-1].val)){h.highLines[i].push(null)}else{h.highLines[i].push(d3.select(this).append("svg:line").attr("class","lightLine").attr("x1",y(j-1)+y.rangeBand()/2).attr("y1",h.scale(d[j-1].val)).attr("x2",y(j)+y.rangeBand()/2).attr("y2",h.scale(d[j].val)).attr("stroke-width",q.width).attr("stroke",h.colorPalette[i%h.colorPalette.length]).attr("visibility","hidden"))}}});for(var x1=0;x1<h.data.length;++x1){h.selectedMarkers[x1]=[];for(var y1=0;y1<h.data[0].length;++y1){h.selectedMarkers[x1][y1]=false}}var z1=E.select("g."+k);if(z1.empty()){z1=E.append("svg:g").attr("class",k)}w1=z1.selectAll("g.marker").data(h.data);w1.enter().append("svg:g").attr("class","marker");w1.exit().remove();var A1="hidden";if(q&&q.marker&&q.marker.visible){A1="visible"}w1.attr("transform",function(d,i){var j=d3.select(this).selectAll(".datashape").data(d);var B1=j.enter().append('g').attr('class','datashape');D.createElements(B1,{shape:q.marker.shape,className:"datapoint"});j.exit().remove();var C1=[];j.attr("transform",function(D1,E1){if(N.isNoValue(D1.val)){d3.select(this).remove();C1.push(null);return}C1.push(d3.select(this).selectAll('path').node());var F1={drawingEffect:q.drawingEffect,graphType:q.marker.shape,fillColor:h.colorPalette[i%h.colorPalette.length],direction:'vertical',rx:q.marker.size/2,ry:q.marker.size/2,borderWidth:2,borderColor:q.style.marker.stroke,node:d3.select(this).select('path'),visibility:A1};D.drawGraph(F1,L);return"translate("+(y(E1)+y.rangeBand()/2)+","+h.scale(D1.val)+")"});h.markers.push(C1)})}function o1(d,h){if($===0||!d.selectedMarkers||d.selectedMarkers.length===0){return}for(var i=0;i<d.selectedMarkers.length;++i){for(var j=0;j<d.selectedMarkers[0].length;++j){if(!d.selectedMarkers[i][j]){continue}if(j===h){i1(i,j,u,d);if(!q.marker.visible){d3.select(d.markers[i][j]).attr("opacity",b1).attr("visibility","visible")}}else{i1(i,j,q.style.marker.stroke,d);if(!q.marker.visible){d3.select(d.markers[i][j]).attr("visibility","hidden")}}d.selectedMarkers[i][j]=false}}}function p1(){var d=(d3.event?d3.event.clientX:0)-g.node().getBoundingClientRect().left;var h=j1(d);o1(P,h);o1(Q,h);$=0}function q1(h){t1();H.startToInit();if(!g){g=h.append("svg:g")}if(!z){z=g.append("svg:line")}z.attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",o).attr("stroke-width",1).attr("stroke",v).attr("visibility","hidden").attr("stroke-linejoin","round");if(!F){F=g.append("svg:g").attr("class","datalines");G=g.append("svg:g").attr("class","lightLines");E=g.append("svg:g").attr("class","markers datashapesgroup")}$=0;r1();if(!a1){a1=g.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+r).append("rect")}a1.attr("x",0).attr("y",0).attr("height",o).attr("width",(Z?0:n));E.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");F.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");G.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");if(Z){Y=true;var i=0;var j=n/50;var k=setInterval(function(d){if(i>=n){clearInterval(k);H.initialized()}else{i+=j;a1.attr("width",i)}},20)}else{H.initialized();a1.attr("width",n)}n1(P,W);n1(Q,X)}function r1(){G.selectAll("g."+W).selectAll(".lightLine").attr("visibility","hidden");G.selectAll("g."+X).selectAll(".lightLine").attr("visibility","hidden");F.attr("opacity",1);if(U.isIE()){F.selectAll(".lines").attr("visibility","visible")}E.selectAll("g."+W).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1);E.selectAll("g."+X).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1)}function s1(){G.selectAll("g."+W).selectAll(".lightLine").attr("visibility","hidden");G.selectAll("g."+X).selectAll(".lightLine").attr("visibility","hidden");F.attr("opacity",b1);if(U.isIE()){F.selectAll(".lines").attr("visibility","visible")}E.selectAll("g."+W).selectAll("g.marker").selectAll(".datapoint").attr("opacity",b1);E.selectAll("g."+X).selectAll("g.marker").selectAll(".datapoint").attr("opacity",b1)}function t1(){if(!q.style){q.style={}}var d;d=f.styleManager.query('viz-plot-background');if(d){if(d['fill']){u=d['fill']}}if(!q.style.marker){q.style.marker={}}q.style.marker.stroke="transparent";d=f.styleManager.query('viz-plot-hoverline');if(d){if(d['stroke']){v=d['stroke']}}};c1.afterUIComponentAppear=function(){H.initialized()};c1.width=function(d){if(!arguments.length){return n}n=d;if(T.isExist(n)&&T.isExist(o)&&T.isExist(p)){g1()}return c1};c1.height=function(d){if(!arguments.length){return o}o=d;if(T.isExist(n)&&T.isExist(o)&&T.isExist(p)){g1()}return c1};c1.properties=function(_){if(!arguments.length){return q}O.extend(true,q,_);if(q.marker.size<4||q.marker.size>32){q.marker.size=6}if(q.width<1||q.width>7){q.width=2}Z=q.animation.dataLoading;t1();e1();return c1};c1.primaryAxisColor=function(){if(Q.data&&Q.data.length>0){return L.register({graphType:"line",fillColor:P.colorPalette[0]})}else{return null}};c1.secondAxisColor=function(){return L.register({graphType:"line",fillColor:Q.colorPalette[0]})};c1.dispatch=function(_){if(!arguments.length){return H}H=_;return c1};c1.data=function(d){if(!arguments.length){return p}p=d;var h=M(p);P.data=h["MG1"];Q.data=h["MG2"];I=h["hasMND"];J=h["MNDOnColor"];K=h["MNDInner"];t=b.dataTransform(h);if(T.isExist(n)&&T.isExist(o)&&T.isExist(p)){g1()}e1();return c1};c1.dataLabel=function(_){};c1.primaryAxisTitle=function(_){if(!arguments.length){var d=p.getMeasureValuesGroupDataByIdx(0),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){h.push(d.values[i].col)}else{h.push(l.get('IDS_ISNOVALUE'))}}}return h.join('/')}return this};c1.secondAxisTitle=function(_){if(!arguments.length){var d=p.getMeasureValuesGroupDataByIdx(1),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){h.push(d.values[i].col)}else{h.push(l.get('IDS_ISNOVALUE'))}}}return h.join('/')}return this};c1.getColorPalette=function(){if(V.length===0){e1()}return V};c1.shapePalette=function(){if(!arguments.length){return[q.marker.shape]}return c1};c1.primaryScale=function(d){if(!arguments.length){return P.scale}P.scale=d;return c1};c1.secondaryScale=function(d){if(!arguments.length){return Q.scale}Q.scale=d;return c1};c1.categoryScale=function(d){if(!arguments.length){return y}y=d;return c1};c1.primaryDataRange=function(d){if(!arguments.length){return{min:P.scale.domain()[0],max:P.scale.domain()[1]}}if(d!==null){P.topValue=d.max;P.bottomValue=d.min;if(d.from==='axis'){P.manualRange=true}if(T.isExist(n)&&T.isExist(o)){f1(P)}}return c1};c1.secondDataRange=function(d){if(!arguments.length){return{min:Q.scale.domain()[0],max:Q.scale.domain()[1]}}if(d!==null){Q.topValue=d.max;Q.bottomValue=d.min;if(d.from==='axis'){Q.manualRange=true}if(T.isExist(n)&&T.isExist(o)){f1(Q)}}return c1};c1.parent=function(){return g};c1.size=function(w,h){if(arguments.length===0){return{width:c1.width(),height:c1.height()}}c1.width(w).height(h);return c1};c1.clear=function(d){p1();if(d===null||d===undefined){r1()}else{s1()}};c1.highlight=function(d){var h;if(d instanceof Array){h=d}else{h=[];h.push(d)}for(var i=0;i<h.length;i++){var j=h[i];if(!k1(P,j)){k1(Q,j)}}};c1.unhighlight=function(d){var h;if(d instanceof Array){h=d}else{h=[];h.push(d)}for(var i=0;i<h.length;i++){var j=h[i];if(!l1(P,j)){l1(Q,j)}}};c1.hoverOnPoint=function(d){var h=d.x,i=d.y;if(h<0||h>n){return}var j=j1(h);if(A===j){return}var k=y(j)+y.rangeBand()/2;h1(A,"hidden",q.style.marker.stroke);h1(j,"visible",u);A=j;if(q.hoverline.visible){z.attr("x1",k).attr("x2",k);z.attr("visibility","visible")}else{z.attr("visibility","hidden")}if(q.tooltip.enabled){var w={};var _=g.node().getTransformToElement(g.node().ownerSVGElement);w.x=y(j)+y.rangeBand()/2+_.e;w.y=o/4+_.f;var u1=s.generateTooltipData(p,t,j,V,[q.marker.shape]);u1.point=w;u1.plotArea={x:_.e,y:_.f,width:n,height:o};H.showTooltip(b.formatTooltipData(u1))}};c1.blurOut=function(){z.attr("visibility","hidden");h1(A,"hidden",q.style.marker.stroke);A=null;if(q.tooltip.enabled){H.hideTooltip()}};q=m.props(null);return c1}});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.line',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.line','name':'line',base:'sap.viz.modules.xy.base','properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'},'width':{'name':'width','supportedValueType':'PositiveInt','defaultValue':2,'min':'1','max':'7','description':'Set width of line, range[1,7]. When beyond the range, the line width is default size 2.'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enable/disable data loading animation of plot area.'}},'description':'Settings for tooltip related properties.'},'hoverline':{'name':'hoverline','supportedValueType':'Object','description':'Settings for hoverline properties.','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set to enabled/disabled hoverline or not.',},},},'marker':{'name':'marker','description':'Settings for marker/data point graphics','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set show marker or not.'},'shape':{'name':'shape','supportedValueType':'List','supportedValues':['circle','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'],'defaultValue':'circle','description':'Set marker shapes for chart.'},'size':{'name':'size','supportedValueType':'PositiveInt','defaultValue':"6",'min':'4','max':'32','description':'Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 6.'}}}},'css':{'.viz-plot-hoverline':{'description':'Define style for hoverline in line.','value':{'stroke':'#cccccc'}}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.horizontalline',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.BoundingBox',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.base.UADetector',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(a,M,T,S,C,B,N,l,D,b,c,R,O,U,e){return function(m,f){var n,o;var p=null,q;var r=R.newId();var t=null;var s;var u="#FFFFFF";var v="gray";var x="#333333";var y=d3.scale.ordinal();var z;var A;var g;var E,F,G;var H=new a('showTooltip','hideTooltip','initialized','startToInit');var I;var J;var K;var L=f.effectManager;var P={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var Q={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var V=[];var W='axis1';var X='axis2';var Y=false;var Z=true;var $=0;var a1;var b1=0.4;function c1(d){e.drawBound(d,n,o);s=b();q1(d);return c1}function d1(h){var i={min:null,max:null};if(!h.data||h.data.length===0){return null}i.max=Number(d3.max(h.data,function(d){return d3.max(d,function(_){return _.val})}));i.min=Number(d3.min(h.data,function(d){return d3.min(d,function(_){return _.val})}));if(N.isNoValue(i.max)){return null}if(i.min>=0){i.min=0;i.max+=i.max*5/n}else if(i.max<=0){i.max=0;i.min+=i.min*5/n}else{var j=(i.max-i.min)*5/n;i.min-=j;i.max+=j}return i}function e1(){V=[];var i=0,j=0;if(Q.data&&Q.data.length>0){P.colorPalette=q.primaryValuesColorPalette}else{P.colorPalette=q.colorPalette}Q.colorPalette=q.secondaryValuesColorPalette;if(I&&J&&K){var d=p.getMeasureValuesGroupDataByIdx(0);var h=p.getMeasureValuesGroupDataByIdx(1);var k=0,w=0,_=0,u1=0;if(d&&d.values.length>0){k=d.values.length;u1=d.values[0].rows.length}if(h&&h.values.length>0){w=h.values.length;u1=h.values[0].rows.length}for(i=0;i<u1;i++){for(j=0;j<k;j++){V.push(P.colorPalette[i*k+j%P.colorPalette.length])}for(j=0;j<w;j++){V.push(Q.colorPalette[i*w+j%Q.colorPalette.length])}}}else{for(i=0;i<P.data.length;++i){V.push(P.colorPalette[i%P.colorPalette.length])}if(Q.data&&Q.data.length>0){for(i=0;i<Q.data.length;++i){V.push(Q.colorPalette[i%Q.colorPalette.length])}}}}function f1(d){if(d.data&&d.data.length>0){if(d.topValue===null||d.topValue===undefined){var h=d1(d);if(!h||(h.min===0&&h.max===0)){d.scale.domain([]).range([])}else{d.scale.domain([h.min,h.max]).range([0,n])}}else{d.scale.domain([d.bottomValue,d.topValue]).range([0,n])}}else{d.scale.domain([0,0]).range([0,0])}return d.scale}function g1(){var d=[];var h=0;if(P.data.length!==0){h=P.data[0].length}else{h=Q.data[0].length}for(var i=0;i<h;i++){d.push(i)}y.domain(d).rangeBands([o,0]);f1(P);f1(Q);if(P.data&&P.data.length>0&&Q.data&&Q.data.length>0){if(P.scale.domain().length===0&&Q.scale.domain().length===0){P.scale.domain([0,1]).range([0,n]);Q.scale.domain([0,1]).range([0,n])}else if(P.scale.domain().length===0&&Q.scale.domain().length!==0){P.scale.domain(Q.scale.domain()).range(Q.scale.range())}else if(P.scale.domain().length!==0&&Q.scale.domain().length===0){Q.scale.domain(P.scale.domain()).range(P.scale.range())}if(!P.manualRange&&!Q.manualRange){S.perfectDual(P.scale,Q.scale)}else if(!P.manualRange){S.perfect(P.scale)}else if(!Q.manualRange){S.perfect(Q.scale)}}else if(P.data&&P.data.length>0&&!P.manualRange){if(P.scale.domain().length===0){P.scale.domain([0,1]).range([0,n])}S.perfect(P.scale)}else if(Q.data&&Q.data.length>0&&!Q.manualRange){if(Q.scale.domain().length===0){Q.scale.domain([0,1]).range([0,n])}S.perfect(Q.scale)}}function h1(d,h,i){if(d===undefined||d===null){return}var j=0;for(j=0;j<P.data.length;++j){if(!P.selectedMarkers[j][d]){i1(j,d,i,P);if(!q.marker.visible){if($>0){d3.select(P.markers[j][d]).attr("opacity",b1).attr("visibility",h)}else{d3.select(P.markers[j][d]).attr("opacity",1).attr("visibility",h)}}}}if(!Q.data){return}for(j=0;j<Q.data.length;++j){if(!Q.selectedMarkers[j][d]){i1(j,d,i,Q);if(!q.marker.visible){if($>0){d3.select(Q.markers[j][d]).attr("opacity",b1).attr("visibility",h)}else{d3.select(Q.markers[j][d]).attr("opacity",1).attr("visibility",h)}}}}}function i1(d,h,i,j){d3.select(j.markers[d][h]).attr("stroke",i)}function j1(d){var i=d/y.rangeBand();i=Math.floor(i);var h=0;if(P.data.length!==0){h=P.data[0].length}else{h=Q.data[0].length}if(i>h-1){i=h-1}if(i<0){i=0}return h-1-i}function k1(d,h){var k=false,w,_;for(var i=0;i<d.markers.length&&!k;i++){var u1=d.markers[i];for(var j=0;j<u1.length&&!k;j++){if(u1[j]===h){k=true;w=i;_=j}}}if(!k){return false}if(d.selectedMarkers[w][_]){return true}i1(w,_,x,d);d3.select(d.markers[w][_]).attr("opacity",1).attr("visibility","visible");d.selectedMarkers[w][_]=true;if(_>0&&d.selectedMarkers[w][_-1]){d.highLines[w][_-1].attr("visibility","visible")}if(_<d.highLines[0].length&&d.selectedMarkers[w][_+1]){d.highLines[w][_].attr("visibility","visible")}++$}function l1(d,h){var k=A;var w=false,_;for(var i=0;i<d.markers.length&&!w;i++){var u1=d.markers[i];for(var j=0;j<u1.length&&!w;j++){if(u1[j]===h){w=true;_=i;k=j}}}if(!w){return false}if(!d.selectedMarkers[_][k]){return true}if(k===A){i1(_,k,u,d)}else{i1(_,k,q.style.marker.stroke,d)}d3.select(d.markers[_][k]).attr("opacity",b1);if(!q.marker.visible&&k!==A){d3.select(d.markers[_][k]).attr("visibility","hidden")}d.selectedMarkers[_][k]=false;if(k>0&&d.selectedMarkers[_][k-1]){d.highLines[_][k-1].attr("visibility","hidden")}if(k<d.highLines[0].length&&d.selectedMarkers[_][k+1]){d.highLines[_][k].attr("visibility","hidden")}--$}function m1(d){var h={data:[],color:[]};var w=[],_,k;for(var i=0;i<d.length;++i){var u1=0;for(var j=0;j<d[i].length;++j){if(N.isNoValue(d[i][j].val)){if(j>u1){w=[];for(k=u1;k<j;k++){_=d[i][k];_.x=k;w.push(_)}h.data.push(w);h.color.push(i)}u1=j+1}}if(u1<d[i].length){w=[];for(k=u1;k<d[i].length;k++){_=d[i][k];_.x=k;w.push(_)}h.data.push(w);h.color.push(i)}}return h}function n1(h,k){if(!h.data||h.data.length===0){return}var w=F.select("g."+k);if(w.empty()){w=F.append("svg:g").attr("class",k)}h.selectedMarkers=new Array(h.data.length);h.markers=[];var _=m1(h.data);var u1=w.selectAll("."+"lines").data(_.data);u1.enter().append("path").attr('class',"lines").attr("stroke-width",q.width).attr("stroke-linejoin","round");u1.exit().remove();u1.attr("stroke-width",q.width);var v1=d3.svg.line().y(function(d,i){return y(d.x)+y.rangeBand()/2}).x(function(d){return h.scale(d.val)});u1.attr("transform",function(d,i){d3.select(this).attr("d",v1(d)).attr("stroke",function(){var j={graphType:"line",fillColor:h.colorPalette[_.color[i]%h.colorPalette.length]};return L.register(j)})});var w1=G.selectAll("g."+k);if(w1.empty()){w1=G.append("svg:g").attr("class",k)}var x1=w1.selectAll("g").data(h.data);x1.enter().append("g");x1.exit().remove();h.highLines=[];x1.attr("transform",function(d,i){d3.select(this).selectAll(".lightLine").remove();h.highLines.push([]);for(var j=1;j<d.length;++j){if(N.isNoValue(d[j].val)||N.isNoValue(d[j-1].val)){h.highLines[i].push(null)}else{h.highLines[i].push(d3.select(this).append("svg:line").attr("class","lightLine").attr("x1",h.scale(d[j-1].val)).attr("y1",y(j-1)+y.rangeBand()/2).attr("x2",h.scale(d[j].val)).attr("y2",y(j)+y.rangeBand()/2).attr("stroke-width",q.width).attr("stroke",h.colorPalette[i%h.colorPalette.length]).attr("visibility","hidden"))}}});for(var y1=0;y1<h.data.length;++y1){h.selectedMarkers[y1]=[];for(var z1=0;z1<h.data[0].length;++z1){h.selectedMarkers[y1][z1]=false}}var A1=E.select("g."+k);if(A1.empty()){A1=E.append("svg:g").attr("class",k)}x1=A1.selectAll("g.marker").data(h.data);x1.enter().append("svg:g").attr("class","marker");x1.exit().remove();var B1="hidden";if(q&&q.marker&&q.marker.visible){B1="visible"}x1.attr("transform",function(d,i){var j=d3.select(this).selectAll(".datashape").data(d);var C1=j.enter().append('g').attr('class','datashape');D.createElements(C1,{shape:q.marker.shape,className:"datapoint"});j.exit().remove();var D1=[];j.attr("transform",function(E1,F1){if(N.isNoValue(E1.val)){d3.select(this).remove();D1.push(null);return}D1.push(d3.select(this).selectAll('path').node());var G1={drawingEffect:q.drawingEffect,graphType:q.marker.shape,fillColor:h.colorPalette[i%h.colorPalette.length],direction:'vertical',rx:q.marker.size/2,ry:q.marker.size/2,borderWidth:2,borderColor:q.style.marker.stroke,node:d3.select(this).select('path'),visibility:B1};D.drawGraph(G1,L);return"translate("+h.scale(E1.val)+","+(y(F1)+y.rangeBand()/2)+")"});h.markers.push(D1)})}function o1(d,h){if($===0||!d.selectedMarkers||d.selectedMarkers.length===0){return}for(var i=0;i<d.selectedMarkers.length;++i){for(var j=0;j<d.selectedMarkers[0].length;++j){if(!d.selectedMarkers[i][j]){continue}if(j===h){i1(i,j,u,d);if(!q.marker.visible){d3.select(d.markers[i][j]).attr("opacity",b1).attr("visibility","visible")}}else{i1(i,j,q.style.marker.stroke,d);if(!q.marker.visible){d3.select(d.markers[i][j]).attr("visibility","hidden")}}d.selectedMarkers[i][j]=false}}}function p1(){var d=(d3.event?d3.event.clientY:0)-g.node().getBoundingClientRect().top;var h=j1(d);o1(P,h);o1(Q,h);$=0}function q1(h){t1();H.startToInit();if(!g){g=h.append("svg:g")}if(!z){z=g.append("svg:line")}z.attr("x1",0).attr("y1",0).attr("x2",n).attr("y2",0).attr("stroke-width",1).attr("stroke",v).attr("visibility","hidden").attr("stroke-linejoin","round");if(!F){F=g.append("svg:g").attr("class","datalines");G=g.append("svg:g").attr("class","lightLines");E=g.append("svg:g").attr("class","markers datashapesgroup")}if(!a1){a1=g.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+r).append("rect")}a1.attr("x",0).attr("y",(Z?o:0)).attr("height",(Z?0:o)).attr("width",n);$=0;r1();E.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");F.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");G.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");if(Z){Y=true;var i=0;var j=o/50;var k=setInterval(function(d){if(i>=o){clearInterval(k);H.initialized()}else{i+=j;a1.attr("height",i);a1.attr("y",o-i)}},20)}else{H.initialized()}n1(P,W);n1(Q,X)}function r1(){G.selectAll("g."+W).selectAll(".lightLine").attr("visibility","hidden");G.selectAll("g."+X).selectAll(".lightLine").attr("visibility","hidden");F.attr("opacity",1);if(U.isIE()){F.selectAll(".lines").attr("visibility","visible")}E.selectAll("g."+W).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1);E.selectAll("g."+X).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1)}function s1(){G.selectAll("g."+W).selectAll(".lightLine").attr("visibility","hidden");G.selectAll("g."+X).selectAll(".lightLine").attr("visibility","hidden");F.attr("opacity",b1);if(U.isIE()){F.selectAll(".lines").attr("visibility","visible")}E.selectAll("g."+W).selectAll("g.marker").selectAll(".datapoint").attr("opacity",b1);E.selectAll("g."+X).selectAll("g.marker").selectAll(".datapoint").attr("opacity",b1)}function t1(){if(!q.style){q.style={}}var d;d=f.styleManager.query('viz-plot-background');if(d){if(d['fill']){u=d['fill']}}if(!q.style.marker){q.style.marker={}}q.style.marker.stroke="transparent";d=f.styleManager.query('viz-plot-hoverline');if(d){if(d['stroke']){v=d['stroke']}}}c1.afterUIComponentAppear=function(){H.initialized()};c1.width=function(d){if(!arguments.length){return n}n=d;if(T.isExist(n)&&T.isExist(o)&&T.isExist(p)){g1()}return c1};c1.height=function(d){if(!arguments.length){return o}o=d;if(T.isExist(n)&&T.isExist(o)&&T.isExist(p)){g1()}return c1};c1.properties=function(_){if(!arguments.length){return q}O.extend(true,q,_);if(q.marker.size<4||q.marker.size>32){q.marker.size=6}if(q.width<1||q.width>7){q.width=2}Z=q.animation.dataLoading;t1();e1();return c1};c1.primaryAxisColor=function(){if(Q.data&&Q.data.length>0){return L.register({graphType:"line",fillColor:P.colorPalette[0]})}else{return null}};c1.secondAxisColor=function(){return L.register({graphType:"line",fillColor:Q.colorPalette[0]})};c1.dispatch=function(_){if(!arguments.length){return H}H=_;return c1};c1.data=function(d){if(!arguments.length){return p}p=d;var h=M(p);P.data=h["MG1"];Q.data=h["MG2"];I=h["hasMND"];J=h["MNDOnColor"];K=h["MNDInner"];t=b.dataTransform(h);if(T.isExist(n)&&T.isExist(o)&&T.isExist(p)){g1()}e1();return c1};c1.primaryAxisTitle=function(_){if(!arguments.length){var d=p.getMeasureValuesGroupDataByIdx(0),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){h.push(d.values[i].col)}else{h.push(l.get('IDS_ISNOVALUE'))}}}return h.join('/')}return this};c1.secondAxisTitle=function(_){if(!arguments.length){var d=p.getMeasureValuesGroupDataByIdx(1),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){h.push(d.values[i].col)}else{h.push(l.get('IDS_ISNOVALUE'))}}}return h.join('/')}return this};c1.getColorPalette=function(){if(V.length===0){e1()}return V};c1.shapePalette=function(_){if(!arguments.length){return[q.marker.shape]}return c1};c1.primaryScale=function(d){if(!arguments.length){return P.scale}P.scale=d;return c1};c1.secondaryScale=function(d){if(!arguments.length){return Q.scale}Q.scale=d;return c1};c1.categoryScale=function(d){if(!arguments.length){return y}y=d;return c1};c1.primaryDataRange=function(d){if(!arguments.length){return{min:P.scale.domain()[0],max:P.scale.domain()[1]}}if(d!==null){P.topValue=d.max;P.bottomValue=d.min;if(d.from==='axis'){P.manualRange=true}if(T.isExist(n)&&T.isExist(o)){f1(P)}}return c1};c1.secondDataRange=function(d){if(!arguments.length){return{min:Q.scale.domain()[0],max:Q.scale.domain()[1]}}if(d!==null){Q.topValue=d.max;Q.bottomValue=d.min;if(d.from==='axis'){Q.manualRange=true}if(T.isExist(n)&&T.isExist(o)){f1(Q)}}return c1};c1.parent=function(){return g};c1.dataLabel=function(_){};c1.size=function(w,h){if(arguments.length===0){return{width:c1.width(),height:c1.height()}}c1.width(w).height(h);return c1};c1.clear=function(d){p1();if(d===null||d===undefined){r1()}else{s1()}};c1.highlight=function(d){var h;if(d instanceof Array){h=d}else{h=[];h.push(d)}for(var i=0;i<h.length;i++){var j=h[i];if(!k1(P,j)){k1(Q,j)}}};c1.unhighlight=function(d){var h;if(d instanceof Array){h=d}else{h=[];h.push(d)}for(var i=0;i<h.length;i++){var j=h[i];if(!l1(P,j)){l1(Q,j)}}};c1.hoverOnPoint=function(d){var h=d.x,i=d.y;if(i<0||i>o){return}var j=j1(i);if(A===j){return}var k=y(j)+y.rangeBand()/2;h1(A,"hidden",q.style.marker.stroke);h1(j,"visible",u);A=j;if(q.hoverline.visible){z.attr("y1",k).attr("y2",k);z.attr("visibility","visible")}else{z.attr("visibility","hidden")}if(q.tooltip.enabled){var w={};var _=g.node().getTransformToElement(g.node().ownerSVGElement);w.x=n*3/4+_.e;w.y=k+_.f;var u1=s.generateTooltipData(p,t,j,V,[q.marker.shape]);u1.point=w;u1.plotArea={x:_.e,y:_.f,width:n,height:o};H.showTooltip(b.formatTooltipData(u1))}};c1.blurOut=function(){z.attr("visibility","hidden");h1(A,"hidden",q.style.marker.stroke);A=null;if(q.tooltip.enabled){H.hideTooltip()}};q=m.props(null);return c1}});sap.riv.module({qname:'sap.viz.modules.manifests.xy.HorizontalLine',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.horizontalline',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.horizontalline','name':'horizontalline',base:'sap.viz.modules.line',fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalCombinationChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalCombination',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalLine',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'}],function Setup(M){var c={base:'riv/basehorizontalchart',id:'viz/horizontal_combination',name:'IDS_HORIZONTALCOMBINATIONCHART',modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'selectability'}}},modules:{plot:{id:'sap.viz.modules.horizontalcombination',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside'}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualHorizontalCombinationChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalCombinationChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalCombination',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_horizontal_combination',name:'IDS_DUALHORIZONTALCOMBINATIONCHART',base:'viz/horizontal_combination',modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondAxis:{isExported:true}}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.',propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},'xAxis2':{'id':'sap.viz.modules.axis','configure':{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.','propertyCategory':'xAxis2','properties':{'type':'value','position':'top','gridline':{'visible':false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis2',target:'scale',sourceModule:'main.plot',source:'secondaryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.xAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.xAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.CombinationChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Combination',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'}],function Setup(M){var c={base:'riv/baseverticalchart',id:'viz/combination',name:'IDS_COMBINATIONCHART',modules:{tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{plot:{id:'sap.viz.modules.combination',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside'}}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'main.plot',target:'primaryDataRange',sourceModule:'main.yAxis',source:'range'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualCombinationChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.xy.CombinationChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Combination',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_combination',name:'IDS_DUALCOMBINATIONCHART',base:'viz/combination',modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true},dataShape:{secondAxis:{isExported:true}}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.',propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{type:'value',position:'right',gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'main.plot',target:'primaryDataRange',sourceModule:'main.yAxis',source:'range'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.plot',target:'secondDataRange',sourceModule:'main.yAxis2',source:'range'},{targetModule:'main.yAxis2',target:'scale',sourceModule:'main.plot',source:'secondaryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.yAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'main.yAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.yAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.LineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/line',name:'IDS_LINECHART',base:'riv/baseverticalchart',modules:{tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove']}}}},'modules':{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,positionPreference:true}}},plot:{id:'sap.viz.modules.line',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'getColorPalette'},{targetModule:'main.plot',target:'primaryDataRange',sourceModule:'main.yAxis',source:'range'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.manifests.xy.LineChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_line',name:'IDS_DIUALLINECHART',base:'viz/line','modules':{main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.',propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{type:'value',position:'right',gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'getColorPalette'},{targetModule:'main.plot',target:'primaryDataRange',sourceModule:'main.yAxis',source:'range'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.plot',target:'secondDataRange',sourceModule:'main.yAxis2',source:'range'},{targetModule:'main.yAxis2',target:'scale',sourceModule:'main.plot',source:'secondaryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.yAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'main.yAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.yAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalLine',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/horizontal_line',name:'IDS_HORIZONTALLINECHART',base:'riv/basehorizontalchart','modules':{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},'main':{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove']}}}},'modules':{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,positionPreference:true}}},'plot':{'id':'sap.viz.modules.horizontalline','configure':{'description':'Settings regarding the chart area and plot area as well as general chart options.','propertyCategory':'plotArea'}}}}},feeds:{secondaryValues:null},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'getColorPalette'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualHorizontalLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalLine',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalLineChart',version:'4.0.0'}],function Setup(M,C){var c={'id':'viz/dual_horizontal_line','name':'IDS_DUALHORIZONTALLINECHART','base':'viz/horizontal_line','modules':{'main':{'id':'sap.viz.modules.xycontainer','modules':{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.',propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},'xAxis2':{'id':'sap.viz.modules.axis','configure':{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.','propertyCategory':'xAxis2','properties':{'type':'value','position':'top','gridline':{'visible':false}}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'getColorPalette'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis2',target:'scale',sourceModule:'main.plot',source:'secondaryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.xAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'main.xAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.xAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.modules.stackedwaterfall',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,a,M,l,N,S,C,O,b,c){var s=function(e,f){var o,w,h,g,k,p,n,q,r,t,u,v,z=false,A=true,B=false,D=false,E=null,F,G,H,I,J=new a('selectData','deselectData','showTooltip','hideTooltip','initialized','startToInit');var K=l.get('IDS_ISNOVALUE'),L=C.sap32().range(),P=['squareWithRadius'],Q=1200,W;var R=f.effectManager,U='normal';var V=d3.scale.ordinal(),X=d3.scale.linear();var Y=function(i){c.drawBound(i,w,h);if(!T.isExist(X)){return}i.each(function(){v=Z();var _=v.barSize;var f1=0;var g1=Q/q;W=d3.select(this);if(u===undefined){u=W.append('rect').style('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{u.style('visibility','hidden')}if(o.isHorizontal===false){u.attr('width',V.rangeBand()-v.barGap).attr('height',h)}else{u.attr('height',V.rangeBand()-v.barGap).attr('width',w)}if(z===true){W.selectAll('g.waterfallgroup').remove();W.selectAll('g.datashapesgroup').remove()}var h1=W.selectAll('g.datashapesgroup');if(h1.empty()){h1=W.append('g').attr('class','datashapesgroup')}var i1=h1.selectAll('g.waterfallgroup').data(k);i1.enter().append('g').attr('class','waterfallgroup');i1.exit().remove();var j1=true;if(A){j1=o.animation.dataLoading}else if(D){j1=o.animation.dataUpdating}else if(B){j1=o.animation.resizing}i1.each(function(dw,m){var k1=V(m)+v.barGap;var l1=d3.select(this).selectAll('g.datashape').data(function(){return dw.items});var m1=l1.enter().append('g').attr('class','datashape');m1.append('rect').attr('class','datapoint').attr('fill-opacity',1);if(!j1){l1.exit().remove();l1.each(function(d,j){var n1=d3.select(this);var o1=n1.selectAll('rect');if(o.isHorizontal===false){n1.attr('transform',function(){var y=(d.val>0)?X(f1+d.after):X(f1+d.before);return'translate('+k1+','+y+')'});o1.attr('fill',function(){var x={drawingEffect:U,fillColor:L[j%L.length],direction:'horizontal'};return R.register(x)}).attr('width',_).attr('height',function(){return Math.abs(X(d.after)-X(d.before))})}else{n1.attr('transform',function(){var x=(d.val>0)?X(f1+d.before):X(f1+d.after);return'translate('+x+','+k1+')'});o1.attr('fill',function(){var x={drawingEffect:U,fillColor:L[j%L.length],direction:'vertical'};return R.register(x)}).attr('height',_).attr('width',function(){return Math.abs(X(d.after)-X(d.before))})}});J.initialized()}else{if(o.isHorizontal===false){m1.selectAll('rect').attr('height',0);m1.attr('transform',function(d){var y=X(f1+d.before);return'translate('+k1+','+y+')'})}else{m1.selectAll('rect').attr('width',0);m1.attr('transform',function(d){var x=X(f1+d.before);return'translate('+x+','+k1+')'})}l1.exit().transition().duration(g1).attr('height',0).attr('width',0).remove();l1.each(function(d,j){var n1=d3.select(this).selectAll('rect');if(o.isHorizontal===false){d3.select(this).transition().duration(g1).delay(function(){return m*g1}).attr('transform',function(){var y=(d.val>0)?X(f1+d.after):X(f1+d.before);return'translate('+k1+','+y+')'});n1.attr('fill',function(){var x={drawingEffect:U,fillColor:L[j%L.length],direction:'horizontal'};return R.register(x)}).attr('width',_).transition().duration(g1).delay(function(){return m*g1}).attr('height',function(){return Math.abs(X(d.after)-X(d.before))}).each('end',function(){if(m===q-1&&j===dw.items.length-1){J.initialized()}})}else{d3.select(this).transition().duration(g1).delay(function(){return m*g1}).attr('transform',function(){var x=(d.val>0)?X(f1+d.before):X(f1+d.after);return'translate('+x+','+k1+')'});n1.attr('fill',function(){var x={drawingEffect:U,fillColor:L[j%L.length],direction:'vertical'};return R.register(x)}).attr('height',_).transition().duration(g1).delay(function(){return m*g1}).attr('width',function(){return Math.abs(X(d.after)-X(d.before))}).each('end',function(){if(m===q-1&&j===dw.items.length-1){J.initialized()}})}})}});A=false;B=false;D=false})};Y.afterUIComponentAppear=function(){J.initialized()};Y.hoverOnPoint=function(d){var x=d.x,y=d.y;var j;if(o.isHorizontal===false){j=x}else{j=y}var i=-1;var m=k.length;while(i<m){if(Math.abs(j-V.rangeBand()*i-0.5*V.rangeBand())<=0.5*V.rangeBand()){break}i++}if(i>(m-1)||i<0){u.style('visibility','hidden');return}if(o.isHorizontal===false){u.attr('x',V.rangeBand()*i+v.barGap/2)}else{u.attr('y',V.rangeBand()*i+v.barGap/2)}u.style('visibility','visible');if(E!==i){if(t){E=i;var _=W.node().getTransformToElement(W.node().ownerSVGElement);var f1=a1(i);if(o.isHorizontal===false){f1.point={x:V.rangeBand()*i+0.5*V.rangeBand()+_.e,y:d3.event.layerY}}else{f1.point={x:d3.event.layerY,y:V.rangeBand()*i+0.5*V.rangeBand()+_.f}}J.showTooltip(b.formatTooltipData(f1))}}};Y.blurOut=function(){u.style('visibility','hidden');E=null;if(t){J.hideTooltip()}};Y.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};Y.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};Y.clear=function(d){if(d===undefined){W.selectAll('.datapoint').attr('fill-opacity',1)}else{W.selectAll('.datapoint').attr('fill-opacity',0.2)}};Y.parent=function(){return W};Y.data=function(_){if(!arguments.length){return g}g=_;c1(_);if(T.isExist(w)&&T.isExist(h)){b1()}return Y};Y.properties=function(d){if(!arguments.length){return o}O.extend(true,o,d);L=o.colorPalette;U=o.drawingEffect;t=o.tooltip.enabled;if(H!==o.isShowTotal||I!==o.subtotal.visible){H=o.isShowTotal;I=o.subtotal.visible;c1(g)}return Y};Y.width=function(_){if(!arguments.length){return w}B=(!B&&(_===w))?false:true;w=_;b1();return Y};Y.height=function(_){if(!arguments.length){return h}B=(!B&&(_===h))?false:true;h=_;b1();return Y};Y.primaryAxisTitle=function(_){if(!arguments.length){var d=g.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,m=d.values.length;i<m;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join('/')}return Y};Y.secondAxisTitle=function(_){if(!arguments.length){var d=g.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,m=d.values.length;i<m;i++){if(d.values[i].col!==null&&d.values[i].col!==undefined){j.push(d.values[i].col)}else{j.push(l.get('IDS_ISNOVALUE'))}}}return j.join('/')}return Y};Y.categoryScale=function(d){if(!arguments.length){return V}V=d;return Y};Y.primaryScale=function(d){if(!arguments.length){return X}X=d;return Y};Y.colorPalette=function(_){if(!arguments.length){return L}L=_;return this};Y.dispatch=function(_){if(!arguments.length){return J}J=_;return Y};Y.dataLabel=function(_){return Y};Y.dimensionData=function(_){if(!arguments.length){return F}F=_};var Z=function(){var d=2*(V.rangeBand())/3;var i=d/2;var j=o.barGap;var m=i,x=d;if(j!==undefined){var y=V.rangeBand()-j;if(!(j<5||y<0)){x=y;m=j}}return{'barSize':x,'barGap':m/2}};var a1=function(d){var j={'name':null,'val':[]};var m=g.getAnalysisAxisDataByIdx(0);var x=g.getAnalysisAxisDataByIdx(1);j.name=g.getMeasureValuesGroupDataByIdx(0).values[0].col;var y,_=G.values[0].rows,f1;if(x!==null){f1=x.values[0].rows}for(var i=0;i<_.length;i++){if(_[i][d]!==undefined){y={'shape':'squareWithRadius','color':L[i%L.length],'value':_[i][d]};if(f1!==undefined){y.label=f1[i]}j.val.push(y)}}var g1={'label':m.values[0].col,'value':m.values[0].rows[d]};var h1={'body':[],'footer':[]};h1.body.push(j);h1.footer.push(g1);return h1};var b1=function(){var d=[];for(var i=0;i<q;i++){d.push(i)}if(o.isHorizontal===true){V.domain(d).rangeBands([0,h]);if(p===0&&n===0){X.domain([0,1]).range([0,w]).nice()}else{X.domain([p,n]).range([0,w]).nice()}}else{V.domain(d).rangeBands([0,w]);if(p===0&&n===0){X.domain([0,1]).range([h,0]).nice()}else{X.domain([p,n]).range([h,0]).nice()}}S.perfect(X)};var c1=function(d){F={};G={};F=d.getAnalysisAxisDataByIdx(0);$.extend(true,G,d.getMeasureValuesGroupDataByIdx(0));var m=M(d);var x=m["MG1"],y=0;z=false;if(q===undefined&&r===undefined){A=true}else{D=true}if((q!==undefined&&r!==undefined)&&(q!==x[0].length||r!==x.length)){z=true}var _,f1,g1=0,h1={},i1=[],j1,k1,l1,m1=0;_=f1=y;k=[],p=0,n=0;q=x[0].length;r=x.length;var n1,o1,p1;if(o.subtotal.visible===true){n1=0;o1=q;p1=o.subtotal.subGroups}for(var i=0;i<q;i++){_=f1=y;i1=[],g1=0;for(var j=0;j<r;j++){j1=e1(x[j][i].val);if(j1!==K){g1=g1+j1;if(j1>0){k1=_;l1=_+j1;_=l1}else{k1=f1;l1=f1+j1;f1=l1}if(l1>n){n=l1}if(l1<p){p=l1}h1={"val":x[j][i].val,"before":k1,"after":l1,"ctx":x[j][i].ctx};i1.push(h1)}}k.push({"total":g1,"start":y,"items":i1});m1=m1+g1;if(o.subtotal.visible===true){if(i===p1[n1]-1){if(o.subtotal.isRuntimeTotal){d1(i+p1[n1],n1,y,g1,"sub-total-"+n1)}else{d1(i+p1[n1],n1,0,m1,"sub-total-"+n1)}n1++;o1++}}y=y+g1}if(o1!==undefined){q=o1}if(H){d1(q,n1,0,m1,"total");q++}};var d1=function(d,j,m,x,y){k.push({"total":x,"start":m,"items":[{"val":x,"before":m,"after":m+x,"ctx":{"path":{"mg":x,"mi":0}}}]});F.values[0].rows.splice(d,0,{val:y});G.values[0].rows[0].splice(d,0,{val:x});for(var i=1;i<G.values[0].rows.length;i++){G.values[0].rows[i].splice(d,0,undefined)}};var e1=function(d){return(d===null||d===undefined)?K:d};o=e.props(null);return Y};return s});sap.riv.module({qname:'sap.viz.modules.manifests.xy.StackedWaterfall',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.stackedwaterfall',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.BaseBar',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.stackedwaterfall','name':'stackedwaterfall',base:"sap.viz.modules.xy.bar.base",'properties':{'isRoundCorner':null,'primaryValuesColorPalette':null,'secondaryValuesColorPalette':null,'isHorizontal':{'name':'isHorizontal','supportedValueType':'Boolean','defaultValue':false,'description':'Set stacked waterfall orientaion.','isExported':false},'isShowTotal':{'name':'isShowTotal','supportedValueType':'Boolean','defaultValue':false,'description':'Set stacked waterfall show/hide total value.','isExported':false},'subtotal':{'name':'subtotal','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of subtotal.'},'isRuntimeTotal':{'name':'isRuntimeTotal','supportedValueType':'Boolean','defaultValue':true,'description':'Set isRuntimeTotal of subtotal.'},'subGroups':{'name':'subGroups','supportedValueType':'StringArray','defaultValue':[],'description':'Set bar groups.','isExported':false}},'isExported':false,'description':'Settings for subtotal related properties.'},'barGap':{'name':'barGap','supportedValueType':'PositiveInt','defualtValue':undefined,'min':'5','description':"Set the distance between bars. Default value is the same as bar size.",'isExported':true}},fn:f,'feeds':{configure:{'secondaryValues':null,'regionColor':{acceptMND:-1,min:1,max:1},'axisLabels':{max:1,acceptMND:-1},'primaryValues':{max:1}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.StackedWaterfallChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedWaterfall',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/stacked_waterfall',name:'IDS_STACKEDWATERFALLCHART',base:'riv/baseverticalchart',modules:{main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},modules:{plot:{id:'sap.viz.modules.stackedwaterfall',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}},feeds:{axisLabels:{maxStackedDims:1}},dependencies:{attributes:[undefined,undefined,undefined,{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.yAxis',target:'independentData',sourceModule:'main.plot',source:'dimensionData'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalStackedWaterfallChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedWaterfall',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedWaterfallChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var c={id:'viz/horizontal_stacked_waterfall',name:'IDS_HORIZONTALSTACKEDWATERFALL',base:"viz/stacked_waterfall",modules:{tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'bar'}}},main:{modules:{plot:{id:'sap.viz.modules.stackedwaterfall',configure:{propertyCategory:'plotArea',properties:{'isHorizontal':true}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:true}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'horizontal'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}},feeds:{axisLabels:{maxStackedDims:1}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},undefined,{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.xAxis',target:'independentData',sourceModule:'main.plot',source:'dimensionData'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.WaterfallChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedWaterfall',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/waterfall',name:'IDS_WATERFALLCHART',base:'riv/baseverticalchart',modules:{legend:null,main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false}}},plot:{id:'sap.viz.modules.stackedwaterfall',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',propertiesOverride:{isShowTotal:{isExported:true}}}}}}},feeds:{'regionColor':null},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},null,{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalWaterfallChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedWaterfall',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/horizontal_waterfall',name:'IDS_HORIZONTALWATERFALLCHART',base:'riv/basehorizontalchart',modules:{legend:null,main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,showZero:false,outsideVisible:false}}},plot:{id:'sap.viz.modules.stackedwaterfall',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',properties:{'isHorizontal':true},propertiesOverride:{isShowTotal:{isExported:true}}}}}}},feeds:{'regionColor':null},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},null,{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_bar',name:'IDS_DUALBARCHART',base:'viz/bar',modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.',propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'xAxis2',properties:{type:'value',position:'top',gridline:{visible:false}},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis2',target:'scale',sourceModule:'main.plot',source:'secondScale'},{targetModule:'main.xAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.xAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.xAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.xy.VerticalBarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_column',name:'IDS_DUALVERTICALBARCHART',base:'viz/column',modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.',propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{type:'value',position:'right'},propertiesOverride:{title:{applyAxislineColor:{isExported:true}}}}}}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'main.plot',target:'primaryDataRange',sourceModule:'main.yAxis',source:'range'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.plot',target:'secondDataRange',sourceModule:'main.yAxis2',source:'range'},{targetModule:'main.yAxis2',target:'scale',sourceModule:'main.plot',source:'secondScale'},{targetModule:'main.yAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.yAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.yAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.StackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.VerticalBarChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/stacked_column',name:'IDS_STACKEDVERTICALBARCHART',base:'viz/column',feeds:{secondaryValues:null},modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedVerticalBarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_stacked_column',name:'IDS_DUALSTACKEDVERTICALBARCHART',base:'viz/dual_column',modules:{main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualPercentageStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualStackedVerticalBarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/100_dual_stacked_column',name:'IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART',base:'viz/dual_stacked_column',modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{mode:'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,showZero:true}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'yAxis',properties:{isPercentMode:true}}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'yAxis2',properties:{isPercentMode:true}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'100_dual_stacked_column',orientation:'bottom'}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.StackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BarChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/stacked_bar',name:'IDS_STACKEDBARCHART',base:'viz/bar',feeds:{secondaryValues:null},modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedBarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_stacked_bar',name:'IDS_DUALSTACKEDBARCHART',base:'viz/dual_bar',modules:{main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false,isStackMode:true,showZero:false},propertiesOverride:{position:{isExported:false}}}},plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualPercentageStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualStackedBarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/100_dual_stacked_bar',name:'IDS_DUALPERCENTAGESTACKEDBARCHART',base:'viz/dual_stacked_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{mode:'percentage'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isPercentMode:true,showZero:true}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis',properties:{isPercentMode:true}}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis2',properties:{isPercentMode:true}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'100_dual_stacked_bar',orientation:'left'}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.PercentageStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedBarChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/100_stacked_bar',name:'IDS_PERCENTAGESTACKEDBARCHART',base:'viz/stacked_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{mode:'percentage'}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis',properties:{isPercentMode:true}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{type:'value',isPercentMode:true,showZero:true}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'100_stacked_bar',orientation:'left',formatString:[["0.00%"],["0.00%"]]}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.PercentageStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedVerticalBarChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/100_stacked_column',name:'IDS_PERCENTAGESTACKEDVERTICALBARCHART',base:'viz/stacked_column',modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{mode:'percentage'}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'yAxis',properties:{isPercentMode:true}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{type:'value',isPercentMode:true,showZero:true}}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'100_stacked_column',orientation:'bottom',formatString:[["0.00%"],["0.00%"]]}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.feeds.Pie',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var f={id:"pie",feeds:[{'id':'pieSectorColor','name':'Sector Color','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1},{'id':'pieSectorSize','name':'Sector Size','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1},{'id':'pieDepthSize','name':'Depth Size','type':c.Type.Measure,'min':0,'max':1,'mgIndex':2}]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.manifests.Pie',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.pie',version:'4.0.0'},{qname:'sap.viz.feeds.Pie',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.pie','type':C.Module.Type.Chart,'name':'pie','properties':{'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled data loading animation of plot area.'}},'description':'Settings for animation of plot area.'},'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColor,'description':'Set the color palette for sectors.'},'isDonut':{'name':'isDonut','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether is a donut or pie.'},'isGeoPie':{'name':'isGeoPie','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether is a geo pie.'},'valign':{'name':'valign','supportedValueType':'List','supportedValues':['top','center'],'defaultValue':"top",'description':'Set vertical aligment.','isExported':false},'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set whether tooltip is enabled.'},'valueFormat':{'name':'valueFormat','supportedValueType':'String','defaultValue':'n','description':'Set the number format of measure value in tooltip.'},'percentageFormat':{'name':'percentageFormat','supportedValueType':'String','defaultValue':".0%",'description':'Set the number format of percentage label in tooltip.'},'formatString':{'name':'formatString','supportedValueType':'StringArray','defaultValue':null,'description':'Set format string of tooltip. The first string is applied to value and the second is applied to percentage. '}},'description':'Settings for tooltip related properties.'},'drawingEffect':{'name':'drawingEffect','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of Pie.','isExported':true}},'events':{'initialized':C.Module.Event.Initialized.desc,'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc},'feeds':{id:"pie",configure:{pieDepthSize:null}},'css':{'.viz-pie-tooltip-label-dimensions':{'description':'Define style for the first label(dimension values) in tooltip.','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'14px','font-weight':'normal','fill':'#000'}},'.viz-pie-tooltip-label-value':{'description':'Define style for the second label(measure value) in tooltip.','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'18px','font-weight':'bold','fill':'#000'}},'.viz-pie-tooltip-label-percentage':{'description':'Define style for the third label(percentage) in tooltip.','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'16px','font-weight':'normal','fill':'#333'}},'.viz-pie-sector':{'description':'Define style for sector in pie.','value':{'stroke':'transparent'}}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiPieChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Pie',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'}],function Setup(M,c){var m={id:'viz/multi_pie',name:'IDS_MULTIPIECHART',base:'riv/base/multiple',modules:{legend:{data:{aa:[2]}},main:{configure:{properties:{'cellPadding':5}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.pie',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',properties:{valign:"center"}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'polarCoordinate',visible:false,formatString:[['0.00%'],[]],automaticInOutside:false,outsideVisible:true,type:'label and value'}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},pieSectorSize:{max:c.Constraints.INF}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.plot.dataLabel',listener:'showLabel',sourceModule:'main.plot.plot',type:'initialized.datalabel'},{targetModule:'main.plot.dataLabel',listener:'removeLabel',sourceModule:'main.plot.plot',type:'startToInit.datalabel'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDonutChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Pie',version:'4.0.0'},{qname:'sap.viz.manifests.MultiPieChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_donut',name:'IDS_MULTIDONUTCHART',base:'viz/multi_pie',modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.pie',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',properties:{'isDonut':true}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isDonut:true}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.piewithdepth',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.pie.sector',version:'4.0.0'},{qname:'sap.viz.modules.pie.selection',version:'4.0.0'},{qname:'sap.viz.modules.pie.tooltip',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.base.UADetector',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.format.FormatManager',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(s,c,t,T,C,d,U,F,e,R,O,f,l,B){var h=function(m){var w=500,j=300,p=0;var k=null,n={};var z=Math.PI/4;var r=0,o=0,q=0,u=0,v=0,x=0,y=0;var A=d3.scale.linear();var D=C.sap32().range();var E=false;var G;var H=0;var I=d('initialized','startToInit');function J(a){B.drawBound(a,w,j);G=a;M(a);return J}J.width=function(a){if(!arguments.length){return w}w=a;if(e.isExist(w)&&e.isExist(j)){L();if(G){M(G)}}return J};J.height=function(a){if(!arguments.length){return j}j=a;if(e.isExist(w)&&e.isExist(j)){L();if(G){M(G)}}return J};J.padding=function(a){if(!arguments.length){return p}p=a;if(e.isExist(w)&&e.isExist(j)){L();if(G){M(G)}}return J};J.properties=function(_){if(!arguments.length){return n}O.extend(true,n,_);K();return J};J.parent=function(){return G};J.dispatch=function(_){return I};J.afterUIComponentAppear=function(){I.initialized()};J.dataLabel=function(_){};J.data=function(a){if(!arguments.length){return k}k=a;return J};J.colorPalette=function(_){if(arguments.length===0){return D}D=_;return J};J.rotate=function(_){if(arguments.length===0){return{xAngle:0,yAngle:H*180/Math.PI}}H=_.yAngle*Math.PI/180;M(G);return J};function K(){D=n.colorPalette;E=n.isDonut};function L(){var b=Math.min(w,j);r=b/2;o=r*Math.cos(z);q=r/2.414;u=o/2.414;x=w/2;y=j/2+b/2-o;v=b-2*o};function M(a){a.select('.datashapesgroup').remove();var b=N();var g=a.append('g').attr('class','datashapesgroup');P(b,g)};function N(){var a=k.getMeasureValuesGroupDataByIdx(0);var b=k.getMeasureValuesGroupDataByIdx(1);var g=0,_=0;for(var i=0;i<a.values[0].rows[0].length;i++){g+=Math.abs(a.values[0].rows[0][i].val);_=Math.max(_,Math.abs(b.values[0].rows[0][i].val))}A.domain([0,_]).range([0,v]);var a1=[];for(var i=0,b1=H-Math.PI/2;i<a.values[0].rows[0].length;i++){var c1={startAngle:b1,endAngle:b1+Math.abs(a.values[0].rows[0][i].val)/g*Math.PI*2,cy:y-A(Math.abs(b.values[0].rows[0][i].val)),colorValue:D[i%D.length],val:[a.values[0].rows[0][i].val,b.values[0].rows[0][i].val],ctx:[a.values[0].rows[0][i].ctx,b.values[0].rows[0][i].ctx]};c1.topPoint1=[x+r*Math.cos(c1.startAngle),c1.cy+o*Math.sin(c1.startAngle)];c1.topPoint2=[x+r*Math.cos(c1.endAngle),c1.cy+o*Math.sin(c1.endAngle)];c1.bottomPoint1=[x+r*Math.cos(c1.startAngle),y+o*Math.sin(c1.startAngle)];c1.bottomPoint2=[x+r*Math.cos(c1.endAngle),y+o*Math.sin(c1.endAngle)];if(E){c1.topPoint4=[x+q*Math.cos(c1.startAngle),c1.cy+u*Math.sin(c1.startAngle)];c1.topPoint3=[x+q*Math.cos(c1.endAngle),c1.cy+u*Math.sin(c1.endAngle)];c1.bottomPoint4=[x+q*Math.cos(c1.startAngle),y+u*Math.sin(c1.startAngle)];c1.bottomPoint3=[x+q*Math.cos(c1.endAngle),y+u*Math.sin(c1.endAngle)]}a1.push(c1);b1=c1.endAngle}return a1};function P(_,g){_.sort(function(a,b){var b1=Q(a.startAngle);var c1=Q(a.endAngle);var d1=Q(b.startAngle);var e1=Q(b.endAngle);if(b1<Math.PI/2&&c1>Math.PI/2||b1<Math.PI/2&&c1<b1||b1>Math.PI/2&&c1>Math.PI/2&&c1<b1){return 1}if(d1<Math.PI/2&&e1>Math.PI/2||d1<Math.PI/2&&e1<d1||d1>Math.PI/2&&e1>Math.PI/2&&e1<d1){return-1}if(c1<b1){return-1}if(e1<d1){return 1}return Math.max(a.bottomPoint1[1],a.bottomPoint2[1])-Math.max(b.bottomPoint1[1],b.bottomPoint2[1])});for(var i=0;i<_.length;i++){var a1=g.append('g').attr('class','datashape');if(E){W(_[i],a1);X(_[i],a1);$(_[i],a1)}else{V(_[i],a1);X(_[i],a1);Z(_[i],a1)}}I.initialized({name:'initialized'})};function Q(a){if(a>=-Math.PI/2&&a<=Math.PI/2*3){return a}else if(a<-Math.PI/2){return Q(2*Math.PI+a)}else if(a>Math.PI/2*3){return Q(a-2*Math.PI)}};function S(D){var a=d3.rgb(D).hsl();return d3.hsl(a.h,a.s,a.l*0.9).rgb().toString()};function V(a,g){var b,i,_,a1;if(a.bottomPoint1[1]>=a.bottomPoint2[1]){b=a.topPoint2;i=a.bottomPoint2;_=a.topPoint1;a1=a.bottomPoint1}else{b=a.topPoint1;i=a.bottomPoint1;_=a.topPoint2;a1=a.bottomPoint2}var b1='M'+x+','+y+'L'+x+','+a.cy+'L'+b[0]+','+b[1]+'L'+i[0]+','+i[1]+'z';g.append('path').attr('d',b1).attr('fill',S(a.colorValue));b1='M'+x+','+y+'L'+x+','+a.cy+'L'+_[0]+','+_[1]+'L'+a1[0]+','+a1[1]+'z';g.append('path').attr('d',b1).attr('fill',S(a.colorValue))};function W(a,g){var b,i,_,a1,b1,c1,d1,e1;if(a.bottomPoint1[1]>=a.bottomPoint2[1]){b=a.topPoint2;i=a.topPoint3;_=a.topPoint1;a1=a.topPoint4;b1=a.bottomPoint2;c1=a.bottomPoint3;d1=a.bottomPoint1;e1=a.bottomPoint4}else{b=a.topPoint1;i=a.topPoint4;_=a.topPoint2;a1=a.topPoint3;b1=a.bottomPoint1;c1=a.bottomPoint4;d1=a.bottomPoint2;e1=a.bottomPoint3}var f1='M'+b[0]+','+b[1]+'L'+i[0]+','+i[1]+'L'+c1[0]+','+c1[1]+'L'+b1[0]+','+b1[1]+'z';g.append('path').attr('d',f1).attr('fill',S(a.colorValue));Y(a,g);f1='M'+_[0]+','+_[1]+'L'+a1[0]+','+a1[1]+'L'+e1[0]+','+e1[1]+'L'+d1[0]+','+d1[1]+'z';g.append('path').attr('d',f1).attr('fill',S(a.colorValue))};function X(a,g){var b=Q(a.startAngle);var i=Q(a.endAngle);if(b>0&&i>b&&i<Math.PI){var _='M'+a.topPoint1[0]+','+a.topPoint1[1]+'A'+r+','+o+' 0 '+'0,1 '+a.topPoint2[0]+','+a.topPoint2[1]+'L'+a.bottomPoint2[0]+','+a.bottomPoint2[1]+'A'+r+','+o+' 0 '+'0,0 '+a.bottomPoint1[0]+','+a.bottomPoint1[1]+'z';g.append('path').attr('d',_).attr('fill',S(a.colorValue))}else if((b<0||b>Math.PI)&&i<Math.PI&&i>0){var _='M'+(x+r)+','+a.cy+'A'+r+','+o+' 0 '+'0,1 '+a.topPoint2[0]+','+a.topPoint2[1]+'L'+a.bottomPoint2[0]+','+a.bottomPoint2[1]+'A'+r+','+o+' 0 '+'0,0 '+(x+r)+','+y+'z';g.append('path').attr('d',_).attr('fill',S(a.colorValue))}else if(b>0&&b<Math.PI&&(i>Math.PI||i<0)){var _='M'+a.topPoint1[0]+','+a.topPoint1[1]+'A'+r+','+o+' 0 '+'0,1 '+(x-r)+','+a.cy+'L'+(x-r)+','+y+'A'+r+','+o+' 0 '+'0,0 '+a.bottomPoint1[0]+','+a.bottomPoint1[1]+'z';g.append('path').attr('d',_).attr('fill',S(a.colorValue))}else if(b<=0&&(i>=Math.PI||i<b)||b>=Math.PI&&i>=Math.PI&&i<b){var _='M'+(x+r)+','+a.cy+'A'+r+','+o+' 0 '+'0,1 '+(x-r)+','+a.cy+'L'+(x-r)+','+y+'A'+r+','+o+' 0 '+'0,0 '+(x+r)+','+y+'z';g.append('path').attr('d',_).attr('fill',S(a.colorValue))}else if(b>0&&b<Math.PI&&i>0&&i>Math.PI&&i<b){var a1='M'+(x+r)+','+a.cy+'A'+r+','+o+' 0 '+'0,1 '+a.topPoint1[0]+','+a.topPoint1[1]+'L'+a.bottomPoint1[0]+','+a.bottomPoint1[1]+'A'+r+','+o+' 0 '+'0,0 '+(x+r)+','+y+'z';var b1='M'+a.topPoint2[0]+','+a.topPoint2[1]+'A'+r+','+o+' 0 '+'0,1 '+(x-r)+','+a.cy+'L'+(x-r)+','+y+'A'+r+','+o+' 0 '+'0,0 '+a.bottomPoint2[0]+','+a.bottomPoint2[1]+'z';g.append('path').attr('d',a1).attr('fill',S(a.colorValue));g.append('path').attr('d',b1).attr('fill',S(a.colorValue))}};function Y(a,g){var b=a.endAngle-a.startAngle>Math.PI?'1':'0';var i='M'+a.topPoint4[0]+','+a.topPoint4[1]+'A'+q+','+u+' 0 '+b+',1 '+a.topPoint3[0]+','+a.topPoint3[1]+'L'+a.bottomPoint3[0]+','+a.bottomPoint3[1]+'A'+q+','+u+' 0 '+b+',0 '+a.bottomPoint4[0]+','+a.bottomPoint4[1]+'z';g.append('path').attr('d',i).attr('fill',S(a.colorValue))};function Z(a,g){var b='M'+x+','+a.cy+'L'+a.topPoint1[0]+','+a.topPoint1[1]+'A'+r+','+o+' 0 '+(a.endAngle-a.startAngle>Math.PI?'1':'0')+',1 '+a.topPoint2[0]+','+a.topPoint2[1]+'z';g.append('path').attr('class','datapoint').attr('d',b).attr('fill',a.colorValue).data(a.val)};function $(a,g){var b='M'+x+','+a.cy+'L'+a.topPoint1[0]+','+a.topPoint1[1]+'A'+r+','+o+' 0 '+(a.endAngle-a.startAngle>Math.PI?'1':'0')+',1 '+a.topPoint2[0]+','+a.topPoint2[1]+'L'+a.topPoint3[0]+','+a.topPoint3[1]+'A'+q+','+u+' 0 '+(a.endAngle-a.startAngle>Math.PI?'1':'0')+',0 '+a.topPoint4[0]+','+a.topPoint4[1]+'z';g.append('path').attr('class','datapoint').attr('d',b).attr('fill',a.colorValue).data(a.val)};n=m.props(null);return J};return h});sap.riv.module({qname:'sap.viz.modules.manifests.PieWithDepth',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.piewithdepth',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Pie',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.piewithdepth',base:'sap.viz.modules.pie','name':'piewithdepth','feeds':{id:"pie",configure:null},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var p={id:'riv/base/single',name:'IDS_BASESINGLECHART',base:'riv/base','abstract':true,modules:{main:{id:'sap.viz.modules.xycontainer'}}};M.register(p)});sap.riv.module({qname:'sap.viz.manifests.pie.PieChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Pie',version:'4.0.0'},{qname:'sap.viz.modules.manifests.DataLabel',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var p={id:'viz/pie',name:'IDS_PIECHART',base:'riv/base/single',modules:{legend:{data:{aa:[1]}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}}},modules:{plot:{id:'sap.viz.modules.pie',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'polarCoordinate',visible:false,type:'label and value',formatString:[['0.00%'],[]],automaticInOutside:false,outsideVisible:true}}}}}},dependencies:{attributes:[{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(p)});sap.riv.module({qname:'sap.viz.manifests.pie.PieWithDepthChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.pie.PieChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.PieWithDepth',version:'4.0.0'},{qname:'sap.viz.modules.manifests.DataLabel',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Rotate',version:'4.0.0'}],function Setup(M){var c={id:'viz/pie_with_depth',name:'IDS_PIEWITHDEPTHCHART',base:"riv/base/single",modules:{legend:{data:{aa:[1]}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart'],selectability:{mode:'multiple',selectWithCtrlKey:true},preserveSelectionWhenDragging:true}}},'rotate':{id:'sap.viz.modules.controller.rotate',configure:{propertyCategory:'rotate'}}},modules:{plot:{id:'sap.viz.modules.piewithdepth',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},dependencies:{attributes:[{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.rotate',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.rotate'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.pie.DonutWithDepthChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.pie.PieWithDepthChart',version:'4.0.0'}],function Setup(M){var d={'id':'viz/donut_with_depth','name':'IDS_DONUTWITHDEPTHCHART',base:'viz/pie_with_depth','modules':{'main':{'modules':{'plot':{'configure':{'description':'Settings regarding the chart area and plot area as well as general chart options.','propertyCategory':'plotArea','properties':{'isDonut':true}}}}}}};M.register(d)});sap.riv.module({qname:'sap.viz.manifests.pie.DonutChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.pie.PieChart',version:'4.0.0'}],function Setup(M){var d={'id':'viz/donut','name':'IDS_DONUTCHART',base:'viz/pie','modules':{'main':{'modules':{'plot':{'configure':{'description':'Settings regarding the chart area and plot area as well as general chart options.','propertyCategory':'plotArea','properties':{'isDonut':true}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{isDonut:true}}}}}}};M.register(d)});sap.riv.module({qname:'sap.viz.manifests.MultiLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_line',name:'IDS_MULTILINECHART',base:'riv/base/multiple/xy',modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},main:{configure:{properties:{'mergeDataRange':['primary']}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',propertyCategory:'xAxis',properties:{title:{visible:false},gridline:{visible:false},type:'category',position:'bottom'},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'yAxis',properties:{type:'value',position:'left'},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,orientation:'vertical',outsidePosition:'up',positionPreference:true}}},plot:{id:'sap.viz.modules.line',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},secondaryValues:null,axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'getColorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.plot.dataLabel',listener:'showLabel',sourceModule:'main.plot.plot',type:'initialized.datalabel'},{targetModule:'main.plot.dataLabel',listener:'removeLabel',sourceModule:'main.plot.plot',type:'startToInit.datalabel'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiHorizontalLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalLine',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiLineChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_horizontal_line',name:'IDS_MULTIHORIZONTALLINECHART',base:'viz/multi_line',modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{background:{configure:{properties:{direction:'horizontal'}}},xAxis:{id:'sap.viz.modules.axis',data:null,configure:{'description':'Settings for the value axis of an XY chart.',properties:{type:'value',gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',properties:{type:'category',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{position:'outside',automaticInOutside:false,orientation:'horizontal',outsidePosition:'right',positionPreference:true}}},plot:{id:'sap.viz.modules.horizontalline',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'getColorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapePalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualHorizontalLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiHorizontalLineChart',version:'4.0.0'}],function Setup(M,C){var m={id:'viz/multi_dual_horizontal_line',name:'IDS_MULTIDUALHORIZONTALLINECHART',base:'viz/multi_horizontal_line',modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'xAxis2',properties:{title:{visible:false},type:'value',position:'top'},propertiesOverride:{title:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main',target:'secondDataRange',sourceModule:'main.plot.plot',source:'secondDataRange'},{targetModule:'main.plot.plot',target:'secondDataRange',sourceModule:'main',source:'secondDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.xAxis2',target:'scale',sourceModule:'main.plot.plot',source:'secondaryScale'},{targetModule:'main.plot.xAxis2',target:'title',sourceModule:'main.plot.plot',source:'secondAxisTitle'},{targetModule:'main.plot.xAxis',target:'color',sourceModule:'main.plot.plot',source:'primaryAxisColor'},{targetModule:'main.plot.xAxis2',target:'color',sourceModule:'main.plot.plot',source:'secondAxisColor'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'getColorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapePalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiLineChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M,C){var m={id:'viz/multi_dual_line',name:'IDS_MULTIDUALLINECHART',base:'viz/multi_line',modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'selectability'}}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{title:{visible:false},gridline:{visible:false},type:'value',position:'right'},propertiesOverride:{title:{isExported:false}}}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main',target:'secondDataRange',sourceModule:'main.plot.plot',source:'secondDataRange'},{targetModule:'main.plot.plot',target:'secondDataRange',sourceModule:'main',source:'secondDataRange'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.yAxis2',target:'scale',sourceModule:'main.plot.plot',source:'secondaryScale'},{targetModule:'main.plot.yAxis2',target:'title',sourceModule:'main.plot.plot',source:'secondAxisTitle'},{targetModule:'main.plot.yAxis',target:'color',sourceModule:'main.plot.plot',source:'primaryAxisColor'},{targetModule:'main.plot.yAxis2',target:'color',sourceModule:'main.plot.plot',source:'secondAxisColor'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'getColorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapePalette'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.feeds.Scatter',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var f={id:"scatter",feeds:[{'id':'regionColor','name':'Region Color','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':1,'acceptMND':-1},{'id':'regionShape','name':'Region Shape','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':2,'acceptMND':-1},{'id':'primaryValues','name':'Primary Values','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1},{'id':'secondaryValues','name':'Secondary Values','type':c.Type.Measure,'min':1,'max':1,'mgIndex':2},{'id':'bubbleWidth','name':'Bubble Width','type':c.Type.Measure,'min':0,'max':1,'mgIndex':3},{'id':'bubbleHeight','name':'Bubble Height','type':c.Type.Measure,'min':0,'max':1,'mgIndex':4}]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.bubble',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.ShapeSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.util.lassoSelection',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.format.FormatManager',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(c,C,S,T,R,e,l,f,N,D,k,t,O,n,k,B){return function(o,p){var q=500,s=300,u=0;var v=null,z={};var A=d3.scale.linear();var E=d3.scale.linear();var F,G;var H,I,J,K,L,M,P,Q;var U=R.newId();function V(){H=0;I=Number.MAX_VALUE;J=0;K=Number.MAX_VALUE;L=0;M=0;P=0;Q=0}V();var W;var X=1/6;var Y=C.sap32().range(),Z=S.sapShapes().range();var $=[];var g,a1,b1,c1,d1,e1;var f1=[];var g1=true;var h1={'stroke':'#ffffff','stroke-width':1};var i1={'stroke':'#333333','stroke-width':1};var j1=1000;var k1=true,l1=true,m1=true;var n1=new c('selectData','deselectData','showTooltip','hideTooltip','initialized','startToInit');var o1;var p1=null;var q1='normal';var r1=p.effectManager;var s1=10;var t1=false;var u1;function v1(a){B.drawBound(a,q,s);o1=a;z1(a);m1=false;return v1}v1.width=function(a){if(!arguments.length){return q}q=a;if(T.isExist(q)&&T.isExist(s)&&T.isExist(v)){y1()}return v1};v1.height=function(a){if(!arguments.length){return s}s=a;if(T.isExist(q)&&T.isExist(s)&&T.isExist(v)){y1()}return v1};v1.afterUIComponentAppear=function(){n1.initialized()};v1.padding=function(a){if(!arguments.length){return u}u=a;if(T.isExist(q)&&T.isExist(s)&&T.isExist(v)){y1()}return v1};v1.valueAxis1Scale=function(a){if(!arguments.length){return A}A=a;return v1};v1.valueAxis2Scale=function(a){if(!arguments.length){return E}E=a;return v1};v1.valueAxis1DataRange=function(r){if(!arguments.length){return{min:M,max:L}}L=r.max;M=r.min;if(T.isExist(q)&&T.isExist(s)){y1()}return v1};v1.valueAxis2DataRange=function(r){if(!arguments.length){return{min:Q,max:P}}P=r.max;Q=r.min;if(T.isExist(q)&&T.isExist(s)){y1()}return v1};v1.bubbleWidthDataRange=function(r){if(!arguments.length){return{distinctValuesObj:W,min:I,max:H}}H=r.max;I=r.min;W=r.distinctValuesObj;if(T.isExist(q)&&T.isExist(s)){y1()}return v1};v1.bubbleHeightDataRange=function(r){if(!arguments.length){return{min:K,max:J}}J=r.max;K=r.min;if(T.isExist(q)&&T.isExist(s)){y1()}return v1};v1.colorPalette=function(a){if(!arguments.length){return Y}Y=a;return v1};v1.shapes=function(a){if(!arguments.length){return Z}Z=a;return v1};v1.sizeLegend=function(){var h=v.getMeasureValuesGroupDataByIdx(3);var a=(T.isExist(h)&&h.values.length>0);return{bubbleScale:X,space:u,scale:F,data:B1(),title:p1,hasHeightFeed:a}};v1.dispatch=function(_){if(!arguments.length){return n1}n1=_;return this};v1.dataLabel=function(_){};v1.data=function(a){if(!arguments.length){return v}v=a;if(T.isExist(q)&&T.isExist(s)&&T.isExist(v)){x1();y1()}return v1};v1.valueAxis1Title=function(_){if(!arguments.length){var a=v.getMeasureValuesGroupDataByIdx(0),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(k.get('IDS_ISNOVALUE'))}}}return b.join('/')}return this};v1.valueAxis2Title=function(_){if(!arguments.length){var a=v.getMeasureValuesGroupDataByIdx(1),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){if(a.values[i].col!==null&&a.values[i].col!==undefined){b.push(a.values[i].col)}else{b.push(k.get('IDS_ISNOVALUE'))}}}return b.join('/')}return this};v1.properties=function(_){if(!arguments.length){return z}O.extend(true,z,_);w1();return v1};function w1(){Y=z.colorPalette;Z=z.shapePalette;g1=z.axisTooltip.visible;q1=z.drawingEffect;k1=z.animation.dataLoading;l1=z.animation.dataUpdating;u1=z.axisTooltip.formatString;var _=z.markerSize;s1=T.isExist(_)&&_<=32&&_>=4?_:s1;if(z.xScaleType&&z.xScaleType==="log"){A=d3.scale.log()}}function x1(){V();var m=v.getMeasureValuesGroupDataByIdx(0);var a=v.getMeasureValuesGroupDataByIdx(1);var b=v.getMeasureValuesGroupDataByIdx(2);var d=v.getMeasureValuesGroupDataByIdx(3);W={};for(var i=0;i<m.values[0].rows.length;i++){for(var j=0;j<m.values[0].rows[i].length;j++){var x=m.values[0].rows[i][j].val;var y=a.values[0].rows[i][j].val;if(N.isNoValue(x)||N.isNoValue(y)){continue}var w=b&&b.values.length&&T.isExist(b.values[0].rows[i][j].val)?Math.abs(b.values[0].rows[i][j].val):null;var h;if(d&&d.values.length){if(T.isExist(d.values[0].rows[i][j].val)){h=Math.abs(d.values[0].rows[i][j].val)}else{h=null}}else{h=w}if(!N.isNoValue(w)){W[w]=''}L=x>L?x:L;M=x<M?x:M;P=y>P?y:P;Q=y<Q?y:Q;H=w>H?w:H;I=w<I?w:I;J=h>J?h:J;K=h<K?h:K}}}function y1(){var b=v.getMeasureValuesGroupDataByIdx(2);var a=v.getMeasureValuesGroupDataByIdx(3);if(z.xScaleRange){A.domain([z.xScaleRange.min,z.xScaleRange.max]).range([u,q-u]).nice()}else{if(L===0&&M===0){A.domain([0,1]).range([u,q-u]).nice()}else{A.domain([M*(1+X),L*(1+X)]).range([u,q-u]).nice()}}f.perfect(A);if(P===0&&Q===0){E.domain([0,1]).range([s-u,u]).nice()}else{E.domain([Q*(1+X),P*(1+X)]).range([s-u,u]).nice()}f.perfect(E);var r;if(b&&b.values.length&&H!==I){if(z.wScaleMax){F=A1(z.wScaleMax,true,a)}else{F=A1(H,true,a)}p1=b.values[0].col}else{F=function(d){return s1}}if(a&&a.values.length&&J!==K){G=A1(J,false)}else{if(F&&J>K){G=F}else{G=function(d){return s1}}}}function z1(r){if(g){g.remove()}if(a1){a1.remove()}n1.startToInit();var i;var _=d3.select(r.node().ownerSVGElement.parentNode);if(g1&&_.select('svg.sc-tooltip-x').node()===null){_.append('svg').style('position','absolute').attr('class','sc-tooltip-x').attr('pointer-events','none').attr('width','0').attr('height',0)}b1=_.select('svg.sc-tooltip-x');if(g1&&_.select('svg.sc-tooltip-y').node()===null){_.append('svg').style('position','absolute').attr('class','sc-tooltip-y').attr('pointer-events','none').attr('width','0').attr('height',0)}c1=_.select('svg.sc-tooltip-y');var G1=v.getMeasureValuesGroupDataByIdx(0);var H1=v.getMeasureValuesGroupDataByIdx(1);var I1=v.getMeasureValuesGroupDataByIdx(2);var J1=v.getMeasureValuesGroupDataByIdx(3);var K1=v.getAnalysisAxisDataByIdx(0);var L1=v.getAnalysisAxisDataByIdx(1);var M1='edge-clip-'+U;a1=r.append('defs');a1.append('clipPath').attr('id',M1).append('rect').attr('width',q).attr('height',s);g=r.append('g').attr('class','datashapesgroup');g.attr('clip-path','url(#'+M1+')');g.append('rect').attr('x',0).attr('y',0).attr('width',q).attr('height',s).attr('fill-opacity',0).attr('id','event-rect'+U);d1=g.append('line').attr('id','cross-x-'+U).attr('stroke-width',1).attr('stroke','#cccccc').attr('shape-rendering','crispEdges').attr('visibility','hidden');e1=g.append('line').attr('id','cross-y-'+U).attr('stroke-width',1).attr('stroke','#cccccc').attr('shape-rendering','crispEdges').attr('visibility','hidden');var N1=0;var O1={};function P1(i,R1,Q1){for(var j=0;j<G1.values[0].rows[i].length;j++){var a=(K1&&K1.values.length>0)?K1.values[0].rows[j].val:0;var Y1;if(O1[a]){Y1=O1[a]}else{Y1=Y[N1%Y.length];O1[a]=Y1;N1++}var x=G1.values[0].rows[i][j].val;var y=H1.values[0].rows[i][j].val;var w=I1&&I1.values.length?I1.values[0].rows[i][j].val:null;var h=J1&&J1.values.length?J1.values[0].rows[i][j].val:null;var b={x:x,y:y,w:w,h:h,colorIndex:j,shapeIndex:i,colorValue:Y1,shapeValue:R1,val:[x,y,w,h],ctx:[G1.values[0].rows[i][j].ctx,H1.values[0].rows[i][j].ctx,I1&&I1.values.length?I1.values[0].rows[i][j].ctx:null,J1&&J1.values.length?J1.values[0].rows[i][j].ctx:null]};if(!N.isNoValue(x)&&!N.isNoValue(y)){Q1.push(b)}}}var Q1=[];var R1;if(L1&&L1.values.length>0){i=0;for(var S1=0,T1={};i<L1.values[0].rows.length;i++){var U1=L1.values[0].rows[i].val;if(T1[U1]){R1=T1[U1]}else{R1=Z[S1%Z.length];T1[U1]=R1;S1++}P1(i,R1,Q1)}}else{P1(0,Z[0],Q1)}Q1.sort(function(a,b){var d=a.h===null?a.w:a.h;var j=b.h===null?b.w:b.h;return Math.abs(b.w*j)-Math.abs(a.w*d)});var V1=0;t1=false;D1();function W1(d,m){V1++;if(V1===Q1.length){t1=true;n1.initialized()}}var X1=(k1&&m1)||(l1&&!m1);for(i=0;i<Q1.length;i++){var x=Q1[i].x,y=Q1[i].y,w=Q1[i].w,h=J1&&J1.values.length?Q1[i].h:w,Y1=Q1[i].colorValue;R1=Q1[i].shapeValue;var Z1;var rx=F(w)/2,ry=G(h)/2;var a2=0;if(X1){a2=j1}var b2=g.append('g').attr('class','datashape').attr('transform','translate('+A(x)+','+E(y)+')');var c2=D.createElements(b2,{shape:R1,className:"viz-correlation-marker datapoint"});var d2={drawingEffect:q1,fillColor:Y1,graphType:R1,direction:'vertical',rx:rx,ry:ry,borderWidth:h1['stroke-width'],borderColor:h1['stroke'],node:c2,visibility:"visible",animateTime:a2,endFunc:W1};D.drawGraph(d2,r1).attr('opacity','0.8')}r.selectAll('.viz-correlation-marker').data(Q1);if(!X1){t1=true;n1.initialized()}}function A1(m,w,h){return function(a){if(N.isNoValue(a)){return 4}var b;if(w){b=!h&&s<q?s:q}else{b=s}var r=Math.pow(Math.abs(a)/m,0.5)*(b-u)*X;return r>4?r:4}}function B1(){var w=0;for(var i in W){if(W.hasOwnProperty(i)){w++}}if(w===0){return[]}else if(w===1){return[H]}else if(w===2){return[H,I]}else{return[H,(H+I)/2,I]}}v1.parent=function(){return o1};v1.mouseover=function(a){var i=d3.select(a);if(i===undefined||i.node()===null||!t1){return}if(i.attr('id')!==null&&(i.attr('id')===('event-rect'+U)||i.attr('id').indexOf('cross-x-')>=0||i.attr('id').indexOf('cross-y-')>=0)){return}var b=i.datum();i.attr('opacity','1');d1.attr('visibility','visible').attr('x1',0).attr('y1',E(b.y)).attr('x2',q).attr('y2',E(b.y));e1.attr('visibility','visible').attr('x1',A(b.x)).attr('y1',0).attr('x2',A(b.x)).attr('y2',s);C1(b,o1[0][0].getTransformToElement(o1[0][0].ownerSVGElement))};v1.mouseout=function(a,i){var b=d3.select(a);if(b===undefined||b.node()===null||!t1){return}if(b.attr('id')===('event-rect'+U)){return}if(i){b.attr('opacity','0.8')}else{b.attr('opacity','0.2')}d1.attr('visibility','hidden');e1.attr('visibility','hidden');D1()};function C1(a,b){var m=v.getMeasureValuesGroupDataByIdx(0);var d=v.getMeasureValuesGroupDataByIdx(1);var h=v.getMeasureValuesGroupDataByIdx(2);var r=v.getMeasureValuesGroupDataByIdx(3);var w=v.getAnalysisAxisDataByIdx(0);var x=v.getAnalysisAxisDataByIdx(1);var y={body:[],footer:[]};var _;for(var i=0,G1=(w?w.values.length:0);i<G1;i++){_={};_.label=w.values[i].col.val;_.value=w.values[i].rows[a.colorIndex].val;y.footer.push(_)}for(var j=0,H1=(x?x.values.length:0);j<H1;j++){_={};_.label=x.values[j].col.val;_.value=x.values[j].rows[a.shapeIndex].val;y.footer.push(_)}y.body.push({name:!T.isExist(m.values[0].col)?k.get('IDS_ISNOVALUE'):m.values[0].col,val:[{color:a.colorValue,shape:a.shapeValue,value:a.x}]});y.body.push({name:!T.isExist(d.values[0].col)?k.get('IDS_ISNOVALUE'):d.values[0].col,val:[{color:a.colorValue,shape:a.shapeValue,value:a.y}]});if(h&&h.values.length>0){y.body.push({name:!T.isExist(h.values[0].col)?k.get('IDS_ISNOVALUE'):h.values[0].col,val:[{color:a.colorValue,shape:a.shapeValue,value:N.isNoValue(a.w)?k.get('IDS_ISNOVALUE'):a.w}]})}if(r&&r.values.length>0){y.body.push({name:!T.isExist(r.values[0].col)?k.get('IDS_ISNOVALUE'):r.values[0].col,val:[{color:a.colorValue,shape:a.shapeValue,value:N.isNoValue(a.h)?k.get('IDS_ISNOVALUE'):a.h}]})}y.point={x:A(a.x),y:E(a.y)+b.f};y.plotArea={x:b.e,y:b.f,width:q,height:s};n1.showTooltip(t.formatTooltipData(y));if(g1){var I1,J1;if(T.isExist(u1)){I1=n.format(a.x,u1[0]);J1=n.format(a.y,u1[1])}else{I1=a.x;J1=a.y}E1(I1,b1,{x:A(a.x),y:E(a.y)},b,'x');E1(J1,c1,{x:A(a.x),y:E(a.y)},b,'y')}}function D1(){n1.hideTooltip();if(g1){b1.selectAll('g').remove();c1.selectAll('g').remove()}}function E1(a,b,d,h,i){var j={size:'12px',weight:'bold',family:'"Open Sans", Arial, Helvetica, sans-serif'};var m=e.fastMeasure(a,j.size,j.weight,j.family);b.attr('width',m.width+20).attr('height',m.height+10);b.wrapper=b.append('g');b.wrapper.append('rect').attr('x',1).attr('y',1).attr('rx',4).attr('ry',4).attr('width',m.width+18).attr('height',m.height+8).attr('fill','#ffffff').attr('stroke','#000000').attr('stroke-width',1);b.wrapper.append('text').attr('x',10).attr('y',m.height+3).attr('fill','#000000').style('font',j.weight+' '+j.size+' '+j.family).text(a);if('y'===i){b.style('left',h.e-b.attr('width')+1+'px').style('top',(d.y+h.f-b.attr('height')/2)+'px')}else if('x'===i){b.style('left',d.x+h.e-b.attr('width')/2+'px').style('top',h.f+s-1+'px')}}function F1(a){var m=v.getMeasureValuesGroupDataByIdx(0);var b=v.getMeasureValuesGroupDataByIdx(1);var d=v.getMeasureValuesGroupDataByIdx(2);var h=v.getMeasureValuesGroupDataByIdx(3);var r=[];for(var i=0;i<a.length;i++){var j=a[i].colorIndex;var w=a[i].shapeIndex;r.push([m.values[0].rows[w][j],b.values[0].rows[w][j],d&&d.values.length>0?d.values[0].rows[w][j]:null,h&&h.values.length>0?h.values[0].rows[w][j]:null])}return r}v1.highlight=function(a){if(T.isArray(a)){for(var i=0,b=a.length;i<b;i++){d3.select(a[i]).attr('class','viz-correlation-marker-selected datapoint').attr('opacity','0.8').attr('stroke',i1['stroke']).attr('stroke-width',i1['stroke-width'])}}else{d3.select(a).attr('class','viz-correlation-marker-selected datapoint').attr('opacity','0.8').attr('stroke',i1['stroke']).attr('stroke-width',i1['stroke-width'])}};v1.unhighlight=function(a){if(T.isArray(a)){for(var i=0,b=a.length;i<b;i++){d3.select(a[i]).attr('class','viz-correlation-marker datapoint').attr('opacity','0.2').attr('stroke',h1['stroke']).attr('stroke-width',h1['stroke-width'])}}else{d3.select(a).attr('class','viz-correlation-marker datapoint').attr('opacity','0.2').attr('stroke',h1['stroke']).attr('stroke-width',h1['stroke-width'])}};v1.clear=function(a){var b=o1.selectAll('.datapoint').attr('class','viz-correlation-marker datapoint').attr('stroke',h1['stroke']).attr('stroke-width',h1['stroke-width']);if(a){b.attr('opacity','0.2')}else{b.attr('opacity','0.8')}};z=o.props(null);return v1}});sap.riv.module({qname:'sap.viz.modules.manifests.Bubble',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.bubble',version:'4.0.0'},{qname:'sap.viz.feeds.Scatter',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.bubble','type':C.Module.Type.Chart,'name':'bubble','data':'DATA STRUCTURE DOC','properties':{'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColor,'description':'Set marker color of bubble.'},'shapePalette':{'name':'shapePalette','supportedValueType':'StringArray','defaultValue':['circle','square','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'],'supportedValues':['circle','square','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'],'description':'Set marker shape of bubble.'},'axisTooltip':{'name':'axisTooltip','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'enabled/disabled tooltip.'},'formatString':{'name':'formatString','supportedValueType':'StringArray','defaultValue':null,'description':'Set format string for small tooltip.The first one is applied to xAxis and the second one is applied to yAxis'}},'description':'Set tooltip related properties.'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'enable/disable data loading animation of bubble/scatter.'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'enable/disable data updating animation of bubble/scatter.'}},'description':'Set animation of bubble/scatter.'},'drawingEffect':{'name':'drawingEffect','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Drawing effect of bubble marker.','isExported':true}},'events':{'initialized':C.Module.Event.Initialized.desc,'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc,'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'feeds':{id:"scatter",configure:{bubbleWidth:{min:1}}},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.Scatter',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Bubble',version:'4.0.0'}],function Setup(M,C){var m={'id':'sap.viz.modules.scatter',base:'sap.viz.modules.bubble','name':'scatter','properties':{'markerSize':{'name':'markerSize','supportedValueType':'PositiveInt','defaultValue':"10",'description':'Set marker size of data point. The available range is from 4 to 32.'}},'feeds':{configure:{bubbleWidth:null,bubbleHeight:null}}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.ScatterInMatrix',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Scatter',version:'4.0.0'}],function Setup(M,C){var m={'id':'sap.viz.modules.scatterInMatrix',base:'sap.viz.modules.scatter','name':'scatterInMatrix','feeds':null};M.register(m)});sap.riv.module({qname:'sap.viz.feeds.ScatterMatrix',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var f={id:"scattermatrix",feeds:[{'id':'regionColor','name':'Region Color','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':1,'acceptMND':-1},{'id':'regionShape','name':'Region Shape','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':2,'acceptMND':-1},{'id':'primaryValues','name':'Primary Values','type':c.Type.Measure,'min':2,'max':c.Constraints.INF,'mgIndex':1}]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.scattermatrixcontainer',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.modules.layout',version:'4.0.0'},{qname:'sap.viz.data.handler.MultiChartDataHandler',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,O,F,l,M,a,b,d,c,e){return function(f,g){var w=0,h=0,s=0,j=0,p={},k={},n={},o={},q={},r=null,t=null,u=[];var v=true;var x=false;var y=new d('initialized','showTooltip','hideTooltip'),z=0;var A={};var B=f.props(null);var C=function(_){if(_===null||_===undefined){return c.get('IDS_ISNOVALUE')}else{return _}};function D(m){return a.module.get(m).execute(g)}function E(){var i=g.styleManager.query('viz-matrix-sub-title');if(i){if(i['fill']){A.fill=i['fill']}if(i['font-family']){A.family=i['font-family']}if(i['font-size']){A.size=i['font-size']}if(i['font-weight']){A.weight=i['font-weight']}}};function G(){var i=n.modules.plot;if(!i)return;delete o.plot;o.plot=[];var m=k.getMeasureValuesGroupDataByIdx()[0].values.length;for(var X=0;X<m;X++){for(var Y=0;Y<m;Y++){var Z=o.plot[Y*m+X]=D(i.id);Z.config(i);z++;if(Z.dispatch){var $=Z.dispatch();if($.initialized)$.on('initialized.scattermatrixcontainer',U);if($.showTooltip)$.on('showTooltip.scattermatrixcontainer',V);if($.hideTooltip)$.on('hideTooltip.scattermatrixcontainer',W)}}}}function H(){if(T.isExist(p.multiLayout)&&T.isExist(p.multiLayout.plotTitle)&&T.isExist(p.multiLayout.plotTitle.visible)){v=p.multiLayout.plotTitle.visible;B.plotTitle.visible=p.multiLayout.plotTitle.visible}var m=o.plot;if(m){var X=n.modules.plot;if(!X)return;var Y;if(X.configure){if(X.configure.propertyCategory){Y=O.extend(true,{},p[X.configure.propertyCategory])}}else{Y=p}for(var i=0,Z=m.length;i<Z;i++){if(Y){m[i].properties(Y)}}}E()}function I(){u=[];t=new M(k,"measures");var m=k.getMeasureValuesGroupDataByIdx()[0].values.length;for(var i=0;i<m;i++){for(var X=0;X<m;X++){var Y=t.getSubDataAdapterByMeasures({row:X,col:i});var Z=o.plot[X*m+i];Z.data(Y);var $=u[X*m+i];if(!$)$=u[X*m+i]={};$.empty=(i==X);$.label=(i==X?C(Y.getMeasureValuesGroupDataByIdx(0).values[0].col):C(Y.getMeasureValuesGroupDataByIdx(0).values[0].col)+' - '+C(Y.getMeasureValuesGroupDataByIdx(1).values[0].col))}}}function J(){delete q.plot;r.select('.plot').remove();if(o.plot&&!q.plot){var X=q.plot=[];var Y=q.plotRoot=r.append('g').attr('class','plot');for(var i=0,Z=o.plot.length;i<Z;i++){X[i]=Y.append('g').attr('class','plot'+i);var $=o.plot[i];var _=$.parent(X[i]).modules();for(var m in _)if(_.hasOwnProperty(m))o['plot['+i+']'+'.'+m]=_[m]}}}function K(){if(T.isEmptyObject(n))F.error('Container configuration missing');z=0;G();H();I();J()};function L(){if(T.isEmptyObject(o)||!w||!h)return;E();var m=k.getMeasureValuesGroupDataByIdx()[0].values.length;s=w/m;j=h/m;var i=R();var X=i.height;if(!v||i.width>s||i.height>j/3){i.height=0;x=true}for(var Y=0;Y<m;Y++){for(var Z=0;Z<m;Z++){var $=o.plot[Z*m+Y];var _=q.plot[Z*m+Y];$.width(s).height(j-X);_.attr('transform','translate('+(s*Y)+','+(j*Z)+')')}}};function N(i){i.each(function(k){r=i;e.drawBound(i,w,h);if(T.isEmptyObject(o)){K()}L();P()});return N}N.width=function(_){if(!arguments.length)return w;if(w!==_){w=_;L()}return N};N.height=function(_){if(!arguments.length)return h;if(h!==_){h=_;L()}return N};N.size=function(_){if(!arguments.length)return{'width':w,'height':h};if(h!==_.height||w!==_.width){h=_.height;w=_.width;L()}return N};N.data=function(_){if(!arguments.length)return k;k=_;if(!T.isEmptyObject(o)){z=0;G();H();I();J()}return N};N.properties=function(_){if(!arguments.length)return B;p=_;if(!T.isEmptyObject(o)){H()}return N};N.config=function(_){if(!arguments.length)return n;n=_;return N};N.modules=function(_){if(!arguments.length){if(T.isEmptyObject(o)){K()}return o}o=_;return N};N.parent=function(_){if(!arguments.length)return r;r=_;return N};N.dispatch=function(_){if(!arguments.length){return y}y=_;return N};function P(){if(q.plot){for(var i=0,m=q.plot.length;i<m;i++){if(u[i].empty){Q(q.plot[i],u[i],j/2);U()}else{q.plot[i].datum(o.plot[i].data()).call(o.plot[i]);Q(q.plot[i],u[i],j)}}}x=false};function Q(i,m,X){if(m.shape){m.shape.remove()}if(x){return}var Y=b.fastMeasure(m.label,A.size,A.weight,A.family);m.shape=i.append('text').attr('class','sub-plot-title').attr('text-anchor','middle').attr('x',s/2).attr('y',X-Y.height/2).attr('fill',A.fill).style('font-weight',A.weight).style('font-size',A.size).style('font-family',A.family).attr('dominant-baseline','middle').style('cursor','default');b.ellipsis(m.label,m.shape.node(),s-5,"font:"+A.weight+' '+A.size+' '+A.family)};function R(){var m=0,X=0;for(var i=0,Y=u.length;i<Y;i++){var Z=b.fastMeasure(u[i].label,A.size,A.weight,A.family);X=Z.height>X?Z.height:X;m=Z.width>m?Z.width:m}return{width:m,height:X}}var S=0;function U(){if(++S==z){S=0;y.initialized()}}function V(i){y.showTooltip(i)};function W(i){y.hideTooltip(i)};return N}});sap.riv.module({qname:'sap.viz.modules.manifests.ScatterMatrixContainer',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.scattermatrixcontainer',version:'4.0.0'},{qname:'sap.viz.feeds.ScatterMatrix',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.scattermatrixcontainer','type':C.Module.Type.Container,'name':'Scatter Matrix Container','description':'Settings for the subcharts layout of Scatter Matrix chart.','properties':{'plotTitle':{'name':'plotTitle','description':'Settings for plot title.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of sub plot title.'}},}},'css':{'.viz-matrix-sub-title':{'description':'Define style for the sub plot title.','value':{'fill':'black','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'bold'}}},'feeds':{id:'scattermatrix'},'events':{'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'fn':f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.ScatterMatrixChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.ScatterMatrixContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.ScatterInMatrix',version:'4.0.0'}],function Setup(M){var s={id:'viz/scatter_matrix',name:'IDS_SCATTERMATRIXCHART',base:'riv/base',modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:'BubbleColorLegend'}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'scattermatrix',orientation:'left'}}},main:{id:'sap.viz.modules.scattermatrixcontainer',configure:{propertyCategory:'multiLayout'},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',data:{mg:[1]},configure:{'description':'Settings for the x axis of a normal bubble or scatter plot.',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:false}}}},yAxis:{id:'sap.viz.modules.axis',data:{mg:[2]},configure:{'description':'Settings for the y axis of a normal bubble or scatter plot.',propertyCategory:'yAxis',properties:{type:'value',position:'left',gridline:{visible:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,position:'outside'}}},plot:{id:'sap.viz.modules.scatterInMatrix',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis2Scale'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis1Scale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis1Title'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis2Title'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapes'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.plot.dataLabel',listener:'showLabel',sourceModule:'main.plot.plot',type:'initialized.datalabel'},{targetModule:'main.plot.dataLabel',listener:'removeLabel',sourceModule:'main.plot.plot',type:'startToInit.datalabel'}]}};M.register(s)});sap.riv.module({qname:'sap.viz.manifests.MultiScatterChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Scatter',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_scatter',name:'IDS_MULTISCATTERCHART',base:'riv/base/multiple/xy',modules:{legend:{data:{aa:[2,3]},configure:{properties:{type:'BubbleColorLegend'}}},tooltip:{configure:{properties:{chartType:'scatter',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},configure:{properties:{'mergeDataRange':['valueAxis1','valueAxis2']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the x axis of a normal bubble or scatter plot.',propertyCategory:'xAxis',properties:{title:{visible:false},type:'value',position:'bottom'},propertiesOverride:{title:{isExported:false}}}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{automaticInOutside:false,orientation:'vertical',position:'outside',outsideVisible:true}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the y axis of a normal bubble or scatter plot.',propertyCategory:'yAxis',properties:{title:{visible:false},type:'value',position:'left'},propertiesOverride:{title:{isExported:false}}}},plot:{id:'sap.viz.modules.scatter',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{acceptMND:-1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'valueAxis1DataRange',sourceModule:'main.plot.plot',source:'valueAxis1DataRange'},{targetModule:'main.plot.plot',target:'valueAxis1DataRange',sourceModule:'main',source:'valueAxis1DataRange'},{targetModule:'main',target:'valueAxis2DataRange',sourceModule:'main.plot.plot',source:'valueAxis2DataRange'},{targetModule:'main.plot.plot',target:'valueAxis2DataRange',sourceModule:'main',source:'valueAxis2DataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis1Scale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis1Title'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis2Scale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis2Title'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapes'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.plot.dataLabel',listener:'showLabel',sourceModule:'main.plot.plot',type:'initialized.datalabel'},{targetModule:'main.plot.dataLabel',listener:'removeLabel',sourceModule:'main.plot.plot',type:'startToInit.datalabel'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiBubbleChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Scatter',version:'4.0.0'},{qname:'sap.viz.manifests.MultiScatterChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_bubble',name:'IDS_MULTIBUBBLECHART',base:'viz/multi_scatter',modules:{legend:{data:{aa:[2,3]}},sizeLegend:{id:'sap.viz.modules.legend',configure:{'description':'The size legend is a box mapping the charts data shapes\' size to the value by some typical symbols and associated indication values.',propertyCategory:'sizeLegend',properties:{type:'SizeLegend'}}},tooltip:{configure:{properties:{chartType:'bubble',orientation:'left'}}},main:{configure:{properties:{'mergeDataRange':['valueAxis1','valueAxis2','bubbleWidth','bubbleHeight']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{automaticInOutside:true}}},plot:{id:'sap.viz.modules.bubble',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{acceptMND:-1},secondaryValues:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'valueAxis1DataRange',sourceModule:'main.plot.plot',source:'valueAxis1DataRange'},{targetModule:'main.plot.plot',target:'valueAxis1DataRange',sourceModule:'main',source:'valueAxis1DataRange'},{targetModule:'main',target:'valueAxis2DataRange',sourceModule:'main.plot.plot',source:'valueAxis2DataRange'},{targetModule:'main.plot.plot',target:'valueAxis2DataRange',sourceModule:'main',source:'valueAxis2DataRange'},{targetModule:'main',target:'bubbleWidthDataRange',sourceModule:'main.plot.plot',source:'bubbleWidthDataRange'},{targetModule:'main.plot.plot',target:'bubbleWidthDataRange',sourceModule:'main',source:'bubbleWidthDataRange'},{targetModule:'main',target:'bubbleHeightDataRange',sourceModule:'main.plot.plot',source:'bubbleHeightDataRange'},{targetModule:'main.plot.plot',target:'bubbleHeightDataRange',sourceModule:'main',source:'bubbleHeightDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis1Scale'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis2Scale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis1Title'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis2Title'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapes'},{targetModule:'sizeLegend',target:'sizeLegendInfo',sourceModule:'main.plot.plot',source:'sizeLegend'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.scatter.BaseBubbleChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'}],function Setup(M){var c={id:'viz/scatter/single/base',name:'IDS_BASEBUBBLECHART','abstract':true,base:'riv/base/single',modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:'BubbleColorLegend'},propertiesOverride:{isHierarchical:{isExported:false}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',orientation:'vertical',visible:false,position:'outside',outsideVisible:true}}},xAxis:{id:'sap.viz.modules.axis',data:{mg:[1]},configure:{'description':'Settings for the x axis of a normal bubble or scatter plot.',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:false}}}},yAxis:{id:'sap.viz.modules.axis',data:{mg:[2]},configure:{'description':'Settings for the y axis of a normal bubble or scatter plot.',propertyCategory:'yAxis',properties:{type:'value',position:'left',gridline:{visible:true}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}}}}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'valueAxis1Scale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'valueAxis2Scale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'valueAxis1Title'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'valueAxis2Title'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapes'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.scatter.ScatterChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.scatter.BaseBubbleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Scatter',version:'4.0.0'}],function Setup(M){var c={id:'viz/scatter',name:'IDS_SCATTERCHART',base:"viz/scatter/single/base",modules:{tooltip:{configure:{properties:{chartType:'scatter'}}},main:{modules:{plot:{id:'sap.viz.modules.scatter',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:false}}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.scatter.BubbleChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.scatter.BaseBubbleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Bubble',version:'4.0.0'}],function Setup(M){var c={id:'viz/bubble',name:'IDS_BUBBLECHART',base:"viz/scatter/single/base",modules:{sizeLegend:{id:'sap.viz.modules.legend',configure:{'description':'The size legend is a box mapping the charts data shapes\' size to the value by some typical symbols and associated indication values.',propertyCategory:'sizeLegend',properties:{type:'SizeLegend'},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{configure:{properties:{chartType:'bubble'}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{properties:{automaticInOutside:true}}},plot:{id:'sap.viz.modules.bubble',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:'sizeLegend',target:'sizeLegendInfo',sourceModule:'main.plot',source:'sizeLegend'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.feeds.TreeMap',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var r={'id':'rectangleTitle','name':'Rectangle Title','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1,'maxStackedDims':6};var a={'id':'rectangleWeight','name':'Rectangle Weight','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1};var b={'id':'rectangleColor','name':'Rectangle Color','type':c.Type.Measure,'min':0,'max':1,'mgIndex':2};var f={id:"treeMap",feeds:[r,b,a]};M.register(f)});sap.riv.module({qname:'sap.viz.util.MeasureBasedColoring',version:'4.0.0'},[],function Setup(){var M={getScale:function(m,b,t,s,e){var c=d3.scale.linear().domain([m,b]).range([s,e]).nice();var d=c.domain();var h=g(d[0]),j=g(d[1]);var k=h>j?h:j;k++;var n=c.domain();n=f(n,k);m=n[0];b=n[1];if(m===b){t=1}var l=b-m,o=[],p,q=0;if(l/t>1){if(l%t===0){p=a(l/t,k+1);q=g(p);for(var i=0;i<t+1;i++){o.push(m+a(i*p,q))}}else{p=Math.ceil(l/t);q=g(p);var r=Math.floor(m/p)*p;if(r===0||(r+p*t<b))r=m;for(var i=0;i<t+1;i++){o.push(r+a(i*p,q))}}}else{r=m,p=a(l/t,k+1);q=g(p);for(var i=0;i<t;i++){o.push(r+a(i*p,q))}o.push(a(b,q))}for(var i=0,u=o.length;i<u;i++){o[i]=a(o[i],q)}c=d3.scale.linear().domain([0,t-1]).range([s,e]);var v=[],w=[];for(var i=0,u=o.length-1;i<u;i++){v.push([o[i],o[i+1]]);w.push(c(i))}var x=d3.scale.ordinal().domain(v).range(w);return x}};var f=function(r,p){for(var i=0,l=r.length;i<l;i++){r[i]=a(r[i],p)}return r};var g=function(v){var t=v.toString().split(".");return t.length>1?t[1].length:0};var a=function(v,p){return Math.round(Math.pow(10,p)*v)/Math.pow(10,p)};return M});sap.riv.module({qname:'sap.viz.modules.treemap',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.MeasureBasedColoring',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(a,C,t,N,T,N,b,M,l,R,O,c){var e=function(m,f){var r=R.newId();var g=function(d,i){for(var j in i){if(typeof(i[j])==="object"){if(d[j]){d[j]=g(d[j],i[j])}else{d[j]=i[j]}}else{d[j]=i[j]}}return d};var h=[];var k,n;var o={"emptycolor":"#e0e0e0",'animation':{dataLoading:true,dataUpdating:false,resize:true,},'colornumber':5,'discretecolor':false,'colorPalette':[],tooltip:{enabled:true,}};o=g(o,m.props(null));var p=m.props(null);var q="'Open Sans', Arial, Helvetica, sans-serif";var s;var u;var v=true;var w="tree";var x="treeItem";var y;var z=d3.scale.ordinal();var A=d3.scale.ordinal();var B=new a('selectData','deselectData','initialized','showTooltip','hideTooltip','startToInit');var D="#ffffff";var E;var F;var G;var H;var I=null;var J=null;var K=null;var L=f.effectManager;var P=6;var Q=null;var S=l.get('IDS_ISNOVALUE');var U={};U.fontSize="12px";U.fontWeight="normal";U.fontFamily="'Open Sans', Arial, Helvetica, sans-serif";U.fill="#ffffff";var V=function(_,d){return b.fastMeasure(_,d['font-size'],d['font-weight'],d['font-family'])};var W=function(d){if(d===null||d===undefined){d=l.get('IDS_ISNOVALUE')}return d};var X=function(d){var j={body:[],footer:[]};var _=H[d];var h1={'name':W(_.weight.col),val:[{value:N.isNoValue(_.weight.row.val)?S:_.weight.row.val}]};j.body.push(h1);if(G){var i1={'name':W(_.color.col),val:[{value:N.isNoValue(_.color.row.val)?S:_.color.row.val}]};j.body.push(i1)}if(T.isExist(E)){for(var j1=E.values,k1=j1.length,i=k1-1;i>=0;i--){var l1={};l1.label=j1[i].col;l1.value=j1[i].rows[d%j1[i].rows.length];j.footer.push(l1)}}return j};var Y=function(i){if(!N.isNoValue(i.datum().val)){u.attr("visibility","visible");var d=i.datum().left+y;var j=i.datum().left+i.datum().width-y;var _=i.datum().top+y;var h1=i.datum().top+i.datum().height-y;u.select(".HLLeft").attr("x1",d).attr("y1",_).attr("x2",d).attr("y2",h1);u.select(".HLRight").attr("x1",j).attr("y1",_).attr("x2",j).attr("y2",h1);u.select(".HLTop").attr("x1",d).attr("y1",_).attr("x2",j).attr("y2",_);u.select(".HLBottom").attr("x1",d).attr("y1",h1).attr("x2",j).attr("y2",h1)}};var Z=function(i){u.attr("visibility","hidden")};var $=function(d,i){if((d&&d.index===(H.length-1)&&d.children.length===0)||(H.length===0)||(d===undefined&&i===undefined)){B.initialized()}};var a1=function(j,_,h1,i1){if(_.length<=0){return}var j1=(_[0].children.length===0);if(h1){j=j.append("g").attr("class",w+"Level"+_[0].level)}else{j=j.select("."+w+"Level"+_[0].level)}var k1=[];for(var i=0;i<_.length;i++){if(_[i].level===i1){k1.push(_[i])}}var l1=j.attr("class");var m1=j.selectAll("."+l1+" > ."+x);m1=m1.data(k1,function(d){return d.index});var n1=m1.enter();var o1=m1.exit();var p1;var q1=function(d){var E1={};E1['font-size']=U.fontSize;E1['font-weight']=U.fontWeight;E1['font-family']=U.fontFamily;var F1=V(d.label,E1).height;var q1=0;if(F1>d.height){q1=-1}else{q1=d.width-6}return q1};var r1=function(d){return(j1)?(d.width/2):(d.left+d.width/2)};var s1=function(d){var E1={};E1['font-size']=U.fontSize;E1['font-weight']=U.fontWeight;E1['font-family']=U.fontFamily;var F1=V(d.label,E1).height;if(d.children.length===0){return(j1)?(d.height/2+F1/2-F1/10):(d.top+d.height/2+F1/2-F1/10)}else{return d.top+F1-F1/10}};var t1=function(d){var E1="font-size:"+U.fontSize;E1+="font-weight:"+U.fontWeight;E1+="font-family:"+U.fontFamily;var F1="";if(d.showLabel){F1=b.ellipsis(d.label,this,q1(d),E1)}return F1};var u1=function(d){return"middle"};var v1=function(d){var E1;if(d.children.length===0){E1="white"}else{if(d.level===(d.levelNum-1)){E1="white"}else if((d.levelNum-d.level)===6){E1="white"}else if((d.levelNum-d.level)===5){E1="white"}else if((d.levelNum-d.level)===4){E1="white"}else if((d.levelNum-d.level)===3){E1="#595959"}else{E1="#464646"}}return E1};var w1=function(B1){var E1=B1.attr("x",function(d){return(j1)?(0):(d.left+y)}).attr("y",function(d){return(j1)?(0):(d.top+y)}).attr("width",function(d){return d.width-2*y>0?d.width-2*y:0}).attr("height",function(d){return d.height-2*y>0?d.height-2*y:0}).attr("fill",function(d){var F1={drawingEffect:'normal',fillColor:d.color};return L.register(F1)}).attr("shape-rendering","crispEdges");return E1};var x1=function(A1){var d=null;if(j1){d=A1.attr("x",r1).attr("y",s1).attr('class','treemapdatalabel').attr("text-anchor",u1).attr("fill",v1).style("font-size",U.fontSize).style("font-family",U.fontFamily).attr('pointer-events','none')}else{d=A1.attr("x",r1).attr("y",s1).attr("text-anchor",u1).attr("fill",v1).style("font-size",U.fontSize).style("font-family",U.fontFamily).attr('pointer-events','none')}d.text(t1);return d};if(h1){var y1=x;if(j1){y1+=' datashape'}p1=n1.append("g").attr('class',y1);if(j1){p1.attr('transform',function(d){return'translate('+(d.left+y)+','+(d.top+y)+')'})}var z1=p1.append("rect");w1(z1);if(j1){z1.attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint')}var A1=p1.append("text");x1(A1)}else{p1=m1;var B1=m1.select("rect");var A1=m1.select("text");if(o.animation.resize){B1=B1.transition();A1=A1.transition()}if(j1){p1.attr('transform',function(d){var E1='translate('+(d.left+y)+','+(d.top+y)+')';return E1})}B1=w1(B1);A1=x1(A1);var C1=500;if(o.animation.resize){B1.delay(0).duration(C1).each('end',$);A1.delay(0).duration(C1)}else{$()}}var D1=function(E1,d,i){var F1=d3.select(E1);var da=F1.datum().children;a1(F1,F1.datum().children,h1,i1+1)};p1.each(function(d,i){D1(this,d,i)});p1=j.selectAll("."+x);if(h1){if(o.animation.dataLoading){p1.attr('opacity',0);p1.transition().delay(0).duration(1000).attr('opacity',1).each('end',$)}else{$()}}else{$()}return p1};var b1=function(d,i){if(v){d.selectAll("*").remove()}c.drawBound(d,k,n);var j=d;var _=d.selectAll('g.datashapesgroup');if(!T.isExist(_[0][0])){_=d.append('g').attr('class','datashapesgroup')}a1(_,i,v,0);if(v){u=d.append('g').attr('class','HLElement').attr("visibility","hidden");u.append('line').attr('class','HLLeft').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");u.append('line').attr('class','HLRight').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");u.append('line').attr('class','HLTop').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");u.append('line').attr('class','HLBottom').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(u){u.attr("visibility","hidden")}}v=false};var c1=function(){if(G){var d=[];var j=G.values[0].rows[0];for(var i=0;i<j.length;i++){d.push(j[i])}var _=-Number.MAX_VALUE;var h1=Number.MAX_VALUE;for(var i1=0;i1<d.length;i1++){if(!N.isNoValue(d[i1].val)){if(_<d[i1].val){_=d[i1].val}if(h1>d[i1].val){h1=d[i1].val}}}var j1=false;for(var i=0;i<d.length;i++){if(N.isNoValue(d[i].val)){j1=true}}}var k1=o.colornumber;var l1;if(h1===Number.MAX_VALUE&&_===-Number.MAX_VALUE||(!G)){l1=undefined}else{var l1=M.getScale(h1,_,k1,o.startColor,o.endColor);if(j1){var m1=l1.domain();var n1=l1.range();m1.push([]);n1.push(o.emptycolor)}}return l1};var d1=function(d){var j=function(d,k1,m1){var n1=0;for(var i=0;i<d.length;i++){n1+=d[i].val}var o1=function(B1,C1){var D1=0;if(C1.val!==B1.val){D1=B1.val-C1.val}return D1};var p1;for(var q1=0;q1<d.length-1;q1++){for(var i=d.length-1;i>q1;i--){if(o1(d[i],d[i-1])>0){p1=d[i-1];d[i-1]=d[i];d[i]=p1}}}var r1={left:0,top:0,width:0,height:0,weight:0,items:[],worstRadio:0,};var s1={left:0,top:0,width:0,height:0,weight:0,vertical:false,};for(var i=0;i<d.length;i++){j1(d,i,n1,r1,s1,k1)}for(var t1=0;t1<d.length;t1++){if(!d[t1].left){d[t1].left=0}if(!d[t1].top){d[t1].top=0}if(!d[t1].width){d[t1].width=0}if(!d[t1].height){d[t1].height=0}var u1="";if(d[t1].label&&d[t1].label.length&&d[t1].label.length>0){var v1=d[t1].label[0];u1=v1.concat("...")}var w1={};w1['font-size']=U.fontSize;w1['font-weight']=U.fontWeight;w1['font-family']=U.fontFamily;d[t1].labelHeight=V(u1,w1).height;d[t1].labelWidth=V(u1,w1).width;d[t1].needMoreHeightToShowLabel=false;if((d[t1].labelHeight<d[t1].height)&&(d[t1].labelWidth<d[t1].width)){d[t1].showLabel=true}else{d[t1].showLabel=false;if(d[t1].labelHeight>=d[t1].height){d[t1].needMoreHeightToShowLabel=true}}}var l1=true;for(var t1=0;t1<d.length;t1++){if(d[t1].level===(d[t1].levelNum-1)){if(!d[t1].needMoreHeightToShowLabel){l1=false;break}}else{l1=false}}var x1=function(i){if(d[i].level!==(d[i].levelNum-1)){d[i].showLabel=false}A1.top=d[i].top+y*2;A1.left=d[i].left+y*2;A1.width=d[i].width-y*2-y;A1.height=d[i].height-y*2-y};if(!l1){for(var i=0;i<d.length;i++){if(d[i].children.length>0){var y1=true;if(!m1){y1=false}var z1=d[i].labelHeight;var A1={};A1.top=d[i].top+y*2+z1;A1.left=d[i].left+y*2;A1.width=d[i].width-y*2-y;A1.height=d[i].height-y*2-y-z1;if(!y1){x1(i)}l1=j(d[i].children,A1,y1);if((l1||!d[i].showLabel)&&y1){x1(i);l1=j(d[i].children,A1,false)}}}}return l1};var _=function(i){var m1;if(i.height>i.width){m1=i.height/i.width}else{m1=i.width/i.height}m1=Math.floor(m1*1000);return m1};var h1=function(d,m1,n1,o1,p1){var q1=0;var r1={};if(n1){if(p1.vertical){r1.width=p1.width*(m1/(o1.weight+m1));r1.height=p1.height*((o1.weight+m1)/p1.weight)}else{r1.height=p1.height*(m1/(o1.weight+m1));r1.width=p1.width*((o1.weight+m1)/p1.weight)}q1=_(r1);for(var i=0;i<o1.items.length;i++){var s1=o1.items[i];var t1={};if(p1.vertical){t1.width=o1.width*(d[s1].val/(o1.weight+m1));t1.height=p1.height*((o1.weight+m1)/p1.weight)}else{t1.height=o1.height*(d[s1].val/(o1.weight+m1));t1.width=p1.width*((o1.weight+m1)/p1.weight)}var u1=_(t1);if(q1<u1){q1=u1}}}else{q1=o1.worstRadio}return q1};var i1=function(i,m1){var n1={};n1.weight=m1.weight-i.weight;if(m1.width===i.width){n1.left=m1.left;n1.top=i.top+i.height;n1.width=m1.width;n1.height=m1.height-i.height}else{n1.left=i.left+i.width;n1.top=m1.top;n1.width=m1.width-i.width;n1.height=m1.height}return n1};var j1=function(d,m1,n1,o1,p1,k1){if(m1===0){d[m1].left=k1.left;d[m1].top=k1.top;if(k1.width>k1.height){d[m1].height=k1.height;d[m1].width=k1.width*(d[m1].val/n1);p1.vertical=false}else{d[m1].width=k1.width;d[m1].height=k1.height*(d[m1].val/n1);p1.vertical=true}o1.left=k1.left;o1.top=k1.top;o1.width=d[m1].width;o1.height=d[m1].height;o1.weight=d[m1].val;o1.items.push(m1);o1.worstRadio=_(o1);p1.left=k1.left;p1.top=k1.top;p1.width=k1.width;p1.height=k1.height;p1.weight=n1}else if(m1===(d.length-1)){var q1=i1(o1,p1);d[m1].left=q1.left;d[m1].top=q1.top;d[m1].width=q1.width;d[m1].height=q1.height}else{var r1=(h1(d,d[m1].val,true,o1,p1));var s1=(h1(d,d[m1].val,false,o1,p1));if(r1<s1){o1.worstRadio=r1;o1.items.push(m1);o1.weight+=d[m1].val;if(p1.vertical){o1.height=p1.height*(o1.weight/p1.weight)}else{o1.width=p1.width*(o1.weight/p1.weight)}for(var i=0;i<o1.items.length;i++){var t1=o1.items[i];if(p1.vertical){d[t1].width=o1.width*(d[t1].val/o1.weight);d[t1].height=p1.height*(o1.weight/p1.weight);d[t1].top=o1.top;if(i===0){d[t1].left=o1.left}else{d[t1].left=d[t1-1].left+d[t1-1].width}}else{d[t1].height=o1.height*(d[t1].val/o1.weight);d[t1].width=p1.width*(o1.weight/p1.weight);d[t1].left=o1.left;if(i===0){d[t1].top=o1.top}else{d[t1].top=d[t1-1].top+d[t1-1].height}}}}else{var u1=i1(o1,p1);p1.left=u1.left;p1.top=u1.top;p1.width=u1.width;p1.height=u1.height;p1.weight=u1.weight;if(p1.width>p1.height){p1.vertical=false}else{p1.vertical=true}o1.left=p1.left;o1.top=p1.top;o1.weight=d[m1].val;if(p1.vertical){o1.width=p1.width;o1.height=p1.height*(d[m1].val/p1.weight)}else{o1.height=p1.height;o1.width=p1.width*(d[m1].val/p1.weight)}o1.worstRadio=_(o1);o1.items=[];o1.items.push(m1);d[m1].width=o1.width;d[m1].height=o1.height;d[m1].top=o1.top;d[m1].left=o1.left}}};var k1={};k1.top=0;k1.left=0;k1.width=k;k1.height=n;var l1=j(d,k1,true);if(l1){j(d,k1,false)}};var e1=function(H,d,j,_,h1){if(d>=j){return[]}var i1=[];var j1=undefined;var k1=_;var l1=k1+1;for(var i=_;i<h1;i++){var m1={};var n1=H[i].dimensions[d].row.val;if(n1!==j1||d===j-1){var o1=f1(i,d,j,m1);m1.label=H[i].dimensions[d].row.val;m1.level=d;m1.levelNum=j;m1.isTreeMap=true;if(d===j-1){m1.ctx=H[i].weight.row.ctx}else{m1.ctx=null}m1.index=i;if(H[i].weight.row.val>=0){m1.val=H[i].weight.row.val}else{m1.val=0}if(i1.length>0){i1[i1.length-1].children=e1(H,(d+1),j,k1,l1);k1=i;l1=k1+1}i1.push(m1)}else{if(H[i].weight.row.val>=0){i1[i1.length-1].val+=H[i].weight.row.val}l1++}j1=n1;if(i===h1-1){if(i1.length>0){i1[i1.length-1].children=e1(H,(d+1),j,k1,l1)}}}return i1};var f1=function(i,d,_,h1){if(d!==(_-1)){var i1=(_-1-d);if(i1===1){h1.color="#f9f9f9"}else if(i1===2){h1.color="#e3e3e3"}else if(i1===3){h1.color="#bfbfbf"}else if(i1===4){h1.color="#989898"}else if(i1===5){h1.color="#717171"}h1.colorValue=Number.MAX_VALUE}else{if(H[i].color){h1.colorValue=H[i].color.row.val;if(Q){var j1=Q.domain();if(N.isNoValue(h1.colorValue)){h1.color=o.emptycolor}else{var k1;for(var j=0;j<j1.length;j++){var l1=j1[j];if((j==j1.length-1)||(j1[j+1].length==0)){k1=l1;break}if((h1.colorValue>=l1[0])&&(h1.colorValue<l1[1])){k1=l1;break}}h1.color=Q(k1)}}else{h1.color=o.emptycolor}}else{h1.colorValue=Number.MAX_VALUE;var m1=C.sap32().range();h1.color=m1[0]}}};function g1(d){I=d;B.startToInit();if(o.border&&o.border.visible){y=1}else{y=0}Q=c1();var i=H[0].dimensions.length;var j=e1(H,0,i,0,H.length);d1(j);b1(d,j);return g1};g1.dataLabel=function(_){};g1.afterUIComponentAppear=function(){B.initialized()};g1.mouseover=function(d){var i=d3.select(d3.event.target);var j=i.attr('id');if(j&&o.tooltip.enabled){var _=j.toString().length-r.toString().length-2;var h1=j.toString().substr(2,_);var i1=I.node().getTransformToElement(I.node().ownerSVGElement);var j1=I.node().ownerSVGElement.getBoundingClientRect();var k1=d.getBoundingClientRect();var l1=X(h1);l1.point={x:k1.left-j1.left+k1.width/2,y:(k1.height>16)?k1.top-j1.top+8:k1.top-j1.top+k1.height/2};l1.plotArea={x:i1.e,y:i1.f,width:k,height:n};B.showTooltip(t.formatTooltipData(l1));Y(i)}};g1.mouseout=function(){if(o.tooltip.enabled){B.hideTooltip()}if(d3.event){var i=d3.select(d3.event.target);Z(i)}};g1.parent=function(){return I};g1.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('opacity',1)}}else{d.setAttribute('opacity',1)}};g1.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('opacity',0.2)}}else{d.setAttribute('opacity',0.2)}};g1.clear=function(d){if(d==null){I.selectAll('.datapoint').attr('opacity',1)}else{I.selectAll('.datapoint').attr('opacity',0.2)}};g1.width=function(_){if(!arguments.length){return k}k=_;return g1};g1.height=function(_){if(!arguments.length){return n}n=_;return g1};g1.data=function(d){if(!arguments.length){return s}s=d;v=true;E=s.getAnalysisAxisDataByIdx(0);F=s.getMeasureValuesGroupDataByIdx(0);G=s.getMeasureValuesGroupDataByIdx(1);var _=s.getAnalysisAxisDataByIdx(0);var h1=s.getMeasureValuesGroupDataByIdx(0);var i1=s.getMeasureValuesGroupDataByIdx(1);H=[];var j1=h1.values[0].rows[0];for(var i=0;i<j1.length;i++){var k1={};var l1={};l1.col=h1.values[0].col;l1.row=j1[i];k1.weight=l1;H.push(k1)}if(i1){var j1=i1.values[0].rows[0];for(var i=0;i<H.length;i++){var k1=H[i];var m1={};m1.col=i1.values[0].col;m1.row=j1[i];k1.color=m1}}var j1=_.values;for(var i=0;i<H.length;i++){var k1=H[i];var n1=[];var o1=j1.length;if(o1>P){o1=P}for(var j=0;j<o1;j++){var p1={};p1.col=_.values[j].col;p1.row=_.values[j].rows[i];n1.push(p1)}k1.dimensions=n1}return g1};g1.properties=function(d){if(!arguments.length){return p}O.extend(true,o,d);O.extend(true,p,d);v=true;return g1};g1.getDatapointsByRange=function(d){var j=d3.selectAll('.datapoint')[0],_=[],h1=d.ctx.ranges,i1;for(var i=0,j1=j.length;i<j1;i++){i1=j[i].__data__.colorValue;if(N.isNoValue(d.val)){if(N.isNoValue(i1)){_.push(j[i])}}else{if(i1<h1.endValue&&i1>h1.startValue){_.push(j[i])}else{if(!h1.isLeftOpen&&i1===h1.startValue){_.push(j[i])}else if(!h1.isRightOpen&&i1===h1.endValue){_.push(j[i])}}}}return _};g1.mbcLegendInfo=function(){var d=c1();var i="";if(G){i=G.values[0].col}return{'colorScale':d,'title':i,}};g1.getPreferredSize=function(){};g1.dispatch=function(_){if(!arguments.length)return B;B=_;return g1};return g1};return e});sap.riv.module({qname:'sap.viz.modules.manifests.TreeMap',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.treemap',version:'4.0.0'},{qname:'sap.viz.feeds.TreeMap',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.treemap','type':C.Module.Type.Chart,'name':'treemap','properties':{'border':{'name':'border','description':'Settings for border.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of zone edge.'},},},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled data loading animation of plot area.'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled data updating animation of plot area.'}},'description':'Settings for animation of plot area.'},'startColor':{'name':'startColor','supportedValueType':'String','defaultValue':"#C2E3A9",'description':'Set treeMap startColor.'},'endColor':{'name':'endColor','supportedValueType':'String','defaultValue':"#73C03C",'description':'Set treeMap endColor.'},'tooltip':{'name':'tooltip','description':'Settings for tooltip.','supportedValueType':'Object','supportedValues':{'visible':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled tooltip.'},},'isExported':false}},'events':{'initialized':C.Module.Event.Initialized.desc,'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc,'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'feeds':{id:"treeMap"},'css':{},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.TreeMapChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TreeMap',version:'4.0.0'}],function Setup(M){var c={id:'viz/treemap',name:'IDS_TREEMAPCHART',base:'riv/base/single',modules:{legend:{id:'sap.viz.modules.legend',configure:{'description':'The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ',properties:{type:'MeasureBasedColoringLegend'},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'treemap',orientation:'bottom'}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'inside',automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:false}}},plot:{id:'sap.viz.modules.treemap',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}}}}},dependencies:{attributes:[{targetModule:'legend',target:'mbcLegendInfo',sourceModule:'main.plot',source:'mbcLegendInfo'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.feeds.HeatMap',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var m={'id':'mainLabelAxis','name':'Main Category Axis','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1};var r={'id':'rectangleColor','name':'Rectangle Color','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1};var s={'id':'secondaryLabelAxis','name':'Secondary Category Axis','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':2,'acceptMND':-1};var f={id:"heatMap",feeds:[m,r,s]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.heatmap',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.EffectManager',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.MeasureBasedColoring',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(a,C,t,N,E,T,N,b,M,l,R,O,B){var h=function(m,c){var r=R.newId();var e=function(d,i){for(var j in i){if(typeof(i[j])==="object"){if(d[j]){d[j]=e(d[j],i[j])}else{d[j]=i[j]}}else{d[j]=i[j]}}return d};var f=[];var g,k;var n={"emptycolor":"#e0e0e0",'animation':{dataLoading:true,},'colornumber':5,'discretecolor':false,'guideline':{visible:false,color:"#ffff90",},'drawemptycell':true,'colorPalette':[],tooltip:{enabled:true,}};n=e(n,m.props(null));var o=m.props(null);var p="'Open Sans', Arial, Helvetica, sans-serif";var q;var s;var u=true;var v="heatMap";var w="heatMap_emptyValue";var x=1;var y=d3.scale.ordinal();var z=d3.scale.ordinal();var A=new a('selectData','deselectData','initialized','showTooltip','hideTooltip','startToInit');var D=undefined;var F="#ffffff";var G;var H;var I;var J;var K;var L=null;var P=null;var Q=null;var S=[];var U=c.effectManager;var V=l.get('IDS_ISNOVALUE');var W=null;function X(_){B.drawBound(_,g,k);A.startToInit();L=_;S=[];var j1=false;if(!H){j1=true}if(j1){var k1=[];var l1=I.values[0].rows[0];for(var i=0;i<l1.length;i++){S.push(l1[i])}for(var i=0;i<S.length;i++){var m1="";for(var j=0;j<G.values.length;j++){m1+=G.values[j].rows[i].val;if(j!=(G.values.length-1)){m1+=" / "}}k1.push(m1)}for(var i=0;i<S.length;i++){S[i].label=k1[i];S[i].isOnlyOneCategory=true}}else{var n1=G.values[0].rows;var o1=H.values[0].rows;var p1=I.values[0].rows;var q1=n1.length;var r1=o1.length;for(var i=0;i<r1;i++){for(var j=0;j<q1;j++){S.push(p1[i][j])}}for(var i=0;i<S.length;i++){S[i].isOnlyOneCategory=false}}D=g1();var s1=D.domain();for(var i=0;i<S.length;i++){var t1;if(N.isNoValue(S[i].val)){S[i].color=n.emptycolor}else{for(var j=0;j<s1.length;j++){var u1=s1[j];if((j==s1.length-1)||(s1[j+1].length==0)){t1=u1;break}if((S[i].val>=u1[0])&&(S[i].val<u1[1])){t1=u1;break}}S[i].color=D(t1)}}if(j1){var v1=-Number.MAX_VALUE;var w1;var x1;var y1;var z1;var A1;var B1=[];var C1;if(S.length==1){w1=k;x1=g;z1=1;y1=1}else{for(y1=1;y1<=S.length;y1++){w1=k/y1;var z1=S.length;for(;z1>=0;z1--){if((z1*y1)<S.length){z1++;break}}x1=g/z1;A1=(z1*y1)-S.length;C1=(w1-x1)*(w1-x1);if(C1<1){C1=1}var v1;if(A1==0&&C1==0){v1=1+1}else if(A1==0&&C1!=0){v1=1+1/C1}else if(A1!=0&&C1==0){v1=1+1}else{v1=1+1/C1}B1.push({"iRow":y1,"iCol":z1,"rHeight":w1,"rWidth":x1,"varianceRec":C1,"emptyCellNum":A1,"score":v1})}var D1=0;var E1=-1;for(var i=0;i<B1.length;i++){if(B1[i].score>D1){D1=B1[i].score;E1=i}}w1=B1[E1].rHeight;x1=B1[E1].rWidth;z1=B1[E1].iCol;y1=B1[E1].iRow}for(var i=0;i<S.length;i++){S[i].width=x1;S[i].height=w1;S[i].left=x1*(i%z1);S[i].top=w1*(Math.floor(i/z1))}}else{for(var i=0;i<S.length;i++){S[i].width=g/q1;S[i].height=k/r1;S[i].left=(g/q1)*(i%q1);S[i].top=(k-k/r1)-((k/r1)*(Math.floor(i/q1)))}}if(u){_.select("."+v).remove()}if(j1){var F1=_.selectAll('g.datashapesgroup');if(!T.isExist(F1[0][0])){F1=_.append('g').attr('class','datashapesgroup')}if(u){J=F1.append("g").attr("class",v)}else{J=F1.select("."+v)}var G1=[];for(var i=0;i<S.length;i++){if(!n.drawemptycell&&!S[i].val){continue}else{S[i].index=i;G1.push(S[i])}}var H1=J.selectAll("rect").data(G1,function(d){return d.index});var I1=H1.enter();var J1=H1.exit();var K1;if(u){W=I1.append("g").attr("class","datashape");W.attr('transform',function(d){return'translate('+(d.left+x)+','+(d.top+x)+')'});K1=W.append("rect").attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').attr("x",0).attr("y",0).attr("width",function(d){return d.width-2*x}).attr("height",function(d){return d.height-2*x}).attr("fill",function(d){var O1={drawingEffect:'normal',fillColor:d.color};return U.register(O1)}).attr("shape-rendering","crispEdges")}else{if(W){W.attr('transform',function(d){return'translate('+(d.left+x)+','+(d.top+x)+')'})}if(n.animation.dataUpdating){K1=H1.attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').transition().delay(0).duration(500).attr("x",0).attr("y",0).attr("width",function(d){return d.width-2*x}).attr("height",function(d){return d.height-2*x}).attr("fill",function(d){var O1={drawingEffect:'normal',fillColor:d.color};return U.register(O1)}).attr("shape-rendering","crispEdges").each('end',Y)}else{K1=H1.attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').attr("x",0).attr("y",0).attr("width",function(d){return d.width-2*x}).attr("height",function(d){return d.height-2*x}).attr("fill",function(d){var O1={drawingEffect:'normal',fillColor:d.color};return U.register(O1)}).attr("shape-rendering","crispEdges")}K1.attr('opacity',1)}if(!n.border||(n.border&&n.border.visible)){K1.attr("stroke",F).attr("stroke-width","1")}if(u){if(n.animation.dataLoading){K1.attr('opacity',0);K1.transition().delay(0).duration(1000).attr('opacity',1).each('end',Y)}else{Y()}}else{Y()}if(u){if(W){W.append("text").attr("class","heatmapdatalabel").attr("x",function(d){return d.width/2}).attr("y",function(d){return d.height/2}).attr("text-anchor","middle").text(function(d){return d.label}).attr("fill","#ffffff").style("font-size","12px").style("font-family","'Open Sans', Arial, Helvetica, sans-serif").attr('pointer-events','none').each(function(d){b.ellipsis(d.label,this,d.width-5,"fill:#ffffff;font-family:'Open Sans', Arial, Helvetica, sans-serif;font-size:12px;")})}}else{J.selectAll("text").remove();J.selectAll("rect").data(G1,function(d){return d.index}).enter();W.append("text").attr("class","heatmapdatalabel").attr("x",function(d){return d.width/2}).attr("y",function(d){return d.height/2}).attr("text-anchor","middle").text(function(d){return d.label}).attr("fill","#ffffff").style("font-size","12px").style("font-family","'Open Sans', Arial, Helvetica, sans-serif").attr('pointer-events','none').each(function(d){b.ellipsis(d.label,this,d.width-5,"fill:#ffffff;font-family:'Open Sans', Arial, Helvetica, sans-serif;font-size:12px;")})}K=K1}else{var F1=_.selectAll('g.datashapesgroup');if(!T.isExist(F1[0][0])){F1=_.append('g').attr('class','datashapesgroup')}if(u){J=F1.append("g").attr("class",v)}else{J=F1.select("."+v)}if(!n.drawemptycell){if(u){J.append('rect').attr("x",0).attr("y",0).attr("width",g).attr("height",k).attr("fill",n.emptycolor).attr("class",w).attr("shape-rendering","crispEdges")}else{J.select("."+w).attr("x",0).attr("y",0).attr("width",g).attr("height",k).attr("fill",n.emptycolor).attr("class",w).attr("shape-rendering","crispEdges")}}var G1=[];for(var i=0;i<S.length;i++){if(!n.drawemptycell&&!S[i].val){continue}else{S[i].index=i;G1.push(S[i])}}var H1=J.selectAll("rect").data(G1,function(d){return d.index});var I1=H1.enter();var J1=H1.exit();var K1;if(u){W=I1.append("g").attr("class","datashape");W.attr('transform',function(d){return'translate('+(d.left)+','+(d.top)+')'});K1=W.append("rect").attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').attr("x",0).attr("y",0).attr("width",function(d){return d.width}).attr("height",function(d){return d.height}).attr("fill",function(d){var O1={drawingEffect:'normal',fillColor:d.color};return U.register(O1)}).attr("shape-rendering","crispEdges")}else{if(W){W.attr('transform',function(d){return'translate('+(d.left)+','+(d.top)+')'})}if(n.animation.dataUpdating){K1=H1.attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').transition().delay(0).duration(500).attr("x",0).attr("y",0).attr("width",function(d){return d.width}).attr("height",function(d){return d.height}).attr("fill",function(d){var O1={drawingEffect:'normal',fillColor:d.color};return U.register(O1)}).attr("shape-rendering","crispEdges").each('end',Y)}else{K1=H1.attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').attr("x",0).attr("y",0).attr("width",function(d){return d.width}).attr("height",function(d){return d.height}).attr("fill",function(d){var O1={drawingEffect:'normal',fillColor:d.color};return U.register(O1)}).attr("shape-rendering","crispEdges")}K1.attr('opacity',1)}if(!n.border||(n.border&&n.border.visible)){K1.attr("stroke",F).attr("stroke-width","1")}if(u){if(n.animation.dataLoading){K1.attr('opacity',0);K1.transition().delay(0).duration(1000).attr('opacity',1).each('end',Y)}else{Y()}}else{Y()}K=K1}if(u){s=J.append('g').attr('class','HLElement').attr("visibility","hidden");s.append('line').attr('class','HLLeft').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");s.append('line').attr('class','HLRight').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");s.append('line').attr('class','HLTop').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");s.append('line').attr('class','HLBottom').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}else{if(s){s.attr("visibility","hidden")}}if(u){P=J.append('g').attr('class','heatMapTooltip');P.append('rect').attr('ry',6).attr('rx',6).attr('opacity',0.8).attr("stroke-width","1").attr("stroke","#666666");var L1=I.values[0].col;var M1=G.values[0].col.val;var N1="";if(H){N1=H.values[0].col.val}P.append('text').attr('text-anchor','start').attr('font-size','12px').attr('font-family',p).attr('font-weight',"bold").attr("x",20).attr("y",18).attr("fill","#333333").text(L1);P.append('text').attr('text-anchor','start').attr('font-size','12px').attr("class","valText").attr('font-family',p).attr("x",30).attr("y",33).attr("fill","#333333");P.append('line').attr("x1",0).attr("y1",40).attr("x2",160).attr("y2",40).attr("stroke","#666666");P.append('text').attr('text-anchor','end').attr('font-size','11px').attr('font-family',p).attr('font-weight',"bold").attr("x",80).attr("y",55).attr("fill","#333333").text(M1);P.append('text').attr('text-anchor','start').attr('font-size','10px').attr("class","valXValue").attr('font-family',p).attr("x",85).attr("y",55).attr("fill","#333333");P.append('text').attr('text-anchor','end').attr('font-size','11px').attr('font-family',p).attr('font-weight',"bold").attr("x",80).attr("y",70).attr("fill","#333333").text(N1);P.append('text').attr('text-anchor','start').attr('font-size','10px').attr("class","valYValue").attr('font-family',p).attr("x",85).attr("y",70).attr("fill","#333333");P.attr('visibility','hidden')}if(u){Q=J.append('g').attr('class','heatMapGuideline');Q.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",k).attr("stroke",n.guideline.color).attr("shape-rendering","crispEdges").attr('class','xGuidline');Q.append("line").attr("x1",0).attr("y1",0).attr("x2",g).attr("y2",0).attr("stroke",n.guideline.color).attr("shape-rendering","crispEdges").attr('class','yGuidline');Q.attr('visibility','hidden')}u=false;return X};var Y=function(d,i){if((i===(S.length-1))||(S.length===0)||(d===undefined&&i===undefined)){A.initialized()}};function Z(){};function $(){};var a1=function(d){var i=S[d];var j="";var _="";var j1=false;if(!H){j1=true}if(j1){j=G.values[0].rows[d].val;if(H){_=H.values[0].rows[d].val}}else{var k1=G.values[0].rows;var l1=H.values[0].rows;var m1=I.values[0].rows;var n1=k1.length;var o1=l1.length;j=G.values[0].rows[d%n1].val;_=H.values[0].rows[Math.floor(d/n1)].val}P.select("rect").attr("width",160).attr("height",78).attr("fill","rgb(255,255,255)");P.attr("transform","translate("+(i.left+i.width/2+5)+","+(i.top+i.height/2+5)+")");if(!N.isNoValue(i.val)){P.select(".valText").text(i.val);P.select(".valXValue").text(j);P.select(".valYValue").text(_);P.attr('visibility','visible');if(n.guideline.visible){Q.select(".xGuidline").attr("x1",S[d].left+S[d].width/2).attr("x2",S[d].left+S[d].width/2);Q.select(".yGuidline").attr("y1",S[d].top+S[d].height/2).attr("y2",S[d].top+S[d].height/2);Q.attr('visibility','visible')}}};var b1=function(d){if(d===null||d===undefined){d=l.get('IDS_ISNOVALUE')}return d};var c1=function(d){var j={body:[],footer:[]};var _=S[d];var j1={'name':b1(I.values[0].col),val:[{color:_.color,value:N.isNoValue(_.val)?V:_.val}]};j.body.push(j1);if(T.isExist(G)){for(var k1=G.values,l1=k1.length,i=l1-1;i>=0;i--){var m1={};m1.label=k1[i].col;m1.value=k1[i].rows[d%k1[i].rows.length];j.footer.push(m1)}}if(T.isExist(H)){var n1=Math.floor(d/G.values[0].rows.length);for(var k1=H.values,l1=k1.length,i=l1-1;i>=0;i--){var m1={};m1.label=k1[i].col;m1.value=k1[i].rows[n1%k1[i].rows.length];j.footer.push(m1)}}return j};var d1=function(){P.attr('visibility','hidden');Q.attr('visibility','hidden')};var e1=function(i){if(!N.isNoValue(i.datum().val)){s.attr("visibility","visible");var d=i.datum().left;var j=i.datum().left+i.datum().width;var _=i.datum().top;var j1=i.datum().top+i.datum().height;s.select(".HLLeft").attr("x1",d).attr("y1",_).attr("x2",d).attr("y2",j1);s.select(".HLRight").attr("x1",j).attr("y1",_).attr("x2",j).attr("y2",j1);s.select(".HLTop").attr("x1",d).attr("y1",_).attr("x2",j).attr("y2",_);s.select(".HLBottom").attr("x1",d).attr("y1",j1).attr("x2",j).attr("y2",j1)}};var f1=function(i){s.attr("visibility","hidden")};X.mouseover=function(d){var i=d3.select(d3.event.target);var j=i.attr('id');if(j&&n.tooltip.enabled){var _=j.toString().length-r.toString().length-2;var j1=j.toString().substr(2,_);var k1=L.node().getTransformToElement(L.node().ownerSVGElement);var l1=L.node().ownerSVGElement.getBoundingClientRect();var m1=d.getBoundingClientRect();var n1=c1(j1);n1.point={x:m1.left-l1.left+m1.width/2,y:(m1.height>16)?m1.top-l1.top+8:m1.top-l1.top+m1.height/2};n1.plotArea={x:k1.e,y:k1.f,width:g,height:k};A.showTooltip(t.formatTooltipData(n1));e1(i)}};X.afterUIComponentAppear=function(){A.initialized()};X.mouseout=function(){if(n.tooltip.enabled){A.hideTooltip()}if(d3.event){var i=d3.select(d3.event.target);f1(i)}};X.parent=function(){return L};X.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('opacity',1)}}else{d.setAttribute('opacity',1)}};X.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('opacity',0.2)}}else{d.setAttribute('opacity',0.2)}};X.clear=function(d){if(d==null){L.selectAll('.datapoint').attr('opacity',1)}else{L.selectAll('.datapoint').attr('opacity',0.2)}};X.width=function(_){if(!arguments.length){return g}g=_;h1();return X};X.height=function(_){if(!arguments.length){return k}k=_;i1();return X};X.data=function(d){if(!arguments.length){return q}q=d;u=true;G=q.getAnalysisAxisDataByIdx(0);H=q.getAnalysisAxisDataByIdx(1);I=q.getMeasureValuesGroupDataByIdx(0);return X};X.properties=function(d){if(!arguments.length){return o}O.extend(true,n,d);O.extend(true,o,d);u=true;return X};X.getDatapointsByRange=function(d){var j=d3.selectAll('.datapoint')[0],_=[],j1=d.ctx.ranges,k1;for(var i=0,l1=j.length;i<l1;i++){k1=j[i].__data__.val;if(N.isNoValue(d.val)){if(N.isNoValue(k1)){_.push(j[i])}}else{if(k1<j1.endValue&&k1>j1.startValue){_.push(j[i])}else{if(!j1.isLeftOpen&&k1===j1.startValue){_.push(j[i])}else if(!j1.isRightOpen&&k1===j1.endValue){_.push(j[i])}}}}return _};X.mbcLegendInfo=function(){var D=g1();return{'colorScale':D,'title':I.values[0].col}};X.getPreferredSize=function(){};X.categoryScaleX=function(){return y};X.isDrawXaxisBody=function(){var i=false;if(!H){i=true}return(!i)};X.categoryScaleY=function(){return z};X.dataLabel=function(_){};var g1=function(){var D=d3.scale.ordinal();var d=[];var _=false;if(!H){_=true}if(_){var j1=I.values[0].rows[0];for(var i=0;i<j1.length;i++){d.push(j1[i])}}else{var k1=G.values[0].rows;var l1=H.values[0].rows;var j1=I.values[0].rows;var m1=k1.length;var n1=l1.length;for(var i=0;i<n1;i++){for(var j=0;j<m1;j++){d.push(j1[i][j])}}}var o1=-Number.MAX_VALUE;var p1=Number.MAX_VALUE;for(var q1=0;q1<d.length;q1++){if(!N.isNoValue(d[q1].val)){if(o1<d[q1].val){o1=d[q1].val}if(p1>d[q1].val){p1=d[q1].val}}}var r1=false;for(var i=0;i<d.length;i++){if(N.isNoValue(d[i].val)){r1=true}}var s1=n.colornumber;var t1;if(p1===Number.MAX_VALUE&&o1===-Number.MAX_VALUE){t1=d3.scale.ordinal().domain([[]]).range([n.emptycolor])}else{var t1=M.getScale(p1,o1,s1,n.startColor,n.endColor);if(r1){var u1=t1.domain();var v1=t1.range();u1.push([]);v1.push(n.emptycolor)}}return t1};var h1=function(){var d=false;if(!H){d=true}var j=G.values[0].rows;var _=[];for(var i=0;i<j.length;i++){_.push(i)}y=y.domain(_).rangeBands([0,g])};var i1=function(){var d=false;if(!H){d=true}if(d){z=z.domain([0,0]).rangeBands([0,0])}else{var j=H.values[0].rows;var _=[];for(var i=0;i<j.length;i++){_.push(i)}z=z.domain(_).rangeBands([k,0])}};X.dispatch=function(_){if(!arguments.length)return A;A=_;return X};var e=function(d,i){for(var j in i){if(typeof(i[j])==="object"){if(d[j]){d[j]=e(d[j],i[j])}else{d[j]=i[j]}}else{d[j]=i[j]}}return d};return X};return h});sap.riv.module({qname:'sap.viz.modules.manifests.HeatMap',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.heatmap',version:'4.0.0'},{qname:'sap.viz.feeds.HeatMap',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.heatmap','type':C.Module.Type.Chart,'name':'heatmap','properties':{'border':{'name':'border','description':'Settings for border.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of zone edge.'},},},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled data loading animation of plot area.'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':false,'description':'Set enabled/disabled data updating animation of plot area.'}},'description':'Settings for animation of plot area.'},'startColor':{'name':'startColor','supportedValueType':'String','defaultValue':"#C2E3A9",'description':'Set heatMap startColor.'},'endColor':{'name':'endColor','supportedValueType':'String','defaultValue':"#73C03C",'description':'Set heatMap endColor.'},'tooltip':{'name':'tooltip','description':'Settings for tooltip.','supportedValueType':'Object','supportedValues':{'visible':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled tooltip.'},},'isExported':false}},'events':{'initialized':C.Module.Event.Initialized.desc,'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc,'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'feeds':{id:"heatMap"},'css':{},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.HeatMapChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.HeatMap',version:'4.0.0'}],function Setup(M){var c={id:'viz/heatmap',name:'IDS_HEATMAPCHART',base:'riv/base/single',modules:{legend:{id:'sap.viz.modules.legend',configure:{'description':'The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ',properties:{type:'MeasureBasedColoringLegend'},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'heatmap',orientation:'bottom'}}},main:{modules:{dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'inside',automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:false}}},xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the x axis of a normal heatmap.',propertyCategory:'xAxis',properties:{type:'category',position:'bottom',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[2]},configure:{'description':'Settings for the y axis of a normal heatmap.',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:'sap.viz.modules.heatmap',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}}}}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScaleX'},{targetModule:'main.xAxis',target:'isDrawBody',sourceModule:'main.plot',source:'isDrawXaxisBody'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScaleY'},{targetModule:'legend',target:'mbcLegendInfo',sourceModule:'main.plot',source:'mbcLegendInfo'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.feeds.TagCloud',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var f={id:"tagCloud",feeds:[{'id':'tagName','name':'Tags Name','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1,'maxStackedDims':1},{'id':'tagWeight','name':'Tags Weight','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1},{'id':'tagFamily','name':'Tags Family','type':c.Type.Measure,'min':0,'max':1,'mgIndex':2}]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.tagcloud.wordleLayout',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,N){var e=function(){var f=300,g=300,k=[],l='';var m=function(){};m.width=function(_){if(!arguments.length){return f}f=_;return m};m.height=function(_){if(!arguments.length){return g}g=_;return m};m.data=function(_){if(!arguments.length){return k}_.sort(function(a,b){if(a.wordSize&&b.wordSize){return b.wordSize.val-a.wordSize.val}});k=_;return m};m.font=function(_){if(!arguments.length){return l}l=_;return m};m.layout=function(){var a=false,b=0;while(!a){a=n(++b)}return m};var n=function(a){var t=k,b,d,h;for(var i=0,j=t.length;i<j;i++){d=t[i];if(N.isNoValue(d.fontSize)){continue}b=T.fastMeasure(t[i].word.val+'i',t[i].fontSize+'px','normal',l);d.width=b.width;d.height=b.height;d.x=undefined;d.y=undefined;d.rect=new r(d.width,d.height);var o;if(!h){var q;if(d.width<=f&&d.height<=g){q=false}else if(d.height<=f&&d.width<=g){q=true}if(q!==null){h=d;if(q){d.rect.rotate()}d.rect.position(f/2,g/2);o=true}}else{var s=[];s.push(h);while(s.length!==0){var u=s.shift();if(u.child){u.child.forEach(function(c){if(c){s.push(c)}})}o=p(d,u,h);if(o){break}}}if(o){d.x=d.rect.x;d.y=d.rect.y;d.rotate=d.rect.rotated?90:0}}t.forEach(function(d){delete d.child;delete d.rect});return true};function p(t,a,b){var r=t.rect;var c=a.child;if(!c){c=[];a.child=c}for(var j=0;j<2;j++){if(j===1){r.rotate()}for(var i=0;i<4;i++){if(c[i]){continue}var x,y;switch(i){case 0:x=a.x;y=a.rect.y0-r.h/2;break;case 1:y=a.y;x=a.rect.x1+r.w/2;break;case 2:x=a.x;y=a.rect.y1+r.h/2;break;case 3:y=a.y;x=a.rect.x0-r.w/2;break}r.position(x,y);if(r.x0>=0&&r.y0>=0&&r.x1<=f&&r.y1<=g){if(v(r,a,b)){c[i]=t;return true}}}}r.rotate();return false}function v(r,a,b){if(b!==a){if(!r.notInterects(b.rect)){return false}}for(var i=0,c=b.child,d=c?c.length:0;i<d;i++){if(c[i]&&!v(r,a,c[i])){return false}}return true}function r(w,h){this.w=w;this.h=h;this.rotated=false}r.prototype={position:function(x,y){this.x=x;this.y=y;var _=this.w/2,a=this.h/2;this.x0=x-_;this.x1=x+_;this.y0=y-a;this.y1=y+a},notInterects:function(r){return this.x1<=r.x0||this.x0>=r.x1||this.y1<=r.y0||this.y0>=r.y1},rotate:function(){this.rotated=!this.rotated;var t=this.h;this.h=this.w;this.w=t}};return m};return e});sap.riv.module({qname:'sap.viz.modules.tagcloud.columnLayout',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,N){var c=function(){var w=300,h=300,a=[],f='';var b=function(){};b.width=function(_){if(!arguments.length){return w}w=_;return b};b.height=function(_){if(!arguments.length){return h}h=_;return b};b.data=function(_){if(!arguments.length){return a}a=_;return b};b.font=function(_){if(!arguments.length){return f}f=_;return b};b.layout=function(){e();return b};var e=function(){var t=a;var d,g;for(var i=0,l=t.length;i<l;i++){d=t[i];g=T.fastMeasure(t[i].word.val+'i',t[i].fontSize+'px','normal',f);d.width=g.width;d.height=g.height}var s=0,k=0;for(var j=0,m=t.length;j<m;j++){d=t[j];if(N.isNoValue(t[j].fontSize)){continue}k=k+d.height;d.x=s;d.y=k;d.rotate=undefined}};return b};return c});sap.riv.module({qname:'sap.viz.modules.tagcloud.rowLayout',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,N){var r=function(){var w=300,h=300,c=[],f='';var a=function(){};a.width=function(_){if(!arguments.length){return w}w=_;return a};a.height=function(_){if(!arguments.length){return h}h=_;return a};a.data=function(_){if(!arguments.length){return c}c=_;return a};a.font=function(_){if(!arguments.length){return f}f=_;return a};a.layout=function(){b();return a};var b=function(){var t=c;var d,g,i,l;for(i=0,l=t.length;i<l;i++){d=t[i];g=T.fastMeasure(t[i].word.val+'i',t[i].fontSize+'px','normal',f);d.width=g.width;d.height=g.height}var s=0;var m=t[0].height,j=0,n=0;for(i=0,l=t.length;i<l;i++){d=t[i];if(N.isNoValue(t[i].fontSize)){continue}if(s+d.width>w){s=0;e(n,i,j+m);n=i;j=j+m;m=t[i].height}if(d.height>m){m=d.height}d.x=s;d.y=j;s=s+d.width;d.rotate=undefined}e(n,i,j+m)};var e=function(s,d,n){var A;for(var j=s;j<d;j++){A=c[j];A.y=n}};return a};return r});sap.riv.module({qname:'sap.viz.modules.tagcloud',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.tagcloud.rowLayout',version:'4.0.0'},{qname:'sap.viz.modules.tagcloud.columnLayout',version:'4.0.0'},{qname:'sap.viz.modules.tagcloud.wordleLayout',version:'4.0.0'},{qname:'sap.viz.util.MeasureBasedColoring',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.util.BoundUtil',version:'4.0.0'}],function Setup(T,c,C,l,R,e,W,M,N,f,t,O,g){var h=function(m,k){var w=400,n=200,o=null,p={},q=[],r=48,s=12,u,v=[],x=k.effectManager;var y=f.newId();var z=Number.MAX_VALUE,A=Number.MIN_VALUE,B=false,D=true,E=false;var F={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'color':'#555555'};var G,H=1,I=l.get('IDS_ISNOVALUE');var J=new c('initialized','showTooltip','hideTooltip');var K=null;var L=function(a){a.each(function(){g.drawBound(a,w,n);Y();if(K===null){K=a.append('rect').attr('fill','rgba(133,133,133, 0.2)').style('visibility','hidden')}else{K.attr('width',0).attr('height',0).attr('x',0).attr('y',0).style('visibility','hidden')}var b=Q();o=d3.select(this);if(E&&!o.selectAll('g.word').empty()){E=false;o.selectAll('g.word').remove()}o.attr('style','cursor:default');var $=o.selectAll('g.word').data(b,function(d,i){return(d.word?d.word.val:"")+" "+(d.wordFontFamily?d.wordFontFamily.val:"")+" "+(d.wordSize?d.wordSize.val:"")});$.selectAll('text').data(function(d,i){return d}).text(function(d,i){return d.word.val});var _=$.enter().append('g').attr('class','word').append('text').text(function(d,i){return d.word.val}).attr('id',function(d,i){return'TAG_ID_'+i+y}).attr('class','datapoint').attr('visibility',function(d,i){var j='visible';if(N.isNoValue(d.fontSize)||d.x===undefined||d.y===undefined){j='hidden'}return j}).attr('font-size',function(d,i){return d.fontSize}).attr('font-family',F.fontfamily);$.exit().attr('transform','translate(-1000, -1000)');$.selectAll('.datapoint').attr("fill",function(d,i){var a1;if(u&&d.wordFontFamily!==null&&d.wordFontFamily.val!==null){var j,b1,c1=u.domain();for(j=0,b1=c1.length-1;j<b1;j++){if(d.wordFontFamily.val!==null&&(c1[j][1]>d.wordFontFamily.val)){break}}a1=u(c1[j])}else{a1=F.color}var d1={fillColor:a1,drawingEffect:"normal"};return x.register(d1)}).attr('text-anchor',function(){if(G.layout==='Wordle'){return'middle'}else{return'start'}});$.selectAll('text').attr('fill-opacity',H);if(G.animation.dataLoading){$.transition().attr('transform',function(d,i){var j='';if(d.x!==undefined&&d.y!==undefined&&d.y<n&&d.x<w){j='translate('+[d.x,d.y]+')'}else{j='translate(-1000, -1000)'}if(d.rotate){j=j+" rotate("+d.rotate+")"}return j}).duration(800).delay(100).each('end',function(d,i){var j='';if(d.x!==undefined&&d.y!==undefined&&d.y<n&&d.x<w){j='translate('+[d.x,d.y]+')'}else{j='translate(-1000, -1000)'}if(d.rotate){j=j+" rotate("+d.rotate+")"}this.setAttribute('transform',j);if(i===b.length-1){J.initialized()}})}else{$.attr('transform',function(d,i){var j='';if(d.x!==undefined&&d.y!==undefined){j='translate('+[d.x,d.y]+')'}else{j='translate(-1000, -1000)'}if(d.rotate){j=j+" rotate("+d.rotate+")"}return j});J.initialized()}})};L.width=function(_){if(!arguments.length){return w}w=_;return L};L.height=function(_){if(!arguments.length){return n}n=_;return L};L.data=function(_){if(!arguments.length){return p}var d={};d.words=_.getAnalysisAxisDataByIdx(0).values[0];var a=_.getMeasureValuesGroupDataByIdx(0);if(a&&_.getMeasureValuesGroupDataByIdx(0).values.length>0){d.wordsSize=_.getMeasureValuesGroupDataByIdx(0).values[0]}else{d.wordsSize=undefined}var b=_.getMeasureValuesGroupDataByIdx(1);if(b&&b.values.length>0){d.wordsFontFamily=_.getMeasureValuesGroupDataByIdx(1).values[0]}else{d.wordsFontFamily=undefined;u=undefined}U(d);E=P(d);p=d;return L};L.properties=function(a){if(!arguments.length){return G}O.extend(true,G,a);D=G.tooltip.enabled;if(u){X(z,A,B)}return L};L.dispatch=function(_){if(!arguments.length){return J}J=_;return L};L.mbcLegendInfo=function(){var a=p.wordsFontFamily?p.wordsFontFamily.col:'';return{'colorScale':u,'title':a}};L.parent=function(){return o};L.highlight=function(a){if(a instanceof Array){for(var i=0,b=a.length;i<b;i++){a[i].setAttribute('fill-opacity',1)}}else{a.setAttribute('fill-opacity',1)}};L.unhighlight=function(a){if(a instanceof Array){for(var i=0,b=a.length;i<b;i++){a[i].setAttribute('fill-opacity',0.2)}}else{a.setAttribute('fill-opacity',0.2)}};L.clear=function(a){if(a===undefined){o.selectAll('.datapoint').attr('fill-opacity',1);H=1}else{o.selectAll('.datapoint').attr('fill-opacity',0.2)}};L.mouseover=function(a){var i=d3.select(d3.event.target);var b=i.attr('id');if(b&&D){var d=S(i.datum());var j=o.node().getTransformToElement(o.node().ownerSVGElement);var $=o.node().ownerSVGElement.getBoundingClientRect();var _=i.node().getBoundingClientRect(),a1=o.node().getBoundingClientRect();K.attr('width',_.width).attr('height',_.height).attr('x',_.left-a1.left).attr('y',_.top-a1.top).style('visibility','visible');d.point={x:_.left-$.left+_.width/2,y:_.top-$.top};d.plotArea={x:j.e,y:j.f,width:w,height:n};J.showTooltip(t.formatTooltipData(d))}};L.mouseout=function(){K.attr('width',0).attr('height',0).attr('x',0).attr('y',0).style('visibility','hidden');if(D){J.hideTooltip()}};L.getDatapointsByRange=function(a){var d=d3.selectAll('.datapoint')[0],b=[],j=a.ctx.ranges,$;for(var i=0,_=d.length;i<_;i++){$=d[i].__data__.wordFontFamily.val;if(N.isNoValue(a.val)){if(N.isNoValue($)){b.push(d[i])}}else{if($<j.endValue&&$>j.startValue){b.push(d[i])}else{if(!j.isLeftOpen&&$===j.startValue){b.push(d[i])}else if(!j.isRightOpen&&$===j.endValue){b.push(d[i])}}}}return b};var P=function(a){var b=p,E=false;if(b.words&&a.words){if(b.words.rows.length!==a.words.rows.length){E=true}else if((b.wordsFontFamily&&!a.wordsFontFamily)||(!b.wordsFontFamily&&a.wordsFontFamily)){E=true}else{var d=b.words.rows,j=a.words.rows;for(var i=0,$=d.length;i<$;i++){if(d[i].val!==j[i].val){E=true;break}}}}return E};var Q=function(){var a=[],b;for(var i=0,d=q.length;i<d;i++){b=q[i];if(!(N.isNoValue(b.fontSize)||b.x===undefined||b.y===undefined||b.y>n||b.x>w)){a.push(b)}}return a};var S=function(d){var a={body:[],footer:[]};if(p.wordsSize){a.body.push({name:p.wordsSize.col,val:[{value:d.wordSize}]})}if(p.wordsFontFamily){a.body.push({name:p.wordsFontFamily.col,val:[{value:d.wordFontFamily}]})}if(p.words){a.footer.push({label:p.words.col,value:d.word})}return a};var U=function(d){q=[];var a,b,j,$;z=undefined,A=undefined,B=false;for(var i=0,_=d.words.rows.length;i<_;i++){if(d.words&&d.words.rows[i].val&&d.wordsSize&&d.wordsSize.rows[0][i]&&!N.isNoValue(d.wordsSize.rows[0][i].val)){$={};$.word=d.words.rows[i];$.wordSize=(d.wordsSize?d.wordsSize.rows[0][i]:undefined);$.wordFontFamily=(d.wordsFontFamily?d.wordsFontFamily.rows[0][i]:undefined);$.val=[d.words.rows[i].val];$.ctx=[d.words.rows[i].ctx];if($.wordSize){$.val.push(d.wordsSize.rows[0][i].val);$.ctx.push(d.wordsSize.rows[0][i].ctx);if($.wordSize.val!==null){if(a===undefined||$.wordSize.val<a){a=$.wordSize.val}if(b===undefined||$.wordSize.val>b){b=$.wordSize.val}}}if($.wordFontFamily){$.val.push($.wordFontFamily.val);$.ctx.push($.wordFontFamily.ctx);j=$.wordFontFamily.val;if(j===null){B=true}else{if(z===undefined||j<z){z=$.wordFontFamily.val}if(A===undefined||j>A){A=$.wordFontFamily.val}}}q.push($)}}V(a,b);if(d.wordsFontFamily){X(z,A,B)}else{u=undefined}};var V=function(d,j){var $=q.length;var a,b,_;if(d===0){d=1;j+=1}if($>1){b=(r-(s*(j/d)))/(1-(j/d));a=(s-b)/d}else{b=0;a=r/(d<0?-d:d)}for(var i=0,a1=q.length;i<a1;i++){if(q[i].wordSize&&d!==j){_=Math.round(a*q[i].wordSize.val+b)}else{_=s}q[i].fontSize=(q[i].wordSize.val===null)?null:_}};var X=function(a,b,B){if(a===undefined&&b===undefined){u=d3.scale.ordinal().domain([[]]).range([F.color])}else{u=M.getScale(a,b,5,G.startColor,G.endColor);if(B){var d=u.domain();var i=u.range();d.push([]);i.push(F.color)}}};var Y=function(){var a;if(G.layout==='Column'){a=e()}else if(G.layout==='Row'){a=R()}else if(G.layout==='Wordle'){a=W()}if(a!==undefined){var b=(new Date()).valueOf();a.width(w).height(n).data(q).font(F.fontfamily).layout();var d=(new Date()).valueOf()}};var Z=function(a){return(a===null||a===undefined)?I:a};G=m.props(null);return L};return h});sap.riv.module({qname:'sap.viz.modules.manifests.TagCloud',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.tagcloud',version:'4.0.0'},{qname:'sap.viz.feeds.TagCloud',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.tagcloud','type':C.Module.Type.Chart,'name':'tagcloud','properties':{'layout':{'name':'layout','supportedValueType':'List','supportedValues':['Row','Column','Wordle'],'defaultValue':'Wordle','description':'Set layout fo tag cloud.'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled data loading animation of plot area.'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':false,'description':'Set enabled/disabled data updating animation of plot area.'}},'description':'Settings for animation of plot area.'},'startColor':{'name':'startColor','supportedValueType':'String','defaultValue':"#C2E3A9",'description':'Set tagCloud start color.'},'endColor':{'name':'endColor','supportedValueType':'String','defaultValue':"#73C03C",'description':'Set tagCloud endcolor.'},'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'}},'events':{'initialized':C.Module.Event.Initialized.desc,'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc,'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'feeds':{id:"tagCloud"},'css':{},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.TagCloudChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TagCloud',version:'4.0.0'}],function Setup(M){var c={id:'viz/tagcloud',name:'IDS_TAGCLOUDCHART',base:'riv/base/single',modules:{legend:{feeds:[],configure:{'description':'The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ',properties:{type:'MeasureBasedColoringLegend'},propertiesOverride:{isHierarchical:{isExported:false},formatString:{isExported:true}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'tagcloud',orientation:'bottom'}}},main:{modules:{dataLabel:null,plot:{id:'sap.viz.modules.tagcloud',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}}}}},dependencies:{attributes:[{targetModule:'legend',target:'mbcLegendInfo',sourceModule:'main.plot',source:'mbcLegendInfo'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.RadarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Radar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var c={id:'viz/radar',name:'IDS_RADARCHART',base:"riv/base/single",modules:{legend:{id:"sap.viz.modules.legend",data:{aa:[2,3]}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:'tooltip',properties:{chartType:"radar",orientation:"left"}}},main:{id:'sap.viz.modules.xycontainer',controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mousemove","mouseup","touchstart"]}}}},modules:{plot:{id:'sap.viz.modules.radar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},dataLabel:{id:'sap.viz.modules.datalabel',configure:{propertyCategory:'dataLabel',properties:{paintingMode:'rectCoordinate',visible:false,orientation:'vertical',position:'outside',automaticInOutside:false,showZero:true,isStackMode:false,isPercentMode:false,outsideVisible:true,outsidePosition:'up'}}}}}},dependencies:{attributes:[{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapes'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"},{targetModule:'main.dataLabel',listener:'showLabel',sourceModule:'main.plot',type:'initialized.datalabel'},{targetModule:'main.dataLabel',listener:'removeLabel',sourceModule:'main.plot',type:'startToInit.datalabel'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.load',version:'4.0.0'},[{qname:'sap.viz.manifests.RadarChart',version:'4.0.0'},{qname:'sap.viz.manifests.TagCloudChart',version:'4.0.0'},{qname:'sap.viz.manifests.HeatMapChart',version:'4.0.0'},{qname:'sap.viz.manifests.TreeMapChart',version:'4.0.0'},{qname:'sap.viz.manifests.scatter.BubbleChart',version:'4.0.0'},{qname:'sap.viz.manifests.scatter.ScatterChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiScatterChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiBubbleChart',version:'4.0.0'},{qname:'sap.viz.manifests.ScatterMatrixChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiHorizontalLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualHorizontalLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.pie.DonutChart',version:'4.0.0'},{qname:'sap.viz.manifests.pie.DonutWithDepthChart',version:'4.0.0'},{qname:'sap.viz.manifests.pie.PieChart',version:'4.0.0'},{qname:'sap.viz.manifests.pie.PieWithDepthChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiPieChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDonutChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.PercentageStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.PercentageStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualPercentageStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualPercentageStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.VerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalWaterfallChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.WaterfallChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedWaterfallChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalStackedWaterfallChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualHorizontalLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.LineChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.CombinationChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualCombinationChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalCombinationChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualHorizontalCombinationChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.VerticalBoxplotChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalBoxplotChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.MekkoChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.PercentageMekkoChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalMekkoChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.PercentageHorizontalMekkoChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.AreaChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.PercentageAreaChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalAreaChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.PercentageHorizontalAreaChart',version:'4.0.0'},{qname:'sap.viz.manifests.xyz.Column3DChart',version:'4.0.0'},{qname:'sap.viz.manifests.xyz.Bar3DChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiRadarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiPercentageStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiPercentageStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualPercentageStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualPercentageStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiAreaChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiPercentageAreaChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiHorizontalAreaChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiPercentageHorizontalAreaChart',version:'4.0.0'}],function Setup(){return});sap.riv.module({qname:'sap.viz.mvc.VizAppDelegate',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var V=function(){this._publicMethodsRegistry={};this._application};var v=V.prototype;v._afterLaunched=function(a,l){this._application=a;this.appDidFinishLaunching(a,l);var r=this.rootController();r._setApplication_(this._application);this._application._setRootController(r)};v.appDidFinishLaunching=F.noop;v.rootController=F.unimplemented;v.registerPublicMethod=function(m,f){this._publicMethodsRegistry[m]=f};v._invokePublicMethod=function(p,o){if(this._publicMethodsRegistry.hasOwnProperty(p)){return this._publicMethodsRegistry[p].call(this,o)}};v._currentTheme=function(){return this._theme};v._applyTheme=function(t){if(this._theme!==t){this.rootController().doThemeApplied(t)}};v._updateThemeSetting=function(t,k,o,n){if(this._theme===t){this.rootController().doThemeUpdated(k,o,n)}};v.getProperties=function(){return{}};v.updateProperties=F.noop;v.setDataset=F.noop;v.getDataset=F.noop;v.getPreloadAssets=function(){return[]};v.getSupportedEvents=function(){return[]};v.getSupportedMethods=function(){var r=[];for(var p in this._publicMethodsRegistry){r.push(p)}return r};return V});sap.riv.module({qname:'sap.viz.base.Logger',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var n=F.noop;Date.now=Date.now||function(){return+new Date()};var d=0;function c(a){var l,e,x,y,z;if(k[0].length>0){if(a){z=a.getLevel();for(var i=0,B=k[0].length;i<B;i++){l=k[0][i];e=k[1][i];x=k[2][i];y=k[3][i];if(k[1][i]>=z)a.doAppend(l,e,x,y)}return}var E={};for(var G in w){if(w.hasOwnProperty(G)){E[G]=w[G].getLevel()}}while(k[0].length){l=k[0].shift();e=k[1].shift();x=k[2].shift();y=k[3].shift();for(G in w){if(w.hasOwnProperty(G)){a=w[G];if(e>=E[G])a.doAppend(l,e,x,y)}}}return}else if(++d===3)r()}function b(){c();if(!p)setTimeout(function(){b()},100)}var C=function(){this.threshold=L.LEVEL.INFO;this.layout=new L.DefaultLayout();this.print=typeof console!==undefined?function(a){console.log(a)}:n};C.prototype={doAppend:function(l,a,e,i){this.print(this.layout.format(l,a,e,i))},setLayout:function(l){l.format&&(this.layout=l)},getLevel:function(){return this.threshold},setLevel:function(l){this.threshold=l}};var D=function(){};D.prototype.format=function(l,a,e,i){return"["+l+"]"+"["+h(a)+"]"+"["+(e||"main")+"]-"+i};var f=function(a){if(!$){throw"need jQuery"}this.threshold=L.LEVEL.INFO;this.divSl=$(a);this.layout=new H()};f.prototype={getLevel:function(){return this.threshold},setLevel:function(l){this.threshold=l},doAppend:function(l,a,e,i){this.divSl.append(this.layout.format(l,a,e,i))}};var H=function(){};H.prototype={getStyle:function(l){var a;if(l===L.LEVEL.ERROR){a='color:red'}else if(l===L.LEVEL.WARN){a='color:orange'}else if(l===L.LEVEL.DEBUG){a='color:green'}else if(l===L.LEVEL.TRACE){a='color:green'}else if(l===L.LEVEL.INFO){a='color:grey'}else{a='color:yellow'}return a},format:function(l,a,e,i){return"<div style=\""+this.getStyle(a)+"\">["+l+"]"+"["+h(a)+"]["+(e||"main")+"]-"+i+"</div>"}};var g=function(){this.array=[]};g.prototype={push:function(a){this.array[this.array.length]=a;return this.array.length},pull:function(){if(this.array.length>0){var a=this.array[0];for(var i=0;i<this.array.length-1;i++){this.array[i]=this.array[i+1]}this.array.length=this.array.length-1;return a}return null},length:function(){return this.array.length}};var A=function(a){this.loggingUrl=a;this.isInProgress=false;this.threshold=L.LEVEL.INFO;this.bufferSize=20;this.timeout=2000;this.loggingEventMap=[];this.layout=new L.JSONLayout();this.httpRequest=null;this.timer=undefined};function t(){var a=this;if(this.isInProgress===true){setTimeout(function(){t.call(a)},100)}else{this.send()}}A.prototype={getLevel:function(){return this.threshold},setLevel:function(l){this.threshold=l},doAppend:function(l,a,e,i){this.loggingEventMap.push([l,a,e,i]);if(this.loggingEventMap.length<=this.bufferSize||this.isInProgress===true){var x=this;if(this.timer===undefined){this.timer=setTimeout(function(){t.call(x)},100)}}if(this.loggingEventMap.length>=this.bufferSize&&this.isInProgress===false){if(this.timer!==undefined)clearTimeout(this.timer);this.send()}},send:function(){if(this.loggingEventMap.length>0){this.isInProgress=true;var a=[];var l;for(var i=0,x=this.loggingEventMap.length;i<x&&i<this.bufferSize;i++){l=this.loggingEventMap.shift();a.push(this.layout.format(l[0],l[1],l[2],l[3]))}var y=this.layout.getHeader();y+=a.join(this.layout.getSeparator());y+=this.layout.getFooter();var z=this;if(this.httpRequest===null){this.httpRequest=this.getXmlHttpRequest()}this.httpRequest.onreadystatechange=function(){z.onReadyStateChanged.call(z)};this.httpRequest.open("POST",this.loggingUrl,true);this.httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.httpRequest.setRequestHeader("Content-length",y.length);this.httpRequest.send(y);z=this;try{setTimeout(function(){z.httpRequest.onreadystatechange=function(){};z.httpRequest.abort();z.isInProgress=false;if(z.loggingEventMap.length>0){z.send()}},this.timeout)}catch(e){}}},onReadyStateChanged:function(){var a=this.httpRequest;if(this.httpRequest.readyState!==4){return}var e=((typeof a.status==="undefined")||a.status===0||(a.status>=200&&a.status<300));if(e){this.isInProgress=false}else{}},getXmlHttpRequest:function(){var a=false;try{if(window.XMLHttpRequest){a=new XMLHttpRequest();if(a.overrideMimeType){a.overrideMimeType(this.layout.getContentType())}}else if(window.ActiveXObject){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){a=new ActiveXObject("Microsoft.XMLHTTP")}}}catch(e){a=false}if(!a){throw"browser don't support AJAX"}return a}};var J=function(){};J.prototype={format:function(l,a,e,i){var x="{\n \"LoggingEvent\": {\n";x+="\t\"category\": \""+(e||"main")+"\",\n";x+="\t\"level\": \""+h(a)+"\",\n";x+="\t\"message\": \""+i+"\",\n";x+="\t\"timestamp\": \""+l+"\"\n";x+="}\n}";return x},getContentType:function(){return"text/json"},getHeader:function(){var a="unknown";try{a=navigator.userAgent}catch(e){a="unknown"}var i="unknown";try{i=location.href}catch(e){i="unknown"}return"{"+"\"ClientInfo\" : {\n"+"\t\"useragent\": \""+a+"\",\n"+"\t\"referer\": \""+i+"\"\n},\n"+"\"VizLogger\": [\n"},getFooter:function(){return"\n]}"},getSeparator:function(){return",\n"}};var X=function(){};X.prototype={format:function(l,a,e,i){var x="<vizLogger:event category=\"";x+=(e||"main")+"\" level=\"";x+=h(a)+"\" timestamp=\"";x+=l+"\">\n";x+="\t<vizLogger:message><![CDATA["+this.escapeCdata(i)+"]]></vizLogger:message>\n";x+="</vizLogger:event>";return x},getContentType:function(){return"text/xml"},getHeader:function(){var a="unknown";try{a=navigator.userAgent}catch(e){a="unknown"}var i="unknown";try{i=location.href}catch(e){i="unknown"}return"<vizLogger:eventSet useragent=\""+a+"\" referer=\""+i.replace(/&/g,"&amp;")+"\">\n"},getFooter:function(){return"</vizLogger:eventSet>\n"},getSeparator:function(){return"\n"},escapeCdata:function(a){return a.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")}};function h(l){switch(l){case L.LEVEL.TRACE:return"TRACE";case L.LEVEL.DEBUG:return"DEBUG";case L.LEVEL.INFO:return"INFO";case L.LEVEL.WARN:return"WARN";case L.LEVEL.ERROR:return"ERROR"}}var j=false;var p=false;var k=[[],[],[],[]];var M=2000;var m=function(l,a,e){if(k[0].length===M)c();k[0].push(Date.now());k[1].push(l);k[2].push(a);k[3].push(e.toString())};var o=function(l,a,e){s();m(l,a,e)};var q=n;var r=function(){p=true;q=o};var s=function(){p=false;q=m;setTimeout(function(){b()},100)};var u=0;var v=function(){return u++};var w={};var L={LEVEL:{TRACE:5000,DEBUG:10000,INFO:20000,WARN:30000,ERROR:40000,NO:Number.MAX_VALUE},isEnabled:function(){return j},enable:function(){q=m;j=true;setTimeout(function(){b()},100)},disable:function(){c();q=n;j=false},toggleEnable:function(){if(j)this.disable();else this.enable()},addAppender:function(){var _=v();var a,e;if(arguments.length===1){a=_;e=arguments[0]}else if(arguments.length>=2){a=arguments[0];e=arguments[1]}if(typeof e==="object"&&e.doAppend){if(w[a]!==undefined)return;c();w[a]=e;return a}},setAppenders:function(a){w=[];for(var i=0,l=a.length;i<l;i++){var e=a[i];if(e.appenderKey)this.addAppender(e.appenderKey,e.appender);else this.addAppender(e.appender)}},removeAppender:function(a){if(w[a]===undefined)return false;c(w[a]);return(delete w[a])},getAppender:function(a){return w[a]},ConsoleAppender:C,DivAppender:f,AjaxAppender:A,DefaultLayout:D,HTMLLayout:H,XMLLayout:X,JSONLayout:J,trace:function(a,e){q(L.LEVEL.TRACE,e,a)},debug:function(a,e){q(L.LEVEL.DEBUG,e,a)},info:function(a,e){q(L.LEVEL.INFO,e,a)},warn:function(a,e){q(L.LEVEL.WARN,e,a)},error:function(a,e){q(L.LEVEL.ERROR,e,a)}};w["[default]"]=new L.ConsoleAppender();return L});sap.riv.module({qname:'sap.viz.base.utils.LinkedHashMap',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var l=function(b,r){this._lhm=b;this._reverse=r||false;this._count=b._length;this._cursor=this._reverse?this._lhm._last:this._lhm._head;if(this._reverse){this.hasMore=this._hasMoreInReverse}else{this.hasMore=this._hasMoreInOrder}};l.prototype._hasMoreInOrder=function(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._head}else{this._cursor=this._cursor.next}this._count--;return true}else{return false}};l.prototype._hasMoreInReverse=function(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._last}else{this._cursor=this._cursor.prev}this._count--;return true}else{return false}};l.prototype.hasMore=F.noop;l.prototype.next=function(){var r={key:this._cursor.key,value:this._cursor.value};return r};l.prototype.nextValue=function(){return this._cursor.value};l.prototype.nextKey=function(){return this._cursor.key};l.prototype.reset=function(){this._count=this._lhm._length};var L=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};var a=L.prototype;a.add=function(k,v){var m=this._map;var r=null;var n={prev:null,key:k,value:v,next:null};if(!this._length){this._head=this._last=n}if(!m.hasOwnProperty(k)){m[k]=n;this._length++;n.prev=this._last;this._last.next=n;this._last=n;this._last.next=this._head;this._head.prev=this._last}else{r=m[k].value;m[k].value=v}return r};a.addAll=function(b){var i=b.getIterator();var e;while(i.hasMore()){e=i.next();this.add(e.key,e.value)}};a.insertBefore=function(k,v,b){var m=this._map;if(!m.hasOwnProperty(k)&&m.hasOwnProperty(b)){var n={prev:null,key:k,value:v,next:null};var c=m[b];if(c!==this._head){n.prev=c.prev;c.prev.next=n}else{this._head=n;n.prev=this._last}n.next=c;c.prev=n;m[k]=n;this._length++;return v}};a.insertAfter=function(k,v,b){var m=this._map;if(!m.hasOwnProperty(k)&&m.hasOwnProperty(b)){var n={prev:null,key:k,value:v,next:null};var c=m[b];if(c!==this._last){n.next=c.next;c.next.prev=n}else{this._last=n;this._last.next=this._head}c.next=n;n.prev=c;m[k]=n;this._length++;return v}};a.replace=function(k,w,b){var m=this._map;if(!m.hasOwnProperty(w)&&m.hasOwnProperty(k)){var n={prev:null,key:w,value:b,next:null};var r=m[k];n.prev=r.prev;n.next=r.next;r.prev.next=n;r.next.prev=n;if(this._head===r)this._head=n;if(this._last===r)this._last=n;m[w]=n;delete m[k];return r.value}};a.get=function(k){var m=this._map;if(m.hasOwnProperty(k)){return m[k].value}return null};a.getFirstInsert=function(){return this._head?this._head.value:null};a.getLastInsert=function(){return this._last?this._last.value:null};a.moveToLast=function(k){var m=this._map;if(m.hasOwnProperty(k)&&this._last.key!==k){var n=m[k];n.prev.next=n.next;n.next.prev=n.prev;n.prev=this._last;n.next=this._last.next;this._last.next=n;this._last=n;this._head=n.next;this._head.prev=n}};a.moveToFirst=function(k){var m=this._map;if(m.hasOwnProperty(k)&&this._head.key!==k){var n=m[k];n.prev.next=n.next;n.next.prev=n.prev;n.next=this._head;n.prev=this._head.prev;this._head.prev=n;this._head=n;this._last=n.prev;this._last.next=n}};a.has=function(k){var m=this._map;return m.hasOwnProperty(k)};a.remove=function(k){var m=this._map;var r;if(m.hasOwnProperty(k)){var n=m[k];r=n.value;if(n===this._head){this._head=n.next}else if(n===this._last){this._last=n.prev}else{n.prev.next=n.next;n.next.prev=n.prev}delete m[k];this._length--;if(this._length===0){this._head=this._last=undefined}return r}};a.purgeAll=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};a.isEmpty=function(){return this._length==0};a.length=function(){return this._length};a.getIterator=function(r){return new l(this,r)};return L});sap.riv.module({qname:'sap.viz.base.Observable',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(t){var b=function(o){this._events={};var a=this.constructor;while(a){var e=a.prototype.events,l;if(e){l=e.length;while(l--){this.addEvents(e[l])}}a=a.superclazz}if(o){if(o.listeners){this.addListeners(o.listeners);delete o.listeners}}};var c=b.prototype;c.addEvents=function(){var e=this._events,a=arguments,l=arguments.length;while(l--){if(typeof a[l]==='string'){e[a[l]]=e[a[l]]||[]}}};c.getSupportedEvents=function(){var r=[];for(var e in this._events){r.push(e)}return r};c.addListeners=function(o){var a;if(t.isArray(o)){a=o}else{a=[o]}var d=a.length,l,e;var f=this._events;while(d--){l=a[d];e=l.eventName;if(f.hasOwnProperty(e)){var g=f[e];if(!this.isListening(e,l.listener,l.scope)){g[g.length]={fn:l.listener,scp:l.scope,optArgs:l.optionalArgs}}}}return this};c.findListener=function(e,f,s){var a=this._events;if(!a.hasOwnProperty(e)){return-1}var l=a[e],d=l.length,g;while(d--){g=l[d];if(s){if(g.fn==f&&g.scp==s){return d}}else{if(g.fn==f){return d}}}return-1};c.isListening=function(e,f,s){return this.findListener(e,f,s)>-1};c.removeListener=function(e,f,s){var a=this._events;if(a.hasOwnProperty(e)){var l=a[e];var d=l.length,i;while(d--){i=this.findListener(e,f,s);if(i>-1){l.splice(i,1);d=l.length}}}return this};c.removeAllListeners=function(e){var a=this._events;if(a.hasOwnProperty(e)){a[e]=[]}return this};c.hasListener=function(e){return this._events[e]&&this._events[e].length>0};c.purgeListeners=function(){var a=this._events;for(var e in a){a[e]=[]}};c.fireEvent=function(e){var d=Array.prototype.slice.call(arguments,1);var a=this._events;if(a.hasOwnProperty(e)){var f=a[e],l;for(var i=0,g=f.length;i<g;i++){l=f[i];if(l.optArgs){d.push(l.optArgs)}l.fn.apply(l.scp||this||window,d)}}};c.on=c.addListeners;c.un=c.removeListener;return b});sap.riv.module({qname:'sap.viz.mvc.UIComponent',version:'4.0.0'},[{qname:'sap.viz.base.Observable',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.LinkedHashMap',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(O,a,L,F){var $=jQuery;if(!$){F.error('Cannot find jQuery')}var b={None:0,FlexibleLeftMargin:1<<0,FlexibleWidth:1<<1,FlexibleRightMargin:1<<2,FlexibleTopMargin:1<<3,FlexibleHeight:1<<4,FlexibleBottomMargin:1<<5};var c=0;var d=function(){return c++};var U=a.derive(O,{events:['widthChanged','heightChanged','sizeChanged','positionChanged','anchorChanged','beforeShow','afterShow','beforeHide','afterHide','focusin','focusout','focus','blur','mousedown','mouseup','mouseenter','mouseleave','mousemove','click','dblclick','touchstart','touchmove','touchend','touchcancel'],constructor:function(o){o=o||{};var _=d();this._id=o.id?o.id+'_'+_:_;this._attached=false;this._container=undefined;this._superComp=undefined;this._subComps=new L();this._hidden=false;this._clipToBound=true;this._parentVisible=false;this._printable=true;this._autoresizeSubComponents=true;this._autoresizingMask=b.None;this._gestureDetectors=[];this._bounds={x:0,y:0,width:1,height:1};this._position={x:0,y:0};this._anchorPoint={x:0.5,y:0.5};this._init_(o)},_init_:function(o){this._container=$(document.createElement('div')).attr('id',this._id).css('position','absolute').css({'font-size':'10px','box-sizing':'border-box','-moz-box-sizing':'border-box','-ms-box-sizing':'border-box','-webkit-box-sizing':'border-box'}).data('selfComp',this);if(o.clipToBound===false){this._container.css('overflow','visible');this._clipToBound=false}else{this._container.css('overflow','hidden')}if(o.hidden===true){this._container.css('display','none');this._hidden=true}if(o.autoSizingMask!=undefined){this._autoresizingMask=o.autoSizingMask}if(o.anchor){this._anchorPoint.x=o.anchor.x;this._anchorPoint.y=o.anchor.y;delete o.anchor}if(o.position){this._position.x=o.position.x;this._position.y=o.position.y;this._container.css('left',this._position.x-this._anchorPoint.x*this._bounds.width);this._container.css('top',this._position.y-this._anchorPoint.y*this._bounds.height);delete o.position}if(o.size){this._bounds.width=o.size.w;this._bounds.height=o.size.h;this._container.width(this._bounds.width);this._container.height(this._bounds.height);delete o.size}this._registerMandatoryHandler()},_registerMandatoryHandler:function(){this.on([{eventName:'sizeChanged',listener:this._updateContainerSize,scope:this},{eventName:'heightChanged',listener:this._updateContainerHeight,scope:this},{eventName:'widthChanged',listener:this._updateContainerWidth,scope:this},{eventName:'positionChanged',listener:this._updateContainerPos,scope:this},{eventName:'anchorChanged',listener:this._updateContainerAnchor,scope:this}])},_updateContainerSize:function(o,n){this._container.width(n.width);this._container.height(n.height);if(this._anchorPoint.x!==0||this._anchorPoint.y!==0){this._container.css('left',this._position.x-this._anchorPoint.x*n.width);this._container.css('top',this._position.y-this._anchorPoint.y*n.height)}this.doContentResize(o,n);this._layout(o,n)},_updateContainerWidth:function(o,n){this._container.width(n);if(this._anchorPoint.x!==0||this._anchorPoint.y!==0){this._container.css('left',this._position.x-this._anchorPoint.x*n)}var e={height:this._bounds.height,width:o},f={height:this._bounds.height,width:n};this.doContentResize(e,f);this._layout(e,f)},_updateContainerHeight:function(o,n){this._container.height(n);if(this._anchorPoint.x!==0||this._anchorPoint.y!==0){this._container.css('top',this._position.y-this._anchorPoint.y*n)}var e={height:o,width:this._bounds.width},f={height:n,width:this._bounds.width};this.doContentResize(e,f);this._layout(e,f)},_updateContainerPos:function(o,n){this._container.css('left',n.x-this._anchorPoint.x*this._bounds.width);this._container.css('top',n.y-this._anchorPoint.y*this._bounds.height)},_updateContainerAnchor:function(o,n){this._container.css('left',this._position.x-n.x*this._bounds.width);this._container.css('top',this._position.y-n.y*this._bounds.height)},_markAttached_:function(){this._attached=true;var s=this._subComps.getIterator();while(s.hasMore()){s.next().value._markAttached_()}this._handleSubCompShow(this)},_markDetached_:function(){this._attached=false;var s=this._subComps.getIterator();while(s.hasMore()){s.next().value._markDetached_()}},id:function(){return this._id},markHide:function(){if(this._hidden===false){if(this._attached&&this._parentVisible){this.doBeforeHide();this.fireEvent('beforeHide')}this._hidden=true;this._container.css('display','none');if(this._attached&&this._parentVisible){this.doAfterHide();this.fireEvent('afterHide');var s=this._subComps.getIterator();while(s.hasMore()){this._handleSubCompHide(s.next().value)}}}return this},_handleSubCompHide:function(e){if(e._parentVisible&&!e._hidden){e.doBeforeHide();e.fireEvent('beforeHide');e.doAfterHide();e.fireEvent('afterHide')}e._parentVisible=false;var s=e._subComps.getIterator();while(s.hasMore()){e._handleSubCompHide(s.next().value)}},markShow:function(){if(this._hidden===true){if(this._attached&&this._parentVisible){this.doBeforeShow();this.fireEvent('beforeShow')}this._hidden=false;this._container.css('display','block');if(this._attached&&this._parentVisible){this.doAfterShow();this.fireEvent('afterShow');var s=this._subComps.getIterator();while(s.hasMore()){this._handleSubCompShow(s.next().value)}}}return this},_handleSubCompShow:function(e){var s=e.superComponent();e._parentVisible=!s._hidden&&s._parentVisible;if(e._parentVisible&&!e._hidden){e.doBeforeShow();e.fireEvent('beforeShow');e.doAfterShow();e.fireEvent('afterShow')}var f=e._subComps.getIterator();while(f.hasMore()){e._handleSubCompShow(f.next().value)}},clipToBound:function(e){if(e!==undefined){if(this._clipToBound!==e){this._clipToBound=e;if(this._clipToBound){this._container.css('overflow','hidden')}else{this._container.css('overflow','visible')}}return this}else{return this._clipToBound}},visibility:function(){return!this._hidden&&this._attached&&this._parentVisible},printable:function(p){if(p!==undefined){if(this._printable!==p){this._printable=p}return this}else{return this._printable}},autoresizeSubComponents:function(e){if(e!==undefined){if(this._autoresizeSubComponents!==e){this._autoresizeSubComponents=e}return this}else{return this._autoresizeSubComponents}},autoresizingMask:function(m){if(m!==undefined){if(this._autoresizingMask!==m){this._autoresizingMask=m}return this}else{return this._autoresizingMask}},bounds:function(e){if(e){var o=this._bounds,n=e;this._bounds.x=n.x;this._bounds.y=n.y;if(o.width!==n.width||o.height!==n.height){var f={width:o.width,height:o.height};var g={width:n.width,height:n.height};this._bounds.width=n.width;this._bounds.height=n.height;this.fireEvent('sizeChanged',f,g)}return this}else{return a.extend({},this._bounds)}},pagePosition:function(){var o=this._container.offset();return{x:o.left,y:o.top}},position:function(p){if(p){var e=this._position,f=p;if(e.x!==f.x||e.y!==f.y){var o={x:e.x,y:e.y};var n={x:f.x,y:f.y};e.x=f.x;e.y=f.y;this.fireEvent('positionChanged',o,n)}return this}else{return a.extend({},this._position)}},size:function(s){if(s){var o={width:this._bounds.width,height:this._bounds.height};if(o.width!==s.width||o.height!==s.height){this._bounds.width=s.width;this._bounds.height=s.height;this.fireEvent('sizeChanged',o,s)}return this}else{return{width:this._bounds.width,height:this._bounds.height}}},width:function(w){if(w){var o=this._bounds.width;if(o!==w){this._bounds.width=w;this.fireEvent('widthChanged',o,w)}return this}else{return this._bounds.width}},height:function(h){if(h){var o=this._bounds.height;if(o!==h){this._bounds.height=h;this.fireEvent('heightChanged',o,h)}return this}else{return this._bounds.height}},anchorPoint:function(e){if(e){var f=this._anchorPoint,g=e;if(f.x!==g.x||f.y!==g.y){var o={x:f.x,y:f.y};var n={x:g.x,y:g.y};f.x=g.x;f.y=g.y;this.fireEvent('anchorChanged',o,n)}return this}else{return a.extend({},this._anchorPoint)}},frame:function(r){if(r){var e=this._bounds,f=this._position;var g=r.x+r.width*this._anchorPoint.x;var h=r.y+r.height*this._anchorPoint.y;var p=false,o=undefined,n=undefined,s=false,i={width:e.width,height:e.height};ns={width:r.width,height:r.height};if(e.width!==r.width||e.height!==r.height){e.width=r.width;e.height=r.height;s=true}if(f.x!==g||f.y!==h){o={x:f.x,y:f.y};n={x:g,y:h};f.x=g;f.y=h;p=true}if(p){this.fireEvent('positionChanged',o,n)}if(s||(i.width===5&&i.height===5)){this.fireEvent('sizeChanged',i,ns)}return this}else{return{x:this._position.x-this._anchorPoint.x*this._bounds.width,y:this._position.y-this._anchorPoint.y*this._bounds.height,width:this._bounds.width,height:this._bounds.height}}},superComponent:function(){return this._superComp},subComponents:function(){return this._subComps},addSubComponent:function(s){if(s){if(s._superComp===undefined){s._superComp=this;this._subComps.add(s.id(),s);this._container.append(s._container);if(this._attached){s._markAttached_()}return this}else{throw new Error('The component already has a parent component')}}},detachFromSuperComponent:function(){if(this._superComp){if(this._superComp._attached){this._superComp._handleSubCompHide(this);this._markDetached_()}this._superComp._subComps.remove(this.id());this._container.detach();this._superComp=undefined}},removeFromSuperComponent:function(){if(this._superComp){this._superComp._subComps.remove(this.id());this._container.remove();if(this._superComp._attached)this._markDetached_();this._superComp=undefined}},insertBeforeSubComponent:function(s,e){if(s&&e){if(s._superComp===undefined){var n=s.id();var f=e.id();if(this._subComps.has(f)&&n!==f){s._superComp=this;this._subComps.insertBefore(n,s,f);s._container.before(e._container);if(this._attached){s._markAttached_()}}}else{throw new Error('The component already has a parent component')}}},insertAfterSubComponent:function(s,e){if(s&&e){if(s._superComp===undefined){var n=s.id();var f=e.id();if(this._subComps.has(f)&&n!==f){s._superComp=this;this._subComps.insertAfter(n,s,f);s._container.after(e._container);if(this._attached){s._markAttached_()}}}else{throw new Error('The component already has a parent component')}}},bringToFront:function(s){if(s&&this._subComps.has(s.id())&&this._subComps.getLastInsert().id()!==s.id()){this._subComps.moveToLast(s.id());s._container.detach();this._container.append(s._container)}},sendToBack:function(s){if(s&&this._subComps.has(s.id())&&this._subComps.getFirstInsert().id()!==s.id()){this._subComps.moveToFirst(s.id());s._container.detach();this._container.prepend(s._container)}},convertPointFromSuper:function(p){var f=this.frame();return{x:p.x-f.x,y:p.y-f.y}},convertPointToSuper:function(p){var f=this.frame();return{x:p.x+f.x,y:p.y+f.y}},convertPointFromGlobal:function(g){var p=[this];var e=this;var f=g;while(e._superComp){p.push(e._superComp);e=e._superComp}while(p.length){e=p.pop();f=e.convertPointFromSuper(f)}return f},convertPointToGlobal:function(p){var e=this;var f=p;while(e){f=e.convertPointToSuper(f);e=e._superComp}return f},convertPointFromComp:function(p,s){return this.convertPointFromGlobal(s.convertPointToGlobal(p))},convertPointToComp:function(p,t){return t.convertPointFromGlobal(this.convertPointToGlobal(p))},_resizeSubComp:function(s,o,n){var e=s.frame();var x=e.x,y=e.y,w=e.width,h=e.height;var m=x,f=o.width-x-w,g=y,i=o.height-y-h;var j=n.width-o.width,k=n.height-o.height;var l=s._autoresizingMask;var p=b.FlexibleLeftMargin|b.FlexibleWidth|b.FlexibleRightMargin;var v=b.FlexibleTopMargin|b.FlexibleHeight|b.FlexibleBottomMargin;switch(l&p){case b.None:if(m!==0){x+=j*m/(m+f)}break;case b.FlexibleLeftMargin:x+=j;break;case b.FlexibleLeftMargin|b.FlexibleRightMargin:case b.FlexibleRightMargin:break;case b.FlexibleWidth:w+=j;break;case b.FlexibleLeftMargin|b.FlexibleWidth:if(w!==0){x+=j*m/(m+w);w+=j*w/(m+w)}break;case b.FlexibleRightMargin|b.FlexibleWidth:if(w!==0){w+=j*w/(f+w)}break;case b.FlexibleLeftMargin|b.FlexibleWidth|b.FlexibleRightMargin:if(o.width!==0){var r=j/o.width;x+=x*r;w+=w*r}break}switch(l&v){case b.None:if(g!==0){y+=k*g/(g+i)}break;case b.FlexibleTopMargin:y+=k;break;case b.FlexibleTopMargin|b.FlexibleBottomMargin:case b.FlexibleBottomMargin:break;case b.FlexibleHeight:h+=k;break;case b.FlexibleTopMargin|b.FlexibleHeight:if(h!==0){y+=k*g/(g+h);h+=k*h/(g+h)}break;case b.FlexibleBottomMargin|b.FlexibleHeight:if(h!=0){h+=k*h/(i+h)}break;case b.FlexibleTopMargin|b.FlexibleHeight|b.FlexibleBottomMargin:if(o.height){var r=k/o.height;y+=y*r;h+=h*r}break}return{x:x,y:y,height:h,width:w}},_layout:function(o,n){if(this._autoresizeSubComponents){var s=this._subComps.getIterator();var e,f;while(s.hasMore()){e=s.next().value;f=this._resizeSubComp(e,o,n);e.frame(f)}}else if(this.doLayout!=F.noop&&this.doLayout!==undefined){this.doLayout()}},_fireEvent_:function(e){this.fireEvent(e.type(),e);if(this._superComp&&e.shouldBubble()){e._setCurrentTarget_(this._superComp);this._superComp._fireEvent_(e)}},_fireMouseEvent_:function(e){this.fireEvent(e.type(),e);if(this._superComp&&e.shouldBubble()){e._setCurrentTarget_(this._superComp);e._setCurrentLocalXY_({x:e.currentLocalXY().x+this._position.x-this._anchorPoint.x*this._bounds.width,y:e.currentLocalXY().y+this._position.y-this._anchorPoint.y*this._bounds.height});this._superComp._fireMouseEvent_(e)}},_fireTouchEvent_:function(e){this.fireEvent(e.type(),e);if(this._superComp&&e.shouldBubble()){e._setCurrentTarget_(this._superComp);this._superComp._fireTouchEvent_(e)}},purgeListeners:function(){this.callParent('purgeListeners');this._registerMandatoryHandler()},removeAllListeners:function(e){this.callParent('removeAllListeners',e);switch(e){case'sizeChanged':this.on({eventName:'sizeChanged',listener:this._updateContainerSize,scope:this});break;case'heightChanged':this.on({eventName:'heightChanged',listener:this._updateContainerHeight,scope:this});break;case'widthChanged':this.on({eventName:'widthChanged',listener:this._updateContainerWidth,scope:this});break;case'positionChanged':this.on({eventName:'positionChanged',listener:this._updateContainerPos,scope:this});break;case'anchorChanged':this.on({eventName:'anchorChanged',listener:this._updateContainerAnchor,scope:this});break}},addGestureDetector:function(e){if(e!==undefined){e._setOwnerComp_(this);this._gestureDetectors.push(e)}},removeGestureDetector:function(e){for(var i=0,l=this._gestureDetectors.length;i<l;i++){if(this._gestureDetectors[i]===e){this._gestureDetectors.splice(i,1);e._setOwnerComp_(undefined);l--}}},hitTest:function(l){var p=[{comp:this,pointInLocal:l,subCompsItr:this._subComps.getIterator(true)}];var e,f,g,s;while(p.length){e=p[p.length-1];g=e.comp;f=e.pointInLocal;s=e.subCompsItr;if(g.visibility()){if(s.hasMore()){var h=s.next().value;p.push({comp:h,pointInLocal:h.convertPointFromSuper(f),subCompsItr:h._subComps.getIterator(true)});continue}else if(g.containsPoint(f)){return g}p.pop()}else{p.pop()}}},containsPoint:function(l){var e=this.bounds();return l.x>=e.x&&l.x<=(e.x+e.width)&&l.y>=e.y&&l.y<=(e.y+e.height)},printTo:function(e){e.clearRect(0,0,this._bounds.width,this._bounds.height);this.doPrint(e)},doLayout:F.noop,doContentResize:F.noop,doPrint:F.noop,doBeforeHide:F.noop,doAfterHide:F.noop,doBeforeShow:F.noop,doAfterShow:F.noop});U.Autosizing=b;return U});sap.riv.module({qname:'sap.viz.base.Math',version:'4.0.0'},[{qname:'sap.viz.base.UADetector',version:'4.0.0'}],function Setup(U){var O={PI:Math.PI,E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:(function(){if(U.isSafari()||(U.isIE()&&parseFloat(U.version())<9)){return function(n){return n<0?-n:n}}else{return Math.abs}})(),acos:(function(){return Math.acos})(),asin:(function(){return Math.asin})(),atan:(function(){return Math.atan})(),atan2:(function(){return Math.atan2})(),ceil:(function(){return Math.ceil})(),cos:(function(){return Math.cos})(),exp:(function(){return Math.exp})(),floor:(function(){return Math.floor})(),log:(function(){return Math.log})(),max:(function(){return Math.max})(),min:(function(){return Math.min})(),pow:(function(){return Math.pow})(),random:(function(){return Math.random})(),round:(function(){return Math.round})(),sin:(function(){return Math.sin})(),sqrt:(function(){return Math.sqrt})(),tan:(function(){return Math.tan})()};return O});sap.riv.module({qname:'sap.viz.mvc.Event',version:'4.0.0'},[],function Setup(){var E=function(t,b,c){this._type=t;this._target=this._currentTarget=b;this._canBubbling=c!==undefined?c:true;this._timestamp=+new Date};var a=E.prototype;a._setCurrentTarget_=function(c){this._currentTarget=c};a.type=function(){return this._type};a.timestamp=function(){return this._timestamp};a.target=function(){return this._target};a.currentTarget=function(){return this._currentTarget};a.isInBubbling=function(){return this._target.id()!=this._currentTarget.id()};a.shouldBubble=function(){return this._canBubbling};a.stopPropagation=function(){this._canBubbling=false};return E});sap.riv.module({qname:'sap.viz.mvc.TouchEvent',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.mvc.Event',version:'4.0.0'}],function Setup(F,O,E){var $=jQuery;if(!$){F.error('Cannot find jQuery')}var T=function(i,g,l,p){this._id=i;this._target=g;this._localXY=l;this._pageXY=p};var t=T.prototype;t.identifier=function(){return this._id};t.target=function(){return this._target};t.localXY=function(){return{x:this._localXY.x,y:this._localXY.y}};t.pageXY=function(){return{x:this._pageXY.x,y:this._pageXY.y}};var a=function(g,h){this.tA=g,this.tM=h};var b=a.prototype;b.length=function(){return this.tA.length};b.item=function(i){if(i>=0&&(i<this.tA.length)){return this.tA[i]}};b.identifiedTouch=function(i){if(i){return this.tM[i]}};var c=O.derive(E,{constructor:function(g,h,i,j,k,l){this._relatedTarget=undefined;this._touches=j;this._targetTouches=k;this._changedTouches=l},touches:function(){return this._touches},targetTouches:function(){return this._targetTouches},changedTouches:function(){return this._changedTouches}});var _=function(g){var h=[],j={};for(var i=0,k,l,m=g.length;i<m;i++){k=e(g.item(i));if(k){l=f(g.item(i),k);h.push(l);j[l.identifier()]=l}}return new a(h,j)};var d=function(g){var h=[],j={};for(var i=0,k,l,m=g.length;i<m;i++){k=e(g[i]);if(k){l=f(g[i],k);h.push(l);j[l.identifier()]=l}}return new a(h,j)};var e=function(g){var h=$(g.target);while(h.length&&!h.data('selfComp')){h=h.parent()}return h.data('selfComp')};var f=function(g,h){var i=h.pagePosition();var l={x:g.pageX-i.x,y:g.pageY-i.y};return new T(g.identifier,h,l,{x:g.pageX,y:g.pageY})};c.buildFrom3TouchArray=function(g,h,i,j,k,l){var m=d(i);var n=d(k);var o=d(j);return new c(g,h,l,m,n,o)};c.buildFromDomTouchEvent=function(g,h,i,j){var k=_(i.touches);var l=_(i.targetTouches);var m=_(i.changedTouches);return new c(g,h,j,k,l,m)};return c});sap.riv.module({qname:'sap.viz.mvc.MouseEvent',version:'4.0.0'},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.mvc.Event',version:'4.0.0'}],function Setup(O,E){var M=O.derive(E,{constructor:function(t,a,c,l,p){this._relatedTarget=undefined;this._currentLocalXY=this._targetLocalXY=l;this._pageXY=p},_setCurrentLocalXY_:function(c){this._currentLocalXY=c},_setRelatedTarget_:function(r){this._relatedTarget=r},targetLocalXY:function(){return{x:this._targetLocalXY.x,y:this._targetLocalXY.y}},currentLocalXY:function(){return{x:this._currentLocalXY.x,y:this._currentLocalXY.y}},pageXY:function(){return{x:this._pageXY.x,y:this._pageXY.y}}});return M});sap.riv.module({qname:'sap.viz.base.utils.DomWatcher',version:'4.0.0'},[{qname:'sap.viz.base.UADetector',version:'4.0.0'},{qname:'sap.viz.base.utils.LinkedHashMap',version:'4.0.0'}],function Setup(U,L){var w=0;var d=1;var n=function(){return w++};var a=function(){return d++};var b=function(e){for(var i in e){if(e.hasOwnProperty(i))return false}return true};var c=function(e,i){var v=null;if(window.getComputedStyle){v=window.getComputedStyle(e,null)[i]}else if(e.currentStyle){v=e.currentStyle[i]}return v};var f=function(e,v){if(!this._data)this._data={};if(arguments.length===2){this._data[e]=v}else return this._data[e]};var g=new L();var h=function(e){var i;var l=e.srcElement||e.target;var d=f.call(l,'domId');if(!d)return;var q=g.get(d).getIterator();while(q.hasMore()){i=q.nextValue();i.checkChange()}};var j=function(i){var e=t.get(i);var l=e.domElem;var d=f.call(l,'domId');if(!d){d=a();f.call(l,'domId',d);g.add(d,new L())}g.get(d).add(e.id,e);if(!f.call(l,'eventHandler')){if(typeof(l.onpropertychange)=="object"){l.attachEvent("onpropertychange",h)}else if(U.isFirefox()&&parseFloat(U.version())>3.6){l.addEventListener("DOMAttrModified",h)}f.call(l,'eventHandler',h)}};var r=function(e){var i=e.domElem;var d=f.call(i,'domId');if(!d)return;if(g.get(d).has(e.id))g.get(d).remove(e.id);if(g.get(d).isEmpty()){var h=f.call(i,'eventHandler');if(typeof(i.onpropertychange)=="object"){i.detachEvent("onpropertychange",h)}else if(U.isFirefox()&&parseFloat(U.version())>3.6){i.removeEventListener("DOMAttrModified",h)}f.call(i,'eventHandler',null)}};var s=undefined;var t=new L();var k=function(){var e=t.getIterator();var i;while(e.hasMore()){i=e.nextValue();i.checkChange()}};var m=function(e){if(!s)s=setInterval(k,100);if(!t.has(e.id))t.add(e.id,e)};var o=function(i){if(t.has(i)){t.remove(i)}if(t.isEmpty()){clearInterval(s);s=undefined}};var p=function(e){var i=e.domElem;if(typeof(i.onpropertychange)=="object"||(U.isFirefox()&&parseFloat(U.version())>3.6)){j(e.id)}else{m(e)}};var _=function(e){var q=t.get(e);if(!q)return;var u=q.domElem;if(!q.callback)return;var v=false;var i=0;var x=[];for(var l=q.cssProps.length;i<l;i++){var y=c(u,q.cssProps[i]);if(q.lastestVals[i]!=y){q.lastestVals[i]=y;v=true;x.push(q.cssProps[i])}}if(v)q.callback(x)};var D={watch:function(e,l,q){var u=n();var v=function(){_(u)};var x={id:u,domElem:e,cssProps:l.split(","),lastestVals:[l.split(",").length],callback:q,checkChange:v};for(var i=0,y=x.cssProps.length;i<y;i++){x.lastestVals[i]=c(e,x.cssProps[i])}if(!t.has(x.id))t.add(x.id,x);p(x);return u},unwatch:function(i){var l=t.get(i);var q=l.domElem;try{if(typeof(q.onpropertychange)=="object"||(U.isFirefox()&&parseFloat(U.version())>3.6)){r(l)}else o(l.id)}catch(e){}}};return(D)});sap.riv.module({qname:'sap.viz.mvc.GestureDetector',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var a={Possible:0,Began:1,Changed:2,Recognized:3,Ended:3,Cancelled:4,Failed:5};var G=function(){this._grOwnerComp;this._grEnabled=true;this._grTouchTotal=0;this._grTouchTracker={};this._grState=a.Possible;this._grActions=[];this._grCancelTouches=true};var g=G.prototype;g._setOwnerComp_=function(o){this._grOwnerComp=o};g.attachedComponent=function(){return this._grOwnerComp};g.addGestureAction=function(b){var c=false;for(var i=0,l=this._grActions.length;i<l;i++){if(this._grActions[i]===b){c=true;break}}if(!c){this._grActions.push(b)}return!c};g.removeGestureAction=function(b){var f=false;for(var i=0,l=this._grActions.length;i<l;i++){if(this._grActions[i]===b){f=true;this._grActions.splice(i,1);break}}return f};g.globalLocOfGesture=function(){var s=this.state();if(this._grEnabled&&(s===a.Began||s===a.Changed||s===a.Cancelled||s===a.Ended||s===a.Recognized)){var c=0;var t=this._grTouchTracker,b;var x=y=0;for(var d in t){b=t[d].globalXY;x+=b.x;y+=b.y;c++}if(c){return{x:x/c,y:y/c}}}else{return}};g.involvedTouchePoints=function(){var r=[];var s=this.state();if(this._grEnabled&&(s===a.Began||s===a.Cancelled||s===a.Ended||s===a.Recognized)){var t=this._grTouchTracker;for(var b in t){r.push(b)}}return r};g.globalLocOfTouchPoints=function(){var c=0;var t=this._grTouchTracker,b;var x=y=0;for(var d in t){b=t[d].globalXY;x+=b.x;y+=b.y;c++}if(c){return{x:x/c,y:y/c}}};g.totalTouches=function(){return this._grTouchTotal};g.cancelTouches=function(c){if(c!==undefined){this._grCancelTouches=c;return this}else{return this._grCancelTouches}};g.enable=function(e){if(e!==undefined){this._grEnabled=e;if(!e){if(this._grState===a.Began||this._grState===a.Cancelled){this.state(a.Cancelled)}else{this.state(a.Failed)}}}else{return this._grEnabled}};g.touchBegin=function(b){var n=b.changedTouches;var c=this._grTouchTracker;var o=this._grOwnerComp;var p=o.pagePosition();for(var i=0,t,l=n.length;i<l;i++){t=n.item(i);c[t.identifier]={globalXY:o.convertPointToGlobal({x:t.pageX-p.x,y:t.pageY-p.y})};this._grTouchTotal++}if(this._grEnabled&&(this._grState===a.Possible||this._grState===a.Began||this._grState===a.Changed)){this.doTouchBegin(b)}};g.touchMove=function(b){if(this._grEnabled&&(this._grState===a.Possible||this._grState===a.Began||this._grState===a.Changed)){var m=b.changedTouches;var o=this._grOwnerComp;var p=o.pagePosition();var c=this._grTouchTracker;for(var i=0,t,l=m.length;i<l;i++){t=m.item(i);if(c[t.identifier]){c[t.identifier].globalXY=o.convertPointToGlobal({x:t.pageX-p.x,y:t.pageY-p.y})}}this.doTouchMove(b)}};g.touchEnd=function(b){var e=b.changedTouches;var c=this._grTouchTracker;var o=this._grOwnerComp;var p=o.pagePosition();for(var i=0,t,d,f,l=e.length;i<l;i++){t=e.item(i);d=t.identifier;f=c[d];if(f){f.globalXY=o.convertPointToGlobal({x:t.pageX-p.x,y:t.pageY-p.y});this._grTouchTotal--}}if(this._grEnabled&&(this._grState===a.Possible||this._grState===a.Began||this._grState===a.Changed)){this.doTouchEnd(b)}if(!this._grTouchTotal&&(this._grState===a.Recognized||this._grState===a.Failed||this._grState===a.Cancelled)){this.reset()}};g.touchCancel=function(b){var c=b.changedTouches;var d=this._grTouchTracker;var o=this._grOwnerComp;var p=o.pagePosition();for(var i=0,t,e,f,l=c.length;i<l;i++){t=c.item(i);e=t.identifier;f=d[e];if(f){f.globalXY=o.convertPointToGlobal({x:t.pageX-p.x,y:t.pageY-p.y});this._grTouchTotal--}}if(this._grEnabled&&(this._grState===a.Possible||this._grState===a.Began||this._grState===a.Changed)){this.doTouchCancel(b)}if(!this._grTouchTotal&&(this._grState===a.Recognized||this._grState===a.Failed||this._grState===a.Cancelled)){this.reset()}};g.doTouchBegin=F.noop;g.doTouchMove=F.noop;g.doTouchEnd=F.noop;g.doTouchCancel=F.noop;g.reset=function(){this._grState=a.Possible;this._grTouchTracker={}};g.state=function(t){return this._grState};g._setState_=function(t){switch(t){case a.Possible:break;case a.Began:this._grState=a.Began;for(var i=0,b=this._grActions,l=b.length;i<l;i++){b[i](this)}break;case a.Changed:if(this._grState===a.Began){this._grState=a.Changed}for(var i=0,b=this._grActions,l=b.length;i<l;i++){b[i](this)}break;case a.Cancelled:this._grState=a.Cancelled;for(var i=0,b=this._grActions,l=b.length;i<l;i++){b[i](this)}break;case a.Failed:this._grState=a.Failed;break;case a.Ended:case a.Recognized:this._grState=t;for(var i=0,b=this._grActions,l=b.length;i<l;i++){b[i](this)}break}};G.TransitionState=a;return G});sap.riv.module({qname:'sap.viz.mvc.VizFrame',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.mvc.UIComponent',version:'4.0.0'},{qname:'sap.viz.mvc.GestureDetector',version:'4.0.0'},{qname:'sap.viz.base.utils.DomWatcher',version:'4.0.0'},{qname:'sap.viz.mvc.Event',version:'4.0.0'},{qname:'sap.viz.mvc.MouseEvent',version:'4.0.0'},{qname:'sap.viz.mvc.TouchEvent',version:'4.0.0'},{qname:'sap.viz.base.Math',version:'4.0.0'}],function Setup(F,O,U,G,D,E,M,T,a){var $=jQuery;if(!$){FuncUtils.error('Cannot find jQuery')}var b=function(n){var c=undefined;do{if(n.nodeName=='BODY'){c=n;break}else{n=n.parentNode}}while(n);return c};var s=function(v){var h=v._holder;if(h.css('position')=="static"||h.css('position')=="fix"){var p=h.position();v.frame({x:p.left,y:p.top,width:h.width(),height:h.height()})}else{v.frame({x:0,y:0,width:h.width(),height:h.height()})}};var f=function(c){for(var i=0,l=c.length;i<l;i++){if(c[i]==="position"){s(this);break}}};var g=function(e){var d=$(e.target);while(!d.data('selfComp')){if(!d.length)break;d=d.parent()}return d.data('selfComp')};var t=G.TransitionState;var V=O.derive(U,{constructor:function(o){if(o.container){this._holder=$(o.container);if(!b(this._holder.get(0))){F.error('The holder DIV must be a child of Body element.')}if(this._holder.css('display')==='none'){this.markHide()}this.clipToBound(false);this._regDOMEventHandlers();this._holder.append(this._container);this.anchorPoint({x:0,y:0});s(this);D.watch(this._holder.get(0),"position",O.proxy(f,this));this._parentVisible=true;this._attached=true;this._msTracking=[];this._touchSeqTracking={}}else{throw new Error('you have to provide a container for viz frame')}},_regDOMEventHandlers:function(){this._container.bind('click',O.proxy(this._handleDomEvent,this));this._container.bind('dblclick',O.proxy(this._handleDomEvent,this));this._container.bind('focusin',O.proxy(this._handleDomEvent,this));this._container.bind('focusout',O.proxy(this._handleDomEvent,this));this._container.bind('focus',O.proxy(this._handleDomEvent,this));this._container.bind('blur',O.proxy(this._handleDomEvent,this));this._container.bind('mousedown',O.proxy(this._handleDomEvent,this));this._container.bind('mouseup',O.proxy(this._handleDomEvent,this));this._container.bind('mouseenter',O.proxy(this._handleDomEvent,this));this._container.bind('mouseleave',O.proxy(this._handleDomEvent,this));this._container.bind('mousemove',O.proxy(this._handleDomEvent,this));this._container.bind('DOMNodeInsertedIntoDocument',O.proxy(this._registerDOMTouchHandler,this));this._container.bind('DOMNodeRemovedFromDocument',O.proxy(this._unregisterDOMTouchHandler,this))},_registerDOMTouchHandler:function(){this._container.bind('touchstart',O.proxy(this._handleDomEvent,this));this._container.bind('touchmove',O.proxy(this._handleDomEvent,this));this._container.bind('touchend',O.proxy(this._handleDomEvent,this));this._container.bind('touchcancel',O.proxy(this._handleDomEvent,this))},_unregisterDOMTouchHandler:function(){this._container.unbind('touchstart');this._container.unbind('touchmove');this._container.unbind('touchend');this._container.unbind('touchcancel')},_handleDomEvent:function(e){e.preventDefault();var h=g(e);switch(e.type){case'mousemove':if(h){var c=h.pagePosition();var l={x:e.pageX-c.x,y:e.pageY-c.y};if(this._msTracking.length){if(this._msTracking[this._msTracking.length-1]!==h){var d=[];var j=h;while(j){d.push(j);j=j.superComponent()}var k=0,m=false,n=a.min(this._msTracking.length,d.length);while(true){var o=undefined;if(!m&&this._msTracking[k]===d[d.length-1-k]){k++;m=k===n}else{while(this._msTracking.length>k){o=this._msTracking.pop();var p=new M('mouseleave',o,false,o.convertPointFromComp(l,h),{x:e.pageX,y:e.pageY});p._setRelatedTarget_(h);o._fireMouseEvent_(p)}while(k<d.length){var j=d.shift();o=this._msTracking[d.length-1];this._msTracking[d.length]=j;var p=new M('mouseenter',j,false,j.convertPointFromComp(l,h),{x:e.pageX,y:e.pageY});p._setRelatedTarget_(o);j._fireMouseEvent_(p)}break}}}}else{var j=h;do{this._msTracking.push(j);j._fireMouseEvent_(new M('mouseenter',j,false,l,{x:e.pageX,y:e.pageY}));j=j.superComponent()}while(j);this._msTracking.reverse()}h._fireMouseEvent_(new M('mousemove',h,true,l,{x:e.pageX,y:e.pageY}))}else{while(this._msTracking.length){var o=this._msTracking.pop();var q=this.pagePosition();o._fireMouseEvent_(new M('mouseleave',o,false,{x:e.pageX-q.x,y:e.pageY-q.y},{x:e.pageX,y:e.pageY}))}}break;case'mouseleave':while(this._msTracking.length){var o=this._msTracking.pop();var r=o.pagePosition();o._fireMouseEvent_(new M('mouseleave',o,false,{x:e.pageX-r.x,y:e.pageY-r.y},{x:e.pageX,y:e.pageY}))}break;case'mouseup':if(h){var c=h.pagePosition();h._fireMouseEvent_(new M('mouseup',h,true,{x:e.pageX-c.x,y:e.pageY-c.y},{x:e.pageX,y:e.pageY}))}break;case'mousedown':if(h){var c=h.pagePosition();h._fireMouseEvent_(new M('mousedown',h,true,{x:e.pageX-c.x,y:e.pageY-c.y},{x:e.pageX,y:e.pageY}))}break;case'dblclick':if(h){if(this._focusedComp){if(this._focusedComp.id()!==h.id()){this._focusedComp._fireEvent_(new E('blur',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusout',this._focusedLayer,true));this._focusedComp=h;this._focusedComp._fireEvent_(new E('focus',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusin',this._focusedComp,true))}}else{this._focusedComp=h;this._focusedComp._fireEvent_(new E('focus',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusin',this._focusedComp,true))}var c=h.pagePosition();this._focusedComp._fireMouseEvent_(new M('dblclick',this._focusedComp,true,{x:e.pageX-c.x,y:e.pageY-c.y},{x:e.pageX,y:e.pageY}))}else{if(this._focusedComp){this._focusedComp._fireEvent_(new E('blur',this._focusedLayer,false));this._focusedComp._fireEvent_(new E('focusout',this._focusedLayer,true));this._focusedComp=undefined}}break;case'click':if(h){if(this._focusedComp){if(this._focusedComp.id()!==h.id()){this._focusedComp._fireEvent_(new E('blur',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusout',this._focusedComp,true));this._focusedComp=h;this._focusedComp._fireEvent_(new E('focus',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusin',this._focusedComp,true))}}else{this._focusedComp=h;this._focusedComp._fireEvent_(new E('focus',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusin',this._focusedComp,true))}var c=h.pagePosition();this._focusedComp._fireMouseEvent_(new M('click',this._focusedComp,true,{x:e.pageX-c.x,y:e.pageY-c.y},{x:e.pageX,y:e.pageY}))}else{if(this._focusedComp){this._focusedComp._fireEvent_(new E('blur',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusout',this._focusedComp,true));this._focusedComp=undefined}}break;case'touchstart':for(var i=0,u,v=e.originalEvent.changedTouches,w=v.length;i<w;i++){u=v.item(i);this._touchSeqTracking[u.identifier]=false}this._handleGestureDetect(h,e.originalEvent);var x=T.buildFromDomTouchEvent('touchstart',h,e.originalEvent);h._fireTouchEvent_(x);break;case'touchmove':if(!this._handleGestureDetect(h,e.originalEvent)){var x=T.buildFromDomTouchEvent('touchmove',h,e.originalEvent);h._fireTouchEvent_(x)}break;case'touchend':this._handleGestureDetect(h,e.originalEvent);var y=[],z=[],A=[],B=[];for(var i=0,u,v=e.originalEvent.changedTouches,w=v.length;i<w;i++){u=v.item(i);this._touchSeqTracking[u.identifier]===true?z.push(u):y.push(u);delete this._touchSeqTracking[u.identifier]}if(y.length){for(var i=0,u,C=e.originalEvent.targetTouches,w=C.length;i<w;i++){u=C.item(i);B.push(u)}for(var i=0,u,H=e.originalEvent.touches,w=H.length;i<w;i++){u=H.item(i);A.push(u)}var I=T.buildFrom3TouchArray('touchcancel',h,A,z,B);h._fireTouchEvent_(I);var J=T.buildFrom3TouchArray('touchend',h,A,y,B);h._fireTouchEvent_(J)}else{var x=T.buildFromDomTouchEvent('touchcancel',h,e.originalEvent);h._fireTouchEvent_(x)}break;case'touchcancel':this._handleGestureDetect(h,e.originalEvent);for(var i=0,u,v=e.originalEvent.changedTouches,w=v.length;i<w;i++){u=v.item(i);delete this._touchSeqTracking[u.identifier]}var x=T.buildFromDomTouchEvent('touchcancel',h,e.originalEvent);h._fireTouchEvent_(x);break}},_handleGestureDetect:function(h,o){var c=[];var d=h;while(!d._gestureDetectors.length&&d._superComp){d=d._superComp}c=d._gestureDetectors;var e=false,j,n=false;for(var i=0,k,l,m=c.length;i<m;i++){l=c[i];switch(o.type){case'touchstart':l.touchBegin(o);break;case'touchmove':l.touchMove(o);break;case'touchend':l.touchEnd(o);break;case'touchcancel':l.touchCancel(o);break}k=l.state();j=(k===t.Began)||(k===t.Changed)||(k===t.Recognized);e=e||j;n=n||(j&&l.cancelTouches())}if(n){for(var i=0,p,q=o.changedTouches,m=q.length;i<m;i++){p=q.item(i);this._touchSeqTracking[p.identifier]=true}}return e},hidden:function(h){h?this._holder.hide():this._holder.show();if(h){this.markHide()}else{this.markShow()}}});return V});sap.riv.module({qname:'sap.viz.mvc.ImageManager',version:'4.0.0'},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.LinkedHashMap',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(O,L,F){var a=function(h){this._imgEl=h};a.prototype.getBitmap=function(){return this._imgEl};a.prototype.width=function(w){if(w!==undefined){this._imgEl.width=w;return this}return this._imgEl.width};a.prototype.height=function(h){if(h!==undefined){this._imgEl.height=h;return this}return this._imgEl.height};a.prototype.intrinsicHeight=function(){return this._imgEl.naturalHeight};a.prototype.intrinsicWidth=function(){return this._imgEl.naturalWidth};a.prototype.url=function(){return this._imgEl.src};var _=new L();var b=new L();var c={};var I={loadImage:function(i,u,o){if(i&&u){o=o||F.noop;if(b.has(i)){if(_.get(b.get(u))){o(true)}}var d=new Image();d.onabort=d.onerror=function(){o(false,{id:i,url:u})};d.onload=O.proxy(function(){var s=d.src;if(!_.has(s)){var e=new a(d);b.add(i,s);c[s]={ids:{id:i},length:1};_.add(s,e)}else{b.add(i,d.src);c[s].ids[i]=i;c[s].length++}o(true,{id:i,url:u})},this);d.src=u}},loadImages:function(u,o,d){o=o||F.noop;d=d||F.noop;var t=u.length;if(t==0){d(true)}else{var e=0;var f=function(g,h){e++;if(e<t){o(e/t,g,h)}else{d(true,h)}};for(var i=0,l=u.length;i<l;i++){I.loadImage(u[i].id,u[i].url,f)}}},hasImage:function(i){return b.has(i)},getImage:function(i){if(b.has(i)){return _.get(b.get(i))}},disposeImage:function(i){if(b.has(i)){var s=b.remove(i);delete c[s].ids[i];c[s].length--;if(c[s].length===0){delete c[s];_.remove(s)}}}};return I});sap.riv.module({qname:'sap.viz.mvc.VizApplication',version:'4.0.0'},[{qname:'sap.viz.base.Observable',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.mvc.ImageManager',version:'4.0.0'},{qname:'sap.viz.mvc.VizFrame',version:'4.0.0'},{qname:'sap.viz.mvc.UIComponent',version:'4.0.0'},{qname:'sap.viz.base.Logger',version:'4.0.0'}],function Setup(O,F,a,I,V,U,L){var b=0;function n(){return b++}var A=U.Autosizing;var $=jQuery;if(!$){F.error('Cannot find jQuery')}var c=function(o){var _=n();this._id=o.id?o.id+'_'+_:_;L.debug("Chart Application["+this._id+"] initializing.","perf");if(!o.delegateClass){F.error('You have to specify a delegate for visualization custom behavior.')}if(!o.wrapperDivEl){F.error('You have to specify a div element for holding the visualization.')}this._vizFrame=new V({container:o.wrapperDivEl});this._delegate=new o.delegateClass();var e=this._delegate.getPreloadAssets();I.loadImages(e,undefined,a.proxy(function(){this._delegate._afterLaunched(this,o.launchOption)},this));var f=this._vizFrame.subComponents().getIterator();while(f.hasMore()){L.debug("application["+this._id+"]"+"component["+f.nextValue().id()+"] initialized.","perf")}this._eventBridge=new O();this._addEvents(this._delegate.getSupportedEvents())};var d=c.prototype;d.id=function(){return this._id};d.size=function(s){if(s!==undefined){this._vizFrame.size(s);return this}else{return this._vizFrame.size()}};d.hidden=function(h){if(h!==undefined){if(this._vizFrame.hidden()!==h){this._vizFrame.hidden(h)}return this}else{return this._vizFrame.hidden()}};d.getSupportedEvent=function(){return this._eventBridge.getSupportedEvents()};d.addListener=function(e,l){this._eventBridge.addListeners({eventName:e,listener:l})};d.removeListener=function(e,l){this._eventBridge.removeListener(e,l)};d._addEvents=function(e){for(var i=0,l=e.length;i<l;i++){this._eventBridge.addEvents(e[i])}};d._fireEvent=function(){this._eventBridge.fireEvent.apply(this._eventBridge,arguments)};d.getPublicMethods=function(){return this._delegate.getSupportedMethods()};d.invokePublicMethod=function(p,o){return this._delegate._invokePublicMethod(p,o)};d.applyTheme=function(t){this._delegate._applyTheme(t)};d.properties=function(p){if(p!==undefined){this._delegate.updateProperties(p)}return this._delegate.getProperties()};d.setDataset=function(e){if(e){this._delegate.setDataset(e)}};d.getDataset=function(){return this._delegate.getDataset()};d._setRootController=function(r){if(r){var e=r.rootUIComponent();e.frame(this._vizFrame.bounds());e.autoresizingMask(A.FlexibleWidth|A.FlexibleHeight);this._vizFrame.addSubComponent(e)}};return c});sap.riv.module({qname:'sap.viz.mvc.D3BasedComponent',version:'4.0.0'},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.mvc.UIComponent',version:'4.0.0'}],function Setup(O,F,U){if(!d3){F.error('D3 cannot be found')}var i=function(){var w=this.width();var h=this.height();this._d3Root=d3.select(this._container[0]).append('svg').attr('width',w).attr('height',h)};var D=O.derive(U,{constructor:function(o){i.call(this)},doContentResize:function(o,n){if(o.width!==n.width){this._d3Root.attr('width',n.width)}if(o.height!==n.height){this._d3Root.attr('height',n.height)}},getD3Root:function(){return this._d3Root}});return D});sap.riv.module({qname:'sap.viz.mvc.UIController',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.mvc.UIComponent',version:'4.0.0'}],function Setup(F,U){var c=function(o){this._defaultWidth=5;this._defaultHeight=5;this._app;this._uiComp};var a=c.prototype;a.rootUIComponent=function(){if(!this._uiComp){this._uiComp=this.initUIComponent(this._defaultWidth,this._defaultHeight);this._uiComp.on({eventName:'beforeShow',listener:this._handleBeforeShow,scope:this});this._uiComp.on({eventName:'beforeHide',listener:this._handleBeforeHide,scope:this});this._uiComp.on({eventName:'afterShow',listener:this._handleAfterShow,scope:this});this._uiComp.on({eventName:'afterHide',listener:this._handleAfterHide,scope:this});this.afterUIComponentLoaded()}return this._uiComp};a._handleBeforeHide=function(h){this.beforeUIComponentDisappear()};a._handleBeforeShow=function(h){this.beforeUIComponentAppear()};a._handleAfterHide=function(h){this.afterUIComponentDisappear()};a._handleAfterShow=function(h){this.afterUIComponentAppear()};a._setApplication_=function(b){this._app=b};a.getApplication=function(){return this._app};a.fireAppEvent=function(e,b){this._app._fireEvent(e,b)};a.initUIComponent=function(i,b){return new U({size:{w:i,h:b}})};a.afterUIComponentLoaded=F.noop;a.beforeUIComponentAppear=F.noop;a.afterUIComponentAppear=F.noop;a.beforeUIComponentDisappear=F.noop;a.afterUIComponentDisappear=F.noop;a.doThemeApplied=F.noop;a.doThemeUpdated=F.noop;a.doThemeChanged=F.noop;return c});sap.riv.module({qname:'sap.viz.core',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.mvc.UIController',version:'4.0.0'},{qname:'sap.viz.mvc.D3BasedComponent',version:'4.0.0'},{qname:'sap.viz.mvc.VizApplication',version:'4.0.0'},{qname:'sap.viz.mvc.VizAppDelegate',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.modules.layout',version:'4.0.0'},{qname:'sap.viz.load',version:'4.0.0'},{qname:'sap.viz.modules.xycontainer',version:'4.0.0'},{qname:'sap.viz.data.feed.feeder',version:'4.0.0'},{qname:'sap.viz.data.handler.BaseDataHandler',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.util.EffectManager',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.config',version:'4.0.0'},{qname:'sap.viz.StyleManager',version:'4.0.0'},{qname:'sap.viz.util.parseCSS',version:'4.0.0'},{qname:'sap.viz.TemplateManager',version:'4.0.0'}],function Setup(T,O,a,F,U,D,V,b,c,l,d,e,f,B,M,E,g,C,S,h,o){function q(j){var k={};for(var i in j){if(j.hasOwnProperty(i)){if(j[i].supportedValueType==="Object"){k[i]=q(j[i].supportedValues)}else{k[i]=j[i].defaultValue}}}return k}function r(j,k){var m=a.extend(true,{},j);for(var i in j){if(j.hasOwnProperty(i)){if(typeof k==='object'&&k.hasOwnProperty(i)){if(j[i]!==null&&typeof j[i]==='object'&&!(j[i]instanceof Array)){m[i]=r(j[i],k[i])}else{if((k[i]!==undefined&&k[i]instanceof Array&&j[i]instanceof Array)||(k[i]!==undefined&&typeof k[i]!=='object')){m[i]=k[i]}}}}}return m}function s(m,k){var n=c.viz.get(k).allProperties();var p={};var t;var z={};var i,j;for(i in m){if(m.hasOwnProperty(i)){if(m[i].properties&&!T.isEmptyObject(m[i].properties())){if(i.indexOf('[')>-1){if(parseInt(i[i.indexOf('[')+1],10)>0){continue}else{t=i.substring(0,i.indexOf('['))+i.substring(i.indexOf(']')+1)}}else{t=i}for(j in n){if(n.hasOwnProperty(j)){if(n[j].moduleRefPath===t){z=q(n[j]);p[j]=r(z,m[i].properties())}}}}}}return p}function u(m){return c.module.get(m).execute()}function v(m,i){var j;if(m){var k=m.data;if(k){j=i.createDataAdapterForModule(k)}}return j}var w=O.derive(D,{constructor:function(i){this._config=i.config;this._data=i.data;this._inputProperties=i.options;this._properties={};if(this._data.emptyDataset()===true){return}this._canvas_rootThreshold=d3.select(document.createElement('div')),this._canvas_rootThreshold.append('svg');this._canvas_root=d3.select(document.createElement('canvas')).style('width',0).style('height',0);this._container.prepend(this._canvas_root.node());var m=C.get(this._config.id)?C.get(this._config.id):{};this._max_svg=C.enableCanvg()&&m.max_svg?m.max_svg:Number.POSITIVE_INFINITY;if(this._data.dataPointCount()>this._max_svg){this._root=this._canvas_rootThreshold.select('svg');this._compoennt_status='canvg'}else{this._root=this.getD3Root();this._compoennt_status='svg'}this._modules={};this._subModuleNames=[];this._subControllers=[];this._effectManager=null;this._styleManager=new S();this._initialize(i.style);this._propertiesIsNewest=false;this._outputProperties={};this._langManagerListener={fn:this._localeChanged,scope:this};this._dispatch=d3.dispatch('dataTruncation');g.addListener(this._langManagerListener);this._attachEvents(i)},_attachEvents:function(i){var j=i.events;for(var k in j){if(j.hasOwnProperty){this.attachEvent(k,j[k].fn,j[k].scope)}}},attachEvent:function(j,k,n){var p=this.modules(),z={};var G=this._dispatch;var i=j.indexOf(".");var H=i>0?j.substring(0,i):j;if(G[H]){G.on(H,function(){k.apply(n,arguments)})}for(var m in p){if(p.hasOwnProperty(m)){var I=m.split('.'),J=I.length-1;if(p[m].dispatch&&p[m].dispatch()[H]){for(var t=0;t<=J;t++){if(z[t]&&z[t][I.slice(0,t).toString()]){break}}if(t>J){if(!z[I.length]){z[I.length]={}}z[I.length][I.toString()]=p[m];p[m].dispatch().on(j,function(){k.apply(n,arguments)})}}}}},_updateSubModules:function(p){for(var i=0,j=this._subModuleNames.length;i<j;i++){delete this._modules[this._subModuleNames[i]]}this._subModuleNames.length=0;if(p.modules){var k=p.modules();var n;for(var m in k){if(k.hasOwnProperty(m)){n='main.'+m;this._subModuleNames.push(n);this._modules[n]=k[m]}}}},_updateSubControllers:function(p){for(var i=0,j=this._subControllers.length;i<j;i++){this._modules[this._subControllers[i]].module(p)}},_resolveProperties:function(n,i){var p={},j,k,m;if(i){if(n){j=n.propertyCategory;k=this._properties;m={};m[j]=n.properties;a.extend(true,p,m,k)}else{p=this._properties}}else{if(n){j=n.propertyCategory;k=this._properties[j];m=n.properties;a.extend(true,p,m,k)}}return p},_updateProperties:function(i,j){var m=this._config.modules;var p,n,k;if(m[i]&&this._modules[i]){n=m[i].configure;if(j){p=this._properties}else{if(n){k=n.propertyCategory;p=a.extend(true,{},this._properties[k])}else{p={}}}this._modules[i].properties(p)}},_updateControllerProperties:function(i){var j=this._config.modules.main.controllers;if(j===undefined){return}var p,n;var k='main.'+i;if(j[i]&&this._modules[k]){n=j[i].configure;p=this._resolveProperties(n);this._modules[k].properties(p)}},_initialize:function(i){this._mergeInputProperties();this._effectManager=new E(this._root.append("svg:defs"),this._data.fakeData());var j={effectManager:this._effectManager,styleManager:this._styleManager};this._styleManager.update(i);function u(R){return c.module.get(R).execute(j)}var m=this._config.modules;var p,n,k;var t,z={};if(m.legend){z=v(m.legend,this._data);t=u(m.legend.id);k=m.legend.configure;p=this._resolveProperties(k);this._modules.legend=t.data(z).properties(p);this._root.append('g').attr('class','legend')}if(m.sizeLegend){z=v(m.sizeLegend,this._data);t=u(m.sizeLegend.id);k=m.sizeLegend.configure;p=this._resolveProperties(k);this._modules.sizeLegend=t.data(z).properties(p);this._root.append('g').attr('class','sizeLegend')}if(m.title){var G=u(m.title.id);k=m.title.configure;p=this._resolveProperties(k);this._modules.title=G.properties(p);this._root.append('g').attr('class','title')}if(m.main){var e=u(m.main.id);k=m.main.configure;p=this._resolveProperties(k,true);this._modules.main=e.data(this._data).config(m.main).properties(p);if(this._modules.main.dispatch&&this._modules.main.dispatch()['initialized']){var _=this;this._modules.main.dispatch().on('initialized.sap.core',function(){_._exportToCanvas.apply(_)})}this._root.append('g').attr('class','main');var H=this._modules.main.parent(this._root.select('.main'));this._updateSubModules(H);n=m.main.controllers;if(n){for(var I in n){if(n.hasOwnProperty(I)){var J=u(n[I].id);var K=n[I].configure;var L,N,P;J().module(this._modules['main']);p={};L=K.propertyCategory;N=this._properties[L];P=K.properties;a.extend(true,p,P,N);J.properties(p);this._subControllers.push('main.'+I);this._modules['main.'+I]=J}}}}if(m.tooltip){var Q=u(m.tooltip.id);k=m.tooltip.configure;p=this._resolveProperties(k);this._modules.tooltip=Q(this._container[0]).properties(p)}},_doLayout:function(n,i){var j=8,p=20;if(n.width<p*10){p=n.width/10}if(n.height<p*10){p=n.height/10}var k={};if(this._modules.title){k.north={size:this._modules.title.getPreferredSize()}}var m={width:0,height:0,minWidth:0,maxSizeConstant:1},t={width:0,height:0,titleSize:{width:0,height:0}},z={width:0,height:0,titleSize:{width:0,height:0}};if(this._modules.legend){z=this._modules.legend.getPreferredSize(n);m.width=Math.max(m.width,z.width);m.height=Math.max(m.height,z.height);m.minWidth=Math.max(m.minWidth,z.minWidth);m.minHeight=z.minHeight;m.maxSizeConstant=Math.min(m.maxSizeConstant,z.maxSizeConstant)}k.east={size:m};if(this._modules.main){k.center={}}function G(){return l({type:'border',hgap:8,vgap:j,bias:'north',size:{width:n.width,height:n.height},padding:[p,p,p,p],prefs:k})}var H=G();if(i&&this._modules.sizeLegend&&this._modules.sizeLegend.isVisible()){if(H.center){this._modules.main.width(H.center.bounds.width).height(H.center.bounds.height);t=this._modules.sizeLegend.getPreferredSize(n,j+2*p,this._modules.main.infoForSizeLegend());var I=Math.max(t.width,z.width);m.width=I<n.width*1/3?I:n.width*1/3;m.height=t.height;m.minWidth=t.minWidth;m.minHeight=t.minHeight;H=G()}}if(H.north){this._root.select('.title').attr('visibility','visible').attr('transform','translate('+H.north.bounds.x+', '+H.north.bounds.y+')');this._modules.title.width(H.north.bounds.width).height(H.north.bounds.height)}else{this._root.select('.title').attr('visibility','hidden')}if(H.east){var J=H.east.bounds.height;var K=H.east.bounds.y;var L=0;var N=true;if(t.height+8+z.height>H.east.bounds.height){N=t.titleSize.height<t.height*1/3&&t.titleSize.height<H.east.bounds.height*1/3}if(this._modules.sizeLegend){this._modules.sizeLegend.hide(false);this._root.select('.sizeLegend').attr('transform','translate('+H.east.bounds.x+', '+K+')');L=t.height;if(!N){this._modules.sizeLegend.hideTitle();L-=t.titleSize.height}this._modules.sizeLegend.width(H.east.bounds.width).height(L);K=K+L+8}var P=true;if((L>0?L+8:0)+z.height>H.east.bounds.height){P=z.titleSize.height<(J-t.height)*0.3}if(this._modules.legend){this._modules.legend.hide(false);this._root.select('.legend').attr('transform','translate('+H.east.bounds.x+', '+K+')');if(!P){this._modules.legend.hideTitle()}this._modules.legend.width(H.east.bounds.width).height(J-t.height)}}else{if(this._modules.legend){this._modules.legend.hide(true)}if(this._modules.sizeLegend){this._modules.sizeLegend.hide(true)}}if(H.center){this._root.select('.main').attr('transform','translate('+H.center.bounds.x+', '+H.center.bounds.y+')');this._modules.main.width(H.center.bounds.width,(i===undefined)?true:undefined).height(H.center.bounds.height,(i===undefined)?true:undefined);if(this._modules.tooltip){this._modules.tooltip.plotArea(H.center.bounds).zone(n)}}},_updateAllProperties:function(){this._mergeInputProperties();this._updateSubModuleProperties()},_updateSubModuleProperties:function(){this._updateProperties('legend');this._updateProperties('title');this._updateProperties('sizeLegend');this._updateProperties('tooltip');this._updateProperties('main',true);this._updateControllerProperties('interaction');this._updateControllerProperties('geoController')},_mergeInputProperties:function(){a.extend(true,this._properties,this._inputProperties);this._mergeCanvgProperties()},_mergeCanvgProperties:function(){if(C.enableCanvg()&&this._data.dataPointCount()>=this._max_svg){var t={};t['plotArea']={animation:{dataLoading:false,dataUpdating:false}};a.extend(true,this._properties,t)}},render:function(){if(this._data.emptyDataset()===true){return}this._relayout(this.size());this._paint()},_localeChanged:function(){var m=this._config.modules;var i=v(m.legend,this._data);if(i){this._modules.legend.data(i)}i=v(m.sizeLegend,this._data);if(i){this._modules.sizeLegend.data(i)}i=v(m.title,this._data);if(i){this._modules.title.data(i)}this._modules.main.data(this._data);this._updateAllProperties();this.render()},properties:function(_){if(!arguments.length){if(!this._propertiesIsNewest){this._outputProperties=s(this._modules,this._config.id);this._propertiesIsNewest=true}return this._outputProperties}this._propertiesIsNewest=false;this._inputProperties=_;this._updateAllProperties()},style:function(_){if(!arguments.length){return this._styleManager.style}this._styleManager.update(h(_))},data:function(_){if(!arguments.length){return this._data}this._data=_;this._effectManager.ghostEffect(this._data.fakeData());this._updateAllProperties();if(C.enableCanvg()&&this._data.dataPointCount()>=this._max_svg&&this._compoennt_status==='svg'){this._root=this._d3Root;$(this._d3Root.node()).remove();this._d3Root=this._canvas_rootThreshold.select('svg');$(this._d3Root.node()).remove();if(this._canvas_rootThreshold.select('svg').node()===null){this._canvas_rootThreshold.node().appendChild(this._root.node())}else{$(this._root.node()).insertBefore(this._canvas_rootThreshold.select('svg').node())}if(d3.select(this._container.get(0)).select('svg').node()===null){this._container.get(0).appendChild(this._d3Root.node())}else{$(this._d3Root.node()).insertBefore(d3.select(this._container.get(0)).select('svg').node())}this._compoennt_status='canvg'}else if(C.enableCanvg()&&this._data.dataPointCount()<this._max_svg&&this._compoennt_status==='canvg'){this._canvas_root.node().getContext('2d').clearRect(0,0,this._canvas_root.node().width,this._canvas_root.node().height);this._canvas_root.style('width',0),this._canvas_root.style('height',0);this._canvas_root.attr('width',0),this._canvas_root.attr('height',0);this._d3Root=d3.select(this._container.get(0)).select('svg');this._root=this._canvas_rootThreshold.select('svg');this._root.remove();$(this._root.node()).insertBefore(this._d3Root.node());this._canvas_rootThreshold.insert("svg","svg").attr('width',this.size().width).attr('height',this.size().height);this._d3Root.remove();this._d3Root=this._root;this._compoennt_status='svg'}var m=this._config.modules;var i=v(m.legend,this._data);if(i){this._modules.legend.data(i)}i=v(m.sizeLegend,this._data);if(i){this._modules.sizeLegend.data(i)}i=v(m.title,this._data);if(i){this._modules.title.data(i)}this._modules.main.data(this._data);this._updateSubModules(this._modules.main);this._updateSubControllers(this._modules.main)},modules:function(){return this._modules},_relayout:function(n){this._doLayout(n);this._loadDependencies();this._doLayout(n,true)},doContentResize:function(i,n){this.callParent('doContentResize',i,n);this.render()},_expandDependencyDefs:function(k){var m=[];var p=k['sourceModule'];var t=k['targetModule'];var z=this._expandModulePath(p);var G=this._expandModulePath(t);if(z.length>1&&G.length>1){if(z.length!==G.length){F.error('Error on resolving dependency:'+p+','+t)}else{for(var i=0,H=z.length;i<H;i++){m.push({'sourceModule':z[i],'targetModule':G[i],'source':k['source'],'target':k['target'],'type':k['type'],'listener':k['listener']})}}}else{for(var n=0,I=z.length;n<I;n++){for(var j=0,J=G.length;j<J;j++){m.push({'sourceModule':z[n],'targetModule':G[j],'source':k['source'],'target':k['target'],'type':k['type'],'listener':k['listener']})}}}return m},_expandModulePath:function(p){var m=p.split('.');var n=[];var t=[];for(var i=0,z=m.length;i<z;i++){var j=0,G=n.length;do{var H=G>0?[n[j],m[i]].join('.'):m[i];if(T.isArray(this._modules[H])){for(var k=0,I=this._modules[H].length;k<I;k++){if(this._modules[H][k]){var J=G>0?[n[j],m[i]+'['+k+']'].join('.'):m[i]+'['+k+']';t.push(J)}}}else{t.push(H)}j++}while(j<G);var K=n;n=[].concat(t);t.length=0;K.length=0}return n},_expandModules:function(){var j=this._modules;var k=[];for(var p in j){if(j.hasOwnProperty(p)){var m=j[p];if(T.isArray(m)){for(var i=0;i<m.length;i++){k[p+'['+i+']']=m[i]}}else{k[p]=m}}}return k},_loadDependencies:function(){var k=this._config.dependencies,m,i;var p=k.attributes||[],t=k.events||[];var z,G;var H=this._expandModules();for(i=0;i<p.length;i++){m=p[i];if(m===null){continue}z=this._expandDependencyDefs(m);for(var j=0,I=z.length;j<I;j++){G=z[j];if(H[G['sourceModule']]&&H[G['targetModule']]){if(typeof H[G['sourceModule']][G['source']]==='function'&&typeof H[G['targetModule']][G['target']]==='function'){H[G['targetModule']][G['target']](H[G['sourceModule']][G['source']]())}else{F.error('dependency configuration error')}}else{F.error('dependency configuration error')}}}for(i=0;i<t.length;i++){m=t[i];z=this._expandDependencyDefs(m);for(var n=0,J=z.length;n<J;n++){G=z[n];if(H[G['targetModule']]&&H[G['sourceModule']]){if(typeof H[G['targetModule']][G['listener']]==='function'&&typeof H[G['sourceModule']]==='function'){if(typeof H[G['sourceModule']].dispatch==='function'){H[G['sourceModule']].dispatch().on(G['type']+'.'+G['targetModule']+'.'+n,H[G['targetModule']][G['listener']])}else{F.error('dependency configuration error:'+G['sourceModule']+' does not support event!')}}else{F.error('dependency configuration error')}}else{F.error('dependency configuration error: source or target does not exist!')}}}},_paint:function(){if(this._modules.title){this._root.select('.title').call(this._modules.title)}if(this._modules.legend){this._root.select('.legend').datum(this._modules.legend.data()).call(this._modules.legend)}if(this._modules.sizeLegend){this._root.select('.sizeLegend').datum(this._modules.sizeLegend.data()).call(this._modules.sizeLegend)}if(this._modules.main){this._root.select('.main').datum(this._modules.main.data()).call(this._modules.main)}},_exportToCanvas:function(){if(C.enableCanvg()&&this._compoennt_status==='canvg'){this._root.attr('height',this.size().height);this._root.attr('width',this.size().width);this._d3Root.attr('height',0);this._d3Root.attr('width',0);this._canvas_rootThreshold.selectAll('title').remove();if(canvg){canvg(this._canvas_root.node(),this._canvas_rootThreshold.html(),{ignoreMouse:true,ignoreAnimation:true});this._dispatch.dataTruncation()}}},getSupportedEvents:function(){var i=[];var j=this._config.modules;function k(j){for(var m in j){if(j.hasOwnProperty(m)){if(!j[m]){continue}var n=c.module.get(j[m].id);if(n&&n.events){i.push({sourceId:j[m].id,source:{},evtTypes:n.events})}if(j[m].modules){k(j[m].modules)}}}}k(j);return i},destroy:function(){g.removeListener(this._langManagerListener);this.removeFromSuperComponent()}});var x=O.derive(U,{constructor:function(i){this._parseOptions(i)},_parseOptions:function(i){if(!c.viz.get(i.vizType)){F.error('Invalid vizType')}this._dataset=i.dataset?i.dataset:{};this._options=i.option;this._vizType=i.vizType;this._dataFeeding=i.feeding;this._style=i.style;this._events=i.events},initUIComponent:function(i,j){var k=c.viz.get(this._vizType);this._cc_component=new w({id:'rootComponent',data:this._dataset,dataFeeding:this._dataFeeding,config:k,options:this._options,clipToBound:true,size:{w:i,h:j},style:this._style,events:this._events});return this._cc_component},getSupportedEvents:function(){return this._cc_component.getSupportedEvents()},setDataset:function(i){this._cc_component.data(i)},doThemeChanged:function(){this._cc_component.themeChanged()},updateProperties:function(p){this._cc_component.properties(p)},getProperties:function(){return this._cc_component.properties()},style:function(){return this._cc_component.style.apply(this._cc_component,arguments)},render:function(){this._cc_component.render()},destroy:function(){this._cc_component.destroy()},afterUIComponentAppear:function(){var p=this._cc_component.properties();var j;if(!p.plotArea||!p.plotArea.animation||!p.plotArea.animation.dataLoading){if(!this._cc_component.modules()){return}var k=this._cc_component.modules()['main.plot'];if(T.isArray(k)){for(var i=0;i<k.length;i++){if(T.isExist(k[i])){j=k[i].modules()['plot'].afterUIComponentAppear;if(T.isExist(j)){j()}}}}else{j=k.afterUIComponentAppear;if(T.isExist(j)){j()}}}}});var A=O.derive(b,{appDidFinishLaunching:function(i,j){this._vc_vizType=j.vizType;this._vc_dataset=j.data.rawData;this._vc_feeding=j.feeding;this._vc_properties=j.options;var k=this._vc_dataset.getDataPointCount();var m=C.get(this._vc_vizType)?C.get(this._vc_vizType):{};this.max_canvas=C.enableCanvg()&&m.max_canvas?m.max_canvas:Number.POSITIVE_INFINITY;var n=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas);this._controller=new x({vizType:this._vc_vizType,dataset:n,option:j.options,style:j.style,events:j.events});this.registerPublicMethod('update',this._vc_update);this.registerPublicMethod('destroy',this._vc_destroy);this.registerPublicMethod('getStyle',this._vc_getStyle)},_vc_createAdapter:function(j,k,m,n){var p=f(c.viz.get(j).allFeeds(true),k,m);var t=new B(p,k,n);var z=p.getFeeds();var G=new M(p.getBindingInfo());G.fakeData(k.hasFakeData());G.emptyDataset(k.isEmptyDataset());G.dataPointCount(k.getDataPointCount());var H,I;for(var i=0,J=z.length;i<J;i++){H=z[i].feedId();I=t.getFeedValues(H);if(I!==null){if(z[i].type()==="Dimension"){G.addAnalysisAxis({values:I,index:z[i].getIndex()-1})}else{G.addMeasureValuesGroup({values:I,index:z[i].getIndex()-1})}}}return G},_vc_getStyle:function(){return this._controller.style()},_vc_update:function(i){if(i){var n=false;if(i.properties){if(this._controller){this._vc_properties=i.properties;this._controller.updateProperties(this._vc_properties);n=true}}if(i.style){this._controller.style(i.style);n=true}if(i.data||i.feeding){if(i.data){this._vc_dataset=i.data}if(i.feeding){this._vc_feeding=i.feeding}var j=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas);this._controller.setDataset(j);n=true}if(n){this._controller.render()}}},rootController:function(){return this._controller},getSupportedEvents:function(){return this._controller.getSupportedEvents()},setDataset:function(i){this._vc_dataset=i;var n=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding);this._controller.setDataset(n)},getDataset:function(){return this._vc_dataset},updateProperties:function(p){if(this._controller){this._vc_properties=p;this._controller.updateProperties(this._vc_properties)}},getProperties:function(){return this._controller.getProperties()},_vc_destroy:function(){this._controller.destroy()}});var y={constructor:function(){},instances:[],createViz:function(i){var _={};var j=i.feeding;var k={constructor:function(){},on:function(n,p,z){_[n]={callback:p,scope:z};k.app.getDelegate().rootController().rootUIComponent().attachEvent(n,p,z);return k},size:function(n){if(!arguments.length){return k.app.size()}k.app.size(n);return k},data:function(n){if(!arguments.length){return k.app.getDataset()}k.update({data:n});for(var p in _){if(_.hasOwnProperty(p)){k.on(p,_[p].callback,_[p].scope)}}return k},properties:function(p){if(!arguments.length){return k.app.properties()}k.update({properties:p});return k},style:function(n){if(!arguments.length){return k.app.invokePublicMethod('getStyle')}k.update({style:n});return k},feeding:function(n){if(!arguments.length){return j}j=n;k.update({feeding:n});return k},update:function(n){if(n){if(T.isDefined(n.feeding)){j=n.feeding}k.app.invokePublicMethod('update',n)}return k},destroy:function(){y.instances.splice(y.instances.indexOf(this),1);k.app.invokePublicMethod('destroy')},toJSON:function(){var n={};n.type=i.type;n.data=k.app.getDataset();n.properties=k.app.properties();n.style=k.app.invokePublicMethod('getStyle');n.feeding=j;n.size=k.app.size();return n}};var t=o.current();var m=i.type;k.app=new V({wrapperDivEl:i.container,delegateClass:A,launchOption:{vizType:m,options:a.extend(true,null,t.props(m),i.options),style:a.extend(true,null,t.css,h(i.style)),data:{rawData:i.data},feeding:i.feeding||i.dataFeeding,events:i.events}});Object.defineProperty(k,"type",{value:m,enumerable:true});k.app.getDelegate=function(){return this._delegate};y.instances.push(k);return k},destroyViz:function(){for(var i=-1,j=arguments.length;++i<j;){arguments[i].destroy()}},loadViz:function(i,e){var j={};j.container=e;j.type=i.type;j.options=i.properties;j.data=i.data;j.style=i.style;j.feeding=i.feeding;this.createViz(j)},exportViz:function(i){return i.toJSON()}};return y});sap.riv.module({qname:'sap.viz.env',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.Logger',version:'4.0.0'},{qname:'sap.viz.config',version:'4.0.0'},{qname:'sap.viz.Locale',version:'4.0.0'}],function Setup(T,L,c,a){var _=function(f){if(T.isExist(f)){L.setLevel(f)}};var b=function(o){if(!o){return}if(o.enable){L.enable()}if(!o.appenders){return}for(var i=0,l=o.appenders.length;i<l;i++){var f=o.appenders[i];if(f.appenderKey){L.addAppender(f.appenderKey,f.appender)}else{L.addAppender(f.appender)}}};var d=function(o,f){a.locale(o.locale,f)};var e={constructor:function(){},initialize:function(o,f){if(!o){return}b(o.log);if(o.locale){d(o,f)}else{if(f){f.call()}}c.enableCanvg(o.enableCanvg)},setLoggerEnable:function(f){if(f===true){L.enable()}else if(f===false){L.disable()}},addLogAppender:function(){if(arguments.length===1){return L.addAppender(arguments[0])}else if(arguments.length===2){return L.addAppender(arguments[0],arguments[1])}},removeLogAppender:function(k){return L.removeAppender(k)}};return e});sap.riv.module({qname:'sap.viz.util.LogAnalyzer',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.LinkedHashMap',version:'4.0.0'}],function Setup(L){var f;var c={};var a={};var b={};var d=new L();var e=/Chart\[(.+?)\]\sinitializing\./;var g=/Chart\[(.+?)\]application\[(.+?)\]\sinitialized\./;var h=/application\[(.+?)\]component\[(.+?)\]\sinitialized\./;var j=/chartComponent\[(.+?)\]subComponent\[(.+?)\]initialized\./;var k=/layer\[(.+?)\]rendering\send\./;var t=/#(\d+)#/;function l(i){while(i.hasMore()){if(i.nextValue()===-1)return false}return true}function n(q){var m=q[0];var r=q.length;for(var i=1;i<r;i++){m=q[i]>m?q[i]:m}return m}function o(i,m,q,r){return'#'+i+'#'+r}var p={analyze:function(i,q,r,s){if(r!=="perf")return;var u=o(i,q,r,s);var m=e.exec(u);if(m){var v=t.exec(u)[1];c[m[1]]=v;f=f||v;return}m=h.exec(u);if(m){b[m[2]]=m[1];return}m=g.exec(u);if(m){a[m[2]]=m[1];return}m=j.exec(u);if(m){if(!d.has(m[1])){d.add(m[1],new L())}d.get(m[1]).add(m[2],-1);return}m=k.exec(u);if(m){var w=t.exec(u)[1];var x=d.getIterator();while(x.hasMore()){var y=x.next();var z=y.value;if(z.has(m[1])&&z.get(m[1])===-1){z.add(m[1],w);var A=z.getIterator();if(l(A)){A.reset();var B=[];while(A.hasMore()){B.push(A.nextValue())}var C=a[b[y.key]];var D=c[C],E=w;d.remove(y.key);return("chart["+C+"] start time:"+D+" end time:"+E+" time consume["+(E-D)+"] total consume["+(E-f)+"]")}}}}}};return p});sap.riv.module({qname:'sap.viz.modules.axis.DataModule',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,N){var r=function(_){var d=null;console.log("reBuildDataModule");return d};return({reBuildDataModule:r,})});sap.riv.module({qname:'sap.viz.data.description.AnalysisAxis',version:'4.0.0',exported:true},[{qname:'sap.viz.data.description.DimensionLabels',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(D,F,T){var A=function(d){this._dimensionLabels=[];this.init(d)};A.prototype.init=function(d){for(var i=0;i<d.length;i++){this._dimensionLabels[i]=new D(d[i]["name"],d[i]["type"]?d[i]["type"]:"Dimension",d[i]["values"]);this._dimensionLabels[i].fake(d[i]["isFake"]?d[i]["isFake"]:false);this._dimensionLabels[i].infos(d[i]["infos"]?d[i]["infos"]:null)}};A.prototype.getDimensionLabels=function(){return this._dimensionLabels};A.prototype.getType=function(){return"analysisAxis"};A.prototype.validate=function(){var l=1;var d=this.getDimensionLabels();for(var i=0;i<d.length;i++){if(i===0){l=d[i].getValues().length;if(T.isExist(d[i].infos())&&l!==d[i].infos().length){F.error(d[i].getId()+" wrong infos count")}}else{if(l!==d[i].getValues().length){F.error(d[i].getId()+" wrong dimension labels count")}if(T.isExist(d[i].infos())&&l!==d[i].infos().length){F.error(d[i].getId()+" wrong infos count")}}}return l};A.prototype.hasFakeData=function(){var d=this.getDimensionLabels();for(var i=0;i<d.length;i++){if(d[i].fake()){return true}}return false};return A});sap.riv.module({qname:'sap.viz.data.description.MeasureValues',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.data.description.DataContainer',version:'4.0.0'}],function Setup(O,D){var M=O.derive(D,{constructor:function(u,v){this._values=v},getValues:function(){return this._values}});return M});sap.riv.module({qname:'sap.viz.data.description.MeasureValuesGroup',version:'4.0.0',exported:true},[{qname:'sap.viz.data.description.MeasureValues',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(M,F){var a=function(d){this._measureValues=[];this.init(d)};a.prototype.init=function(d){for(var i=0;i<d.length;i++){this._measureValues[i]=new M(d[i]["name"],d[i]["values"]);this._measureValues[i].fake(d[i]["isFake"]?d[i]["isFake"]:false);this._measureValues[i].infos(d[i]["infos"]?d[i]["infos"]:null)}};a.prototype.getMeasureValues=function(){return this._measureValues};a.prototype.getType=function(){return"measureValuesGroup"};a.prototype.validate=function(l){var m,v,i,j;if(!arguments.length){var b=[1,1];m=this.getMeasureValues();for(i=0;i<m.length;i++){v=m[i].getValues();if(i===0){if(v.length!==b[1]){F.error(m[i].getId()+" wrong values count in aa2. should be "+b[1])}b[0]=v[0].length}else{if(v.length!==b[1]){F.error(m[i].getId()+" wrong values count in aa2. should be "+b[1])}for(j=0;j<v.length;j++){if(v[j].length!==b[0]){F.error(m[i].getId()+" wrong values count in aa1. should be "+b[0])}}}}return b}else{m=this.getMeasureValues();for(i=0;i<m.length;i++){v=m[i].getValues();if(v.length!==l[1]){F.error(m[i].getId()+" wrong values count in aa2. should be "+l[1])}for(j=0;j<v.length;j++){if(v[j].length!==l[0]){F.error(m[i].getId()+" wrong values count in aa1. should be "+l[0])}}}}};a.prototype.hasFakeData=function(){var m=this.getMeasureValues();for(var i=0;i<m.length;i++){if(m[i].fake()){return true}}return false};return a});sap.riv.module({qname:'sap.viz.data.info.Handler',version:'4.0.0'},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(O,T){var A="analysisAxis";var M="measureValuesGroup";var h={};var _={};function f(j,t){var a=j[A].concat(j[M]);var r=[];a.forEach(function(b,i){var e=b.data;e.forEach(function(d,g){if(d.name===t){r.push(d)}},this)},this);return r}var c={'type':'customlabel','process':function(a,j){var b,e,g,k,m,l,n,r;for(var i=0,o=a.length;i<o;i++){b=a[i];e=b.name;g=f(j,e);g.forEach(function(d,t){n=false;if(!d.infos){r=true;d.infos=[]}l=d.values;k=b.mapping;l.forEach(function(v,p){if(k[v]){if(k[v].type==='string'&&k[v].val===v){if(d.infos[p]){delete d.infos[p][c.type];if(T.isEmptyObject(d.infos[p])){d.infos[p]=undefined}}}else{n=true;d.infos[p]=d.infos[p]?d.infos[p]:{};d.infos[p][c.type]=k[v]}}else{if(!d.infos[p]){d.infos[p]=undefined}}},this);if(r&&!n){delete d.infos}},this)}},'merge':function(j){var r={};r.type=c.type;r.value=[];var a=j[A];var b;a.forEach(function(e,i){var g=e.data;g.forEach(function(d,k){if(d.infos){var l={};l.name=d.name;l.mapping={};b=false;d.infos.forEach(function(m,n){if(m&&m[c.type]){b=true;l.mapping[d.values[n]]=m[c.type]}},this);if(b){r.value.push(l)}}},this)},this);if(r.value.length>0){return r}},'remove':function(j){var a=j[A];var s=false;a.forEach(function(b,i){var e=b.data;e.forEach(function(d,g){if(d.infos){s=false;d.infos.forEach(function(k,l){if(k){delete k[c.type];if(T.isEmptyObject(k)){d.infos[l]=undefined}else{s=true}}},this);if(!s){delete d.infos}}},this)},this)}};h.register=function(a){_[a.type]=a};h.get=function(t){return _[t]};h.mergeInfo=function(j){var i,r=[],m;for(var t in _){if(_.hasOwnProperty(t)){i=_[t];m=i.merge(j);if(m){r.push(O.extend(true,{},m))}}}return r};h.register(c);return h});sap.riv.module({qname:'sap.viz.data.CrosstableDataset',version:'4.0.0',exported:true},[{qname:'sap.viz.data.feed.feeder',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.data.description.AnalysisAxis',version:'4.0.0'},{qname:'sap.viz.data.description.MeasureValuesGroup',version:'4.0.0'},{qname:'sap.viz.data.info.Handler',version:'4.0.0'}],function Setup(F,T,a,A,M,H){var b='type';var N='name';var V='values';var c='feedId';var d='MeasureNamesDimension';var e="analysisAxis";var f="measureValuesGroup";function g(m){var v=m.getValues();return v.length>0?v.length*v[0].length:0}function h(){this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet={};this._emptyDataset=false}h.prototype.data=function(i){if(!arguments.length){return this._dataSet}this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet=i;this.init(this._dataSet);return this};h.prototype.setData=function(i){this.data(i)};h.prototype.info=function(i){if(!arguments.length){return H.mergeInfo(this._dataSet)}if(i&&i.type){var j=H.get(i.type);if(j){j.process(i.value,this._dataSet)}this._analysisAxis=[];this._measureValuesGroup=[];this.init(this._dataSet)}return this};h.prototype.clearInfo=function(t){if(t){var i=H.get(t);if(i){i.remove(this._dataSet)}}return this};h.prototype.init=function(j){if(!j||!j[f]||(j[e]&&!j[f])){return}var k=[1,1];var l=j[e];var i=0;var m,n,o;if(l){if(l.length>2){a.error("could not accept more than 2 axes")}for(;i<l.length;i++){var p=l[i];var q=p["index"];if(q!==1&&q!==2){a.error("Axis index should be 1 or 2")}if(this._analysisAxis[q-1]){a.error("Axis "+q+" already exists")}var r=new A(p["data"]);k[q-1]=r.validate();this._analysisAxis[q-1]=r}if(k[0]===0){k[1]=0;this._emptyDataset=true}m=j[f];for(i=0;i<m.length;i++){n=m[i];var s=n["index"];if(this._measureValuesGroup[s-1]){a.error("MeausreValuesGroup "+s+" already exists")}o=new M(n["data"]);o.validate(k);this._measureValuesGroup[s-1]=o}}else{m=j[f];for(i=0;i<m.length;i++){n=m[i];o=new M(n["data"]);if(i===0){k=o.validate()}else{o.validate(k)}this._measureValuesGroup[n["index"]-1]=o}}};h.prototype.getAnalysisAxisCount=function(){return this._analysisAxis.length};h.prototype.getAnalysisAxisByIdx=function(i){return this._analysisAxis[i]};h.prototype.getMeasureValuesGroupCount=function(){return this._measureValuesGroup.length};h.prototype.getMeasureValuesGroupByIdx=function(i){return this._measureValuesGroup[i]};h.prototype.hasFakeData=function(){for(var i=0;i<this._measureValuesGroup.length;i++){if(this._measureValuesGroup[i].hasFakeData()){return true}}for(i=0;i<this._analysisAxis.length;i++){if(this._analysisAxis[i].hasFakeData()){return true}}return false};h.prototype.getDataPointCount=function(){var j=0;var m=g(this._measureValuesGroup[0].getMeasureValues()[0]);for(var i=0;i<this._measureValuesGroup.length;i++){j+=m*this._measureValuesGroup[i].getMeasureValues().length}return j};h.prototype.isEmptyDataset=function(){return this._emptyDataset};return h});sap.viz.lang.langManager.register({id:'dev',value:{IDS_DEFAULTMND:"All Measures",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_ISNOVALUE:"No value",IDS_BARCHART:"Bar Chart",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_LINECHART:"Line Chart",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_VERTICALBARCHART:"Column Chart",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_WATERFALLCHART:"Waterfall Chart",IDS_DONUTCHART:"Donut Chart",IDS_PIECHART:"Pie Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_SCATTERCHART:"Scatter Plot",IDS_BASECHART:"Base Chart",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BASESINGLECHART:"Base Single Chart",IDS_HEATMAPCHART:"Heat Map",IDS_TREEMAPCHART:"Tree Map",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_MULTILINECHART:"Multiple Line Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_RADARCHART:"Radar Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_MEKKOCHART:"Mekko chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Mekko Chart",IDS_PERCENTAGEMEKKOCHART:"100% Mekko Chart",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Mekko Chart",IDS_REGIONCOLOR:"Region Color",IDS_PRIMARYVALUES:"Primary Values",IDS_SECONDARYVALUES:"Secondary Values",IDS_AXISLABELS:"Axis Labels",IDS_RECTANGLETITLE:"Rectangle Title",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_TAGNAME:"Tag Name",IDS_TAGWEIGHT:"Tags Weight",IDS_TAGFAMILY:"Tags Family",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_REGIONSHAPE:"Region Shape",IDS_BUBBLEWIDTH:"Bubble Width",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_RADARAXES:"Radar Axes",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_PIESECTORSIZE:"Sector Size",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_SELECTABILITY:"selectability",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_DRAWINGEFFECT:"drawingEffect",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_ANIMATION:"animation",IDS_DATALOADING:"dataLoading",IDS_DATAUPDATING:"dataUpdating",IDS_BAR:"bar",IDS_LINE:"line",IDS_WIDTH:"width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MARKER:"marker",IDS_VISIBLE:"visible",IDS_SHAPE:"shape",IDS_SIZE:"size",IDS_HEADERVISIBLE:"headerVisible",IDS_AXISVISIBLE:"axisVisible",IDS_GRIDVISIBLE:"gridVisible",IDS_COLUMNSEQUENCE:"columnSequence",IDS_COLUMNCONFIG:"columnConfig",IDS_STARTCOLUMN:"startColumn",IDS_LABEL:"label",IDS_VALUEFORMAT:"valueFormat",IDS_ENDCOLUMN:"endColumn",IDS_HIGHCOLUMN:"highColumn",IDS_LOWCOLUMN:"lowColumn",IDS_LINECONFIG:"lineConfig",IDS_MARKERS:"markers",IDS_FILLVISIBLE:"fillVisible",IDS_REFINEVISIBLE:"reflineVisible",IDS_MODE:"mode",IDS_TITLE:"title",IDS_TEXT:"text",IDS_GRIDLINE:"gridline",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_TYPE:"type",IDS_FORMAT:"format",IDS_POSITION:"position",IDS_BORDER:"border",IDS_STARTCOLOR:"startcolor",IDS_ENDCOLOR:"endcolor",}});
