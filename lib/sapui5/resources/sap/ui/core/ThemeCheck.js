/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ui.core.ThemeCheck");jQuery.sap.require("sap.ui.base.Object");jQuery.sap.require("jquery.sap.script");(function(){sap.ui.base.Object.extend("sap.ui.core.ThemeCheck",{constructor:function(C){if(u()){l()}this._oCore=C},clear:function(){sap.ui.core.ThemeCheck.initialized=false;jQuery.sap.byId("sap-ui-DummyCSSCheck-CSS").remove();jQuery.sap.byId("sap-ui-DummyCSSCheck").remove();if(this._sThemeCheckId){jQuery.sap.clearDelayedCall(this._sThemeCheckId);this._sThemeCheckId=null}},getInterface:function(){return this},fireThemeChangedEvent:function(o,f){var U=u();if(f||(!sap.ui.core.ThemeCheck.initialized&&U)){l()}if(U||f){if(!this._sThemeCheckId){var D=jQuery("<div id=\"sap-ui-DummyCSSCheck\" class=\"sapUiCssCheck\" style=\"visibility:hidden;position:absolute;height:100px;width:100px;top:-150px;\"></div>");jQuery(document.body).append(D);d.apply(this,[true])}}if(!o&&!this._sThemeCheckId){this._oCore.fireThemeChanged({theme:this._oCore.getConfiguration().getTheme()})}}});function l(){if(!sap.ui.core.ThemeCheck.initialized){jQuery.sap.includeStyleSheet(jQuery.sap.getModulePath("sap.ui.core.","/")+"ThemeCheck.css","sap-ui-DummyCSSCheck-CSS");sap.ui.core.ThemeCheck.initialized=true}};function u(){if(jQuery.browser.safari){var v=jQuery.browser.version.split(".");if(parseInt(v[0],10)<534||(parseInt(v[0],10)==534&&parseInt(v[1],10)<5)){return true}}else if(jQuery.browser.mozilla){return true}return false};function c(){var r=(jQuery.sap.domById("sap-ui-DummyCSSCheck").offsetHeight-jQuery.sap.domById("sap-ui-DummyCSSCheck").clientHeight)==20;if(!r){jQuery.sap.log.warning("Theme not yet applied.")}else{jQuery.sap.byId("sap-ui-DummyCSSCheck").remove()}return r};function d(f){if(!c()){this._sThemeCheckId=jQuery.sap.delayedCall(2,this,d)}else if(!f){this._sThemeCheckId=null;this._oCore.fireThemeChanged({theme:this._oCore.getConfiguration().getTheme()})}}})();
