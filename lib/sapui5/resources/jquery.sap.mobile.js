/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("jquery.sap.mobile");jQuery.sap.require("jquery.sap.dom");jQuery.sap.require("jquery.sap.events");(function($){var F=/(?:\?|&)sap-ui-xx-fakeOS=([^&]+)/;if(jQuery.browser.webkit&&!jQuery.support.touch){var r=document.location.search.match(F);var a=r&&r[1]||jQuery.sap.byId("sap-ui-bootstrap").attr("data-sap-ui-xx-fakeOS");if(a){var u={ios:"Mozilla/5.0 (iPhone; CPU iPhone OS 5_0_1 like Mac OS X) AppleWebKit/534.48 (KHTML, like Gecko) Version/5.1 Mobile/9A406 Safari/7534.48.3",iphone:"Mozilla/5.0 (iPhone; CPU iPhone OS 5_0_1 like Mac OS X) AppleWebKit/534.48 (KHTML, like Gecko) Version/5.1 Mobile/9A406 Safari/7534.48.3",ipad:"Mozilla/5.0 (iPad; CPU OS 5_1_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Mobile/9B206",android:"Mozilla/5.0 (Linux; U; Android 4.0.3; en-us; GT-I9100 Build/IML74K) AppleWebKit/534.46 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.46",android_phone:"Mozilla/5.0 (Linux; U; Android 4.0.3; en-us; GT-I9100 Build/IML74K) AppleWebKit/534.46 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.46",android_tablet:"Mozilla/5.0 (Linux; Android 4.1.2; Nexus 7 Build/JZ054K) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Safari/535.19",blackberry:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",blackberry10:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+"}[a];if(u){if(jQuery.browser.safari){var _=window.navigator;window.navigator=new Object();window.navigator.__proto__=_;window.navigator.__defineGetter__('userAgent',function(){return u})}else{window.navigator.__defineGetter__('userAgent',function(){return u})}jQuery.browser.msie=jQuery.browser.opera=jQuery.browser.mozilla=false;jQuery.browser.webkit=true;jQuery.browser.version="534.46"}}}function g(e){e=e||navigator.userAgent;var p=/\(([a-zA-Z ]+);\s(?:[U]?[;]?)([\D]+)((?:[\d._]*))(?:.*[\)][^\d]*)([\d.]*)\s/;var r=e.match(p);if(r){var h=/iPhone|iPad|iPod/;var j=/PlayBook|BlackBerry/;if(r[0].match(h)){r[3]=r[3].replace(/_/g,".");return({os:"ios",version:r[3]})}else if(r[2].match(/Android/)){r[2]=r[2].replace(/\s/g,"");return({os:"android",version:r[3]})}else if(r[0].match(j)){return({os:"blackberry",version:r[4]})}else{return}}else if(e.indexOf("(BB10;")>0){p=/\sVersion\/([\d.]+)\s/;r=e.match(p);if(r){return{os:"blackberry",version:r[1]}}else{return{os:"blackberry",version:10}}}else{p=/Windows Phone (?:OS )?([\d.]*)/;r=e.match(p);if(r){return{os:"winphone",version:r[1]}}else{return}}}var o=g()||{};var b=$(window);if(o.os){var f=parseFloat(o.version);$.os=$.extend({os:o.os,version:o.version,fVersion:f},$.os);$.os[o.os]=true}else{if(!$.os)$.os={}}$.extend($.support,{retina:window.devicePixelRatio>=2});function i(){if(jQuery.sap.touchEventMode==="ON"){return window.orientation===undefined||window.orientation===90||window.orientation===-90}else{return b.width()>b.height()}}var l=i();var c=(/(?=android)(?=.*mobile)/i.test(navigator.userAgent));$.device=$.extend({},$.device);$.device.is=$.extend({standalone:window.navigator.standalone,landscape:l,portrait:!l,iphone:/iphone/i.test(navigator.userAgent),ipad:/ipad/i.test(navigator.userAgent),android_phone:c,android_tablet:(!!$.os.android&&!c)},$.device.is);$(window).bind("resize",function(){var l=i();$.device.is.landscape=l;$.device.is.portrait=!l});var t=(function(){if($.os.ios){return $.device.is.ipad}else{if(jQuery.sap.touchEventMode==="ON"){return(Math.min(window.screen.width/window.devicePixelRatio,window.screen.height/window.devicePixelRatio)>=600)}else{return $.device.is.android_tablet}}}());$.device.is=$.extend({tablet:t&&($.sap.touchEventMode!=="OFF"),phone:!t&&($.sap.touchEventMode!=="OFF"),desktop:($.sap.touchEventMode==="OFF")},$.device.is);var d=false;$.sap.initMobile=function(e){if(!d){d=true;e=$.extend({},{viewport:true,statusBar:"default",hideBrowser:true,preventScroll:true,useFullScreenHeight:true,homeIconPrecomposed:false},e);$(function(){var h=$("head");if(e.viewport){if($.device.is.iphone&&(Math.max(window.screen.height,window.screen.width)===568)){h.append($('<meta name="viewport" content="user-scalable=0, initial-scale=1.0">'))}else if($.os.android&&$.os.fVersion<3){h.append($('<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">'))}else{h.append($('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">'))}}if($.os.ios){h.append($('<meta name="apple-mobile-web-app-capable" content="yes">'));h.append($('<meta name="apple-mobile-web-app-status-bar-style" content="'+e.statusBar+'">'))}else if($.browser.msie){h.append($('<meta http-equiv="cleartype" content="on">'))}var j=e.homeIcon;if(j){var p=e.homeIconPrecomposed?"-precomposed":"";if(typeof j==="string"){h.append($('<link rel="apple-touch-icon'+p+'" href="'+j+'">'))}else if(typeof j==="object"){var k=function(q){return j[q]||j['tablet@2']||j['phone@2']||j['phone']||j['tablet']};var m=($.device.is.ipad?"tablet":"phone")+($.support.retina?"@2":"");var s=($.device.is.ipad?72:57)*($.support.retina?2:1);var n=(s===57)?'':'sizes="'+s+'x'+s+'"';h.append($('<link rel="apple-touch-icon"'+p+' '+n+' href="'+k(m)+'">'))}}if(e.hideBrowser&&!jQuery.browser.msie){}if(e.preventScroll){$(window).bind("touchmove",function sapInitMobileTouchMoveHandle(E){if(!E.isDefaultPrevented()){E.preventDefault()}})}if(e.useFullScreenHeight){$(function(){document.documentElement.style.height="100%"})}});$(function(){var s=false;var S="";var p="240px";var T=3000;var h=sap.ui.getCore().getLibraryResourceBundle;if(jQuery.device.is.ipad||jQuery.device.is.iphone||jQuery.os.os=="android"||jQuery.os.os=="blackberry"||jQuery.os.os=="winphone"){if((jQuery.os.ios&&jQuery.os.fVersion<5)||(jQuery.os.android&&jQuery.os.fVersion<2.3)||(jQuery.os.blackberry&&jQuery.os.fVersion<10)||(jQuery.os.winphone)||(!jQuery.browser.webkit)){s=true;S=h("sap.ui.core").getText("MOBILE_SUPPORT_MESSAGE_DEVICE",[jQuery.os.os,jQuery.os.fVersion])}}else{if(!jQuery.browser.webkit){p="auto";s=true;S=h("sap.ui.core").getText("MOBILE_SUPPORT_MESSAGE_BROWSER")}else{var r=window.location.search.match(F);var a=r&&r[1]||jQuery.sap.byId("sap-ui-bootstrap").attr("data-sap-ui-xx-fakeOS");if(!a||(a!=="ios"&&a!=="iphone"&&a!=="ipad"&&a!=="android"&&a!=="android_tablet"&&a!=="android_phone"&&a!=="blackberry")){p="480px";T=5000;s=true;S=h("sap.ui.core").getText("MOBILE_SUPPORT_MESSAGE_URL_PARAM")}}}if(s){jQuery.sap.require("sap.ui.core.Popup");var H=new sap.ui.core.HTML("mSAPUI5SupportMessage",{content:"<div id=\"mSAPUI5SupportMessage\""+"style=\""+"background-color:white;"+"border:solid 1px #cccccc;"+"border-radius:0.3125em;"+"-webkit-border-radius:0.3125em;"+"padding:0.3125em;"+"text-align:center;"+"width:"+p+"\""+"tabindex=\"0\">"+"<img src=\""+sap.ui.resource("sap.ui.core","mimes/logo/icotxt_white_220x72.png")+"\"\>"+"<br>"+"<span style=\"color:#ff0000;\">"+S+"</span>"+"<br>"+"</div>"});var P=new sap.ui.core.Popup(H,false,true,false);window.setTimeout(function(){if(P){P.open(0,"center center","center center",document.body)}},0);window.setTimeout(function(){if(P){P.close()}},T)}})}}})(jQuery);
