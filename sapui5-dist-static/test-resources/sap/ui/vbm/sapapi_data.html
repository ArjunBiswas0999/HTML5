<!DOCTYPE HTML>
<html>
	<head>
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <link href="style/sapvbistyle.css" type="text/css" rel="stylesheet" />

            <script src="../../../../resources/sap-ui-core.js"
                    id="sap-ui-bootstrap"
                    data-sap-ui-libs="sap.ui.vbm"
                    data-sap-ui-theme="sap_goldreflection" >
            </script>
            <!-- add sap.ui.table,sap.ui.ux3 and/or other libraries to 'data-sap-ui-libs' if required -->
   			<script>
   			  	// creation of visual business...........................//
                sap.ui.localResources("vbitestapp");
   			  		
                //var view = sap.ui.view({id:"idVBITestView1", viewName:"vbitestapp.VBITestView", type:sap.ui.core.mvc.ViewType.JS});
                var oVBI1 = new sap.ui.vbm.VBI('vbiWrap',{
                    width : 600,
                    height: 620
                });
                oVBI1.placeAt("content");

                // load some project file
                var dat = $.getJSON("media/vbdata/data1.json", function( dat ) 
                {
	                oVBI1.load( dat );
                });

                function onBtnTest()
                {
                    // load again
                    var dat = $.getJSON("media/vbdata/data1.json", function( dat ) 
                    {
	                    oVBI1.load( dat );
                    });
                };
            </script>
       </head>

       <body class="sapUiBody" >
		<h1>Visual Business UI5: another delta of data context test</h1>
        <table>
            <tr>
                <td><div id="content"></div></td>
                <td><button id="Button1" onClick="onBtnTest()">Set Data Again</button></td>
            </tr>
        </table>
       </body>
</html>