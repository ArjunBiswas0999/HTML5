{
"version":"2.0",
"name":"sap.uiext.inbox.library-preload",
"dependencies":["sap.ui.core.library-preload","sap.ui.commons.library-preload","sap.ui.ux3.library-preload"],
"modules":{
	"sap/uiext/inbox/Inbox.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\n */\njQuery.sap.declare('sap.uiext.inbox.Inbox');jQuery.sap.require('sap.uiext.inbox.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.uiext.inbox.Inbox',{metadata:{publicMethods:['clearDrillDownFilter','clearRowSettings','bindTaskTable','getTaskTableBinding','bindTaskExecutionURL','bindTaskTypeDynamicFilter','bindSearch','setSubstitutionEnabled','getSubstitutionEnabled','bindTasks','setConfiguration'],library:'sap.uiext.inbox',properties:{'taskExecutionURLThemeValue':{type:'string',group:'Misc',defaultValue:null},'handleBindings':{type:'boolean',group:'Misc',defaultValue:true},'openCompletedTasks':{type:'boolean',group:'Misc',defaultValue:false}},events:{'oDataRequestCompleted':{},'refresh':{},'taskAction':{}}}});sap.uiext.inbox.Inbox.M_EVENTS={'oDataRequestCompleted':'oDataRequestCompleted','refresh':'refresh','taskAction':'taskAction'};\n/*!\r\n * @copyright@\r\n */\njQuery.sap.require('sap.uiext.inbox.InboxConstants');jQuery.sap.require('sap.uiext.inbox.TCMMetadata');jQuery.sap.require('sap.uiext.inbox.tcm.TCMModel');jQuery.sap.require('sap.uiext.inbox.InboxLink');jQuery.sap.require('sap.uiext.inbox.TaskInitialFilters');jQuery.sap.require('sap.uiext.inbox.InboxUtils');jQuery.sap.require('sap.uiext.inbox.SubstitutionRulesManager');jQuery.sap.require('sap.ui.core.format.DateFormat');jQuery.sap.require('sap.ui.ux3.FacetFilter');jQuery.sap.require('sap.ui.ux3.FacetFilterList');jQuery.sap.require('sap.ui.commons.layout.MatrixLayout');jQuery.sap.require('sap.ui.commons.Image');jQuery.sap.require('sap.ui.commons.ToggleButton');jQuery.sap.require('sap.ui.commons.DropdownBox');jQuery.sap.require('sap.ui.core.ListItem');jQuery.sap.require('sap.ui.commons.SearchField');jQuery.sap.require('sap.ui.commons.Toolbar');jQuery.sap.require('sap.ui.commons.TextView');jQuery.sap.require('sap.ui.commons.Label');jQuery.sap.require('sap.ui.commons.Button');jQuery.sap.require('sap.ui.commons.ToolbarSeparator');jQuery.sap.require('sap.ui.commons.Link');jQuery.sap.require('sap.ui.table.Table');jQuery.sap.require('sap.ui.commons.TextField');jQuery.sap.require('sap.ui.ux3.OverlayContainer');jQuery.sap.require('sap.ui.core.HTML');jQuery.sap.require('sap.ui.commons.layout.BorderLayout');jQuery.sap.require('sap.ui.commons.layout.HorizontalLayout');jQuery.sap.require('sap.ui.commons.layout.VerticalLayout');jQuery.sap.require('sap.ui.commons.RadioButtonGroup');jQuery.sap.require('sap.ui.commons.Dialog');jQuery.sap.require('sap.ui.model.Sorter');jQuery.sap.require('sap.ui.model.Filter');jQuery.sap.require('sap.ui.core.Locale');jQuery.sap.require('sap.uiext.inbox.InboxFilters');\nsap.uiext.inbox.Inbox.prototype.init=function(){this.oTcmMetadata=new sap.uiext.inbox.TCMMetadata();this.oTCMModel=new sap.uiext.inbox.tcm.TCMModel();this.inboxUtils=sap.uiext.inbox.InboxUtils;this.constants=sap.uiext.inbox.InboxConstants;this._oBundle=sap.ui.getCore().getLibraryResourceBundle('sap.uiext.inbox');var c=sap.ui.getCore().getConfiguration().getTheme();this._imgResourcePath=sap.ui.resource('sap.uiext.inbox','themes/'+c+'/img/');var u=jQuery.sap.getUriParameters();var d=this.constants.defaultView_URLParameter;var U=u.get(d);if(U===null){var a=this.inboxUtils.getCookieValue(d);this.defaultView=a!==undefined?a:this.constants.tableView}else{this.defaultView=jQuery.inArray(U,this.constants.inboxViews)===-1?this.constants.tableView:U;this.inboxUtils.setCookieValue(d,this.defaultView,1)}this.sProviderHost='';this.bRefreshTaskTypes=true;this.selectedContexts=[];this.sTypeOfModel='';this.bpmSvcUrl='';this.isSubstitutionEnabled=false;this.isSubstitutionRuleCreationSupported=false;this.isCustomAttributesEnabled=false;this.isCustomActionsEnabled=false;this.showTaskDescription=false;this.showTaskCategory=true;this.isBatchOperationSupported=true;this.isForwardActionEnabled=false;this.isCommentsEnabled=false;this.openTaskExecutionUIOpenInNewTab=false;this._substitutionPath='';this.sCollectionPath='TaskCollection';this.filtersToApply={};this.resetMessages=true;this.httpMethodForAction='POST';this.currentView=this.defaultView;this.bRefreshStartFlag=false;this.getDefaultTaskExecutionURLCallBack=function(i,s){var I=this.sCollectionPath+\"(InstanceID='\"+i+\"',SAP__Origin='\"+s+\"')/UIExecutionLink?$format=json\";var r=this.bpmSvcUrl+I;var b='';var m=this.getCoreModel();var t=this;var e={async:false,requestUri:r,method:'GET',headers:{Accept:'application/json','x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(e,function(f,g){b=f.GUI_Link},function(f){if(f.response.statusCode==205){var g={statusCode:f.response.statusCode,statusText:f.response.statusText};m.fireRequestFailed(g)}else{t.showMessage('error',t._oBundle.getText('INBOX_MSG_ERR_EXUI')+i)}});return b};this.getTaskExecURLStatusCallBack=function(i,s){var b='';var r=this.bpmSvcUrl+this.sCollectionPath+\"(InstanceID='\"+i+\"',SAP__Origin='\"+s+\"')?$format=json\";var m=this.getCoreModel();var t=this;var e={async:false,requestUri:r,method:'GET',headers:{Accept:'application/json','x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(e,function(f,g){b=f.Status},function(f){if(f.response.statusCode==205){var g={statusCode:f.response.statusCode,statusText:f.response.statusText};m.fireRequestFailed(g)}else{t.showMessage('error',t._oBundle.getText('INBOX_MSG_ERR_EXUI')+i)}});return b};this.searchCallBack='';this.dynamicTaskTypeFilterCallBack='';this.getTaskExecutionURLCallBack=this.getDefaultTaskExecutionURLCallBack;this.lastRefreshedOnDateTime=new Date();this.vLayout=this.createInboxUI();this.vLayout.setParent(this);this.addAndRemoveSubstDropDowns();this.constants=sap.uiext.inbox.InboxConstants;this.lastRefreshedOnDateTime=new Date()};\nsap.uiext.inbox.Inbox.prototype.exit=function(){this.vLayout.destroy();this.vLayout=null;function r(i){var I=sap.ui.getCore().byId(i);I&&I.destroy()}r(this.getId()+'--'+'dropdownCell1');r(this.getId()+'--'+'dropdownCell2');r(this.getId()+'--'+'dropdownCell3');r(this.getId()+'--'+'manageSubstitutionMI');r(this.getId()+'--'+'rrMainMatrixLayout');r(this.getId()+'--'+'separatorRRViewCell');this._oBundle=undefined};\nsap.uiext.inbox.Inbox.prototype.createAttributes=function(a,p){var t=this;var A=new sap.ui.ux3.FacetFilterList(this.getId()+'--'+a.name);A.setTitle(this._oBundle.getText(a.name));for(var i=0;i<a.attributes.length;i++){if(typeof a.attributes[i]=='string'||a.attributes[i].key!=undefined){var b;var o;if(a.attributes[i].key!=undefined){var c=a.attributes[i];b=t.inboxUtils.scrub(c.key);o=new sap.ui.core.ListItem(this.getId()+'--'+b,{text:a.attributes[i].value,key:a.attributes[i].key});if(c.instanceID){o.data('InstanceID',c.instanceID);o.data('SAP__Origin',c.sap__Origin)}}else{b=t.inboxUtils.scrub(a.attributes[i]);o=new sap.ui.core.ListItem(this.getId()+'--'+b,{text:this._oBundle.getText(a.attributes[i]),key:b})}A.addItem(o)}else{t.createAttributes(a.attributes[i],A)}}p.addList(A)};\nsap.uiext.inbox.Inbox.prototype.toggleFilterView=function(e,I){var t=I;var f=sap.ui.getCore().byId(t.getId()+'--'+'filterFacet');t.showBusyLoader();if(f===undefined){f=new sap.ui.ux3.FacetFilter(t.getId()+'--'+'filterFacet');for(var a=0;a<sap.uiext.inbox.InboxConstants.aFilterMetaData.length;a++){t.createAttributes(sap.uiext.inbox.InboxConstants.aFilterMetaData[a],f)}var v=sap.ui.getCore().byId(t.getId()+'--'+'verticalLayoutContainer');v.insertContent(f,2);var l=f.getLists();for(var i=0;i<l.length;i++){if(l[i].getId()===t.getId()+'--'+'INBOX_FILTER_PRIORITY'){l[i].attachSelect(t,t.applyDrillDownFilterForPriority)}else if(l[i].getId()===t.getId()+'--'+'INBOX_FILTER_STATUS'){l[i].attachSelect(t,t.applyDrillDownFilterForStatus)}else if(l[i].getId()===t.getId()+'--'+'INBOX_FILTER_CREATION_DATE'){l[i].setMultiSelect(false);l[i].attachSelect(t,t.applyDrillDownFilterForDateTime)}else if(l[i].getId()===t.getId()+'--'+'INBOX_FILTER_TASK_TYPE'){l[i].attachSelect(t,t.applyDrillDownFilterForTaskType)}else if(l[i].getId()===t.getId()+'--'+'INBOX_FILTER_DUE_DATETIME'){l[i].setMultiSelect(false);l[i].attachSelect(t,t.applyDrillDownFilterForDueDate)}}}var s=sap.ui.getCore().byId(t.getId()+'--'+'INBOX_FILTER_STATUS');if(sap.ui.getCore().byId(t.getId()+'--'+'filterComboBox2').getSelectedItemId()===t.getId()+'--'+'li_completedTasks'){if(s!=undefined){f.removeList(s)}if(F!==undefined){f.removeList(F)}}var F=sap.ui.getCore().byId(t.getId()+'--'+'INBOX_FILTER_CREATION_DATE');var o=sap.ui.getCore().byId(t.getId()+'--'+'INBOX_FILTER_DUE_DATETIME');var S=sap.ui.getCore().byId(t.getId()+'--'+'filterComboBox2').getSelectedItemId();if(S===t.getId()+'--'+'li_overdueTasks'||S===t.getId()+'--'+'li_escalatedTasks'){if(F!==undefined&&f.indexOfList(F)!==-1){f.removeList(F)}if(o!==undefined&&f.indexOfList(o)!==-1){f.removeList(o)}}var b=t._getComponent('filterViewButton');var c=b?b.getIcon():undefined;if(c){var d=(b.getIcon()===t._imgResourcePath+t.constants.filterViewImageUnSelected);var g=d?t.constants.filterViewImageSelected:t.constants.filterViewImageUnSelected;b.setIcon(t._imgResourcePath+g);f.setVisible(d)}t.hideBusyLoader()};\nsap.uiext.inbox.Inbox.prototype.populateFilterButtonContainer=function(f){var a=new sap.ui.commons.layout.MatrixLayoutCell({id:this.getId()+'--'+'filterButtonCell'});var s=false;var b=new sap.ui.commons.ToggleButton(this.getId()+'--'+'filterViewButton',{icon:this._imgResourcePath+sap.uiext.inbox.InboxConstants.filterViewImageUnSelected,pressed:false,tooltip:this._oBundle.getText('INBOX_BUTTON_FILTER_VIEW_TOOLTIP')});b.attachPress(this,this.toggleFilterView);b.addStyleClass('sapUiExtInboxToolBarContainerHeight');a.addContent(b);a.setPadding(sap.ui.commons.layout.Padding.None);f.createRow(a)};\nsap.uiext.inbox.Inbox.prototype.addAndRemoveSubstDropDowns=function(){var d=sap.ui.getCore().byId(this.getId()+'--'+'dropdownRow');var a=sap.ui.getCore().byId(this.getId()+'--'+'dropdownCell1');var b=sap.ui.getCore().byId(this.getId()+'--'+'dropdownCell2');var c=sap.ui.getCore().byId(this.getId()+'--'+'dropdownCell3');var m=sap.ui.getCore().byId(this.getId()+'--'+'manageSubstitutionMI');var M=sap.ui.getCore().byId(this.getId()+'--'+'rrManageSubstitutionMI');if(this.getSubstitutionEnabled()){d.addCell(a);d.addCell(b);d.addCell(c);m.setEnabled(true);M.setEnabled(true)}else{if(d!=undefined){d.removeCell(a);d.removeCell(c)}if(m&&M){m.setEnabled(false);M.setEnabled(false)}}var r=sap.ui.getCore().byId(this.getId()+'--'+'rrSettingsButton');var t=sap.ui.getCore().byId(this.getId()+'--'+'settingsButton');this._manageVisibilityOfSettingsButton(r);this._manageVisibilityOfSettingsButton(t)};\nsap.uiext.inbox.Inbox.prototype.populateDropDownContainer=function(d){var a=new sap.ui.commons.layout.MatrixLayoutRow(this.getId()+'--'+'dropdownRow');var b=new sap.ui.commons.layout.MatrixLayoutCell(this.getId()+'--'+'dropdownCell1');b.setPadding(sap.ui.commons.layout.Padding.None);var c=new sap.ui.commons.DropdownBox(this.getId()+'--'+'filterComboBox1',{tooltip:this._oBundle.getText('INBOX_TASKS_FILTER_DROPDOWN_TOOLTIP'),items:[new sap.ui.core.ListItem(this.getId()+'--'+'li_allTasks',{text:this._oBundle.getText('INBOX_DROP_DOWN_VALUE_ALL_TASKS')}),new sap.ui.core.ListItem(this.getId()+'--'+'li_myTasks',{text:this._oBundle.getText('INBOX_MY_TASKS_TEXT')}),new sap.ui.core.ListItem(this.getId()+'--'+'li_substitutedTasks',{text:this._oBundle.getText('SUBSTITUTION_INBOX_DROP_DOWN_VALUE_TASKS_ASSIGNED_TO_ME')})]});c.attachChange(this,this.applyDropDownFilter1);c.setValue(this._oBundle.getText('INBOX_DROP_DOWN_VALUE_ALL_TASKS'));c.addStyleClass('sapUiExtInboxToolBarContainerHeight');c.addStyleClass('sapUiExtInboxComboBox');b.addContent(c);a.addCell(b);var e=new sap.ui.commons.layout.MatrixLayoutCell(this.getId()+'--'+'dropdownCell2');e.setPadding(sap.ui.commons.layout.Padding.None);var f=new sap.ui.commons.DropdownBox(this.getId()+'--'+'filterComboBox2',{tooltip:this._oBundle.getText('INBOX_TASKS_FILTER_DROPDOWN_TOOLTIP'),items:[new sap.ui.core.ListItem(this.getId()+'--'+'li_openTasks',{text:this._oBundle.getText('INBOX_DROP_DOWN_VALUE_OPEN_TASKS')}),new sap.ui.core.ListItem(this.getId()+'--'+'li_completedTasks',{text:this._oBundle.getText('INBOX_DROP_DOWN_VALUE_COMPLETED_TASKS')}),new sap.ui.core.ListItem(this.getId()+'--'+'li_overdueTasks',{text:this._oBundle.getText('INBOX_DROP_DOWN_VALUE_OVERDUE_TASKS')}),new sap.ui.core.ListItem(this.getId()+'--'+'li_escalatedTasks',{text:this._oBundle.getText('INBOX_DROP_DOWN_VALUE_ESCALATED_TASKS')})]});f.attachChange(this,this.applyDropDownFilter);f.setValue(this._oBundle.getText('INBOX_DROP_DOWN_VALUE_OPEN_TASKS'));f.addStyleClass('sapUiExtInboxToolBarContainerHeight');f.addStyleClass('sapUiExtInboxComboBox');e.addContent(f);a.addCell(e);var g=new sap.ui.commons.layout.MatrixLayoutCell(this.getId()+'--'+'dropdownCell3');g.setPadding(sap.ui.commons.layout.Padding.None);var h=new sap.ui.commons.DropdownBox(this.getId()+'--'+'filterComboBox3',{maxPopupItems:10});var o='';if(sap.ui.getCore().byId(this.getId()+'--'+'onBehalfOfListItem')===undefined){var o=new sap.ui.core.ListItem(this.getId()+'--'+'onBehalfOfListItem')}o.setText(this._oBundle.getText('SUBSTITUTION_INBOX_FILTER_ON_BEHALF_OF'));o.setKey('onBehalfOf');h.addItem(o);var i='';if(sap.ui.getCore().byId(this.getId()+'--'+'li_allUsers')===undefined){i=new sap.ui.core.ListItem(this.getId()+'--'+'li_allUsers')}i.setText(this._oBundle.getText('INBOX_DROP_DOWN_VALUE_ALL_USERS'));i.setKey('allUsers');h.addItem(i);h.attachChange(this,this.applyDropDownFilter3);h.setValue(this._oBundle.getText('SUBSTITUTION_INBOX_FILTER_ON_BEHALF_OF'));h.addStyleClass('sapUiExtInboxToolBarContainerHeight');h.addStyleClass('sapUiExtInboxComboBox');h.setEnabled(false);g.addContent(h);a.addCell(g);d.addRow(a);this.addAndRemoveSubstDropDowns()};\nsap.uiext.inbox.Inbox.prototype.populateSearchFieldContainer=function(s){var a=new sap.ui.commons.layout.MatrixLayoutCell(this.getId()+'--'+'searchBoxCell');a.setPadding(sap.ui.commons.layout.Padding.None);var b=new sap.ui.commons.SearchField(this.getId()+'--'+'searchField',{enableListSuggest:false,enableClear:true,startSuggestion:0,tooltip:this._oBundle.getText('INBOX_SEARCH_TEXT')});b.addStyleClass('sapUiExtInboxSearchField');b.attachSuggest(this,function(e,t){if(e.getParameter('value')===''){t.resetSearchCriteria();t.applyFilterOnResponse(null)}});b.attachSearch(this,this.localSearch);a.addContent(b);s.createRow(a)};\nsap.uiext.inbox.Inbox.prototype.populateMsgBar=function(){var m=new sap.ui.commons.Toolbar(this.getId()+'--'+'msgBarContainer',{visible:false});var a=new sap.ui.commons.Image({id:this.getId()+'--'+'msbBarTypeImg',text:'',decorative:false});var b=new sap.ui.commons.TextView({id:this.getId()+'--'+'msbBarTextView',text:''});var c=new sap.ui.commons.Image({id:this.getId()+'--'+'msbBarCloseImg',text:'',decorative:false,tooltip:this._oBundle.getText('INBOX_MSGBAR_CLOSE_TOOLTIP')});c.addStyleClass('sapUiExtInboxToolbarRight');c.setSrc(this._imgResourcePath+sap.uiext.inbox.InboxConstants.closeImg);c.attachPress(this,this.deleteMessage);m.addItem(a);m.addItem(b);m.addItem(c);return m};\nsap.uiext.inbox.Inbox.prototype.populateToolBar=function(){var t=new sap.ui.commons.layout.MatrixLayout(this.getId()+'--'+'toolbarContainer',{layoutFixed:false,width:'100%',columns:6,widths:['1px','1px','1px','1px','100%','1px']});var v=new sap.ui.commons.layout.MatrixLayout(this.getId()+'--'+'viewButtonsContainer',{layoutFixed:false});var f=new sap.ui.commons.layout.MatrixLayout(this.getId()+'--'+'filterButtonContainer',{layoutFixed:false});var r=new sap.ui.commons.layout.MatrixLayout(this.getId()+'--'+'refreshButtonContainer',{layoutFixed:false});var d=new sap.ui.commons.layout.MatrixLayout(this.getId()+'--'+'dropDownContainer',{layoutFixed:false});var e=new sap.ui.commons.Label(this.getId()+'--'+'emptyLabel',{text:''});e.addStyleClass('sapUiExtInboxEmptyLabel');var s=new sap.ui.commons.layout.MatrixLayout(this.getId()+'--'+'searchFieldContainer',{layoutFixed:false});t.createRow(v,d,f,r,e,s);this.populateViewButtonsContainer(v);this.populateDropDownContainer(d);this.populateFilterButtonContainer(f);this.populateRefreshButtonContainer(r);this.populateSearchFieldContainer(s);return t};\nsap.uiext.inbox.Inbox.prototype.populateViews=function(){var t=this;var v=sap.ui.getCore().byId(this.getId()+'--'+'verticalLayoutContainer');var a=new sap.ui.commons.Toolbar(this.getId()+'--'+'actionButtonsToolbarContainer');a.addStyleClass('sapUiExtInboxActionButtonsToolbarContainer');if(sap.ui.getCore().byId(this.getId()+'--'+'openActionButton')===undefined){var c=new sap.ui.commons.Button(this.getId()+'--'+'openActionButton',{icon:this._imgResourcePath+sap.uiext.inbox.InboxConstants.completeImage,text:this._oBundle.getText('INBOX_ACTION_BUTTON_OPEN'),enabled:false,tooltip:this._oBundle.getText('INBOX_ACTION_BUTTON_OPEN')});c.attachPress(this,function(E,i){t.showBusyLoader();t.populateTaskExecutionContent();t.hideBusyLoader()});a.addItem(c)}if(sap.ui.getCore().byId(this.getId()+'--'+'claimActionButton')===undefined){var b=new sap.ui.commons.Button(this.getId()+'--'+'claimActionButton',{icon:this._imgResourcePath+sap.uiext.inbox.InboxConstants.claimImage,text:this._oBundle.getText('INBOX_ACTION_BUTTON_CLAIM'),enabled:false,tooltip:this._oBundle.getText('INBOX_ACTION_BUTTON_CLAIM'),visible:false});b.attachPress({inbox:t,view:t.constants.tableView,action:'Claim'},t.executeActionOnTask);b.setVisible(false);a.addItem(b)}if(sap.ui.getCore().byId(this.getId()+'--'+'releaseActionButton')===undefined){var r=new sap.ui.commons.Button(this.getId()+'--'+'releaseActionButton',{icon:this._imgResourcePath+sap.uiext.inbox.InboxConstants.releaseImage,text:this._oBundle.getText('INBOX_ACTION_BUTTON_RELEASE'),enabled:false,tooltip:this._oBundle.getText('INBOX_ACTION_BUTTON_RELEASE'),visible:false});r.attachPress({inbox:t,view:t.constants.tableView,action:'Release'},t.executeActionOnTask);r.setVisible(false);a.addItem(r)}if(sap.ui.getCore().byId(this.getId()+'--'+'forwardActionButton')===undefined){var f=new sap.ui.commons.Button(this.getId()+'--'+'forwardActionButton',{icon:this._imgResourcePath+sap.uiext.inbox.InboxConstants.forwardTaskImage,text:this._oBundle.getText('INBOX_ACTION_BUTTON_FORWARD'),enabled:false,tooltip:this._oBundle.getText('INBOX_ACTION_BUTTON_FORWARD'),visible:false});f.attachPress({inbox:t,view:t.constants.tableView,action:'Forward'},t._executeForwardAction);a.addItem(f)}if(sap.ui.getCore().byId(this.getId()+'--'+'settingsButton')===undefined){var s=new sap.ui.commons.MenuButton(this.getId()+'--'+'settingsButton',{tooltip:this._oBundle.getText('INBOX_SETTINGS_BUTTON_TOOLTIP'),icon:this._imgResourcePath+sap.uiext.inbox.InboxConstants.settingsImage,iconHovered:this._imgResourcePath+sap.uiext.inbox.InboxConstants.settingsImageHover,iconSelected:this._imgResourcePath+sap.uiext.inbox.InboxConstants.settingsImageHover,lite:true});s.addStyleClass('sapUiExtInboxToolbarRight');var d=new sap.ui.commons.Menu(this.getId()+'--'+'inboxSettingsMenu',{tooltip:this._oBundle.getText('INBOX_SETTINGS_BUTTON_TOOLTIP')});var m=new sap.ui.commons.MenuItem(this.getId()+'--'+'manageSubstitutionMI',{text:this._oBundle.getText('INBOX_MANAGE_SUBSTITUTION_RULES_MENU_ITEM'),tooltip:this._oBundle.getText('INBOX_MANAGE_SUBSTITUTION_RULES_TOOLTIP')});d.addItem(m);s.setMenu(d);s.attachItemSelected(t,t.menuButtonActionEvent);a.addItem(s)}v.addContent(a);if(t._getComponent('listViewTable')===undefined){var T=new sap.ui.table.Table(t.getId()+'--'+'listViewTable');T.addStyleClass('sapUiExtInboxCustomTable');T.setThreshold(10000);T.setEditable(false);T.bDynamic=true;var e=t.constants.mEntities.taskMetadata.properties.length;var g=t.constants.mEntities.taskMetadata;for(var h=0;h<e;h++){if(h==t.constants.TABLE_COLUMN.TASK_TITLE){var F=t._getFirstColumnContentTemplate();var o=t._createTableColumn(h,'INBOX_TASK_TITLE_TOOLTIP',F);o.setWidth('330px');o.setFlexible(false);T.addColumn(o)}else if(h==t.constants.TABLE_COLUMN.CREATED_ON){var C=new sap.ui.commons.TextView({text:{formatter:t.dateFormat,path:g.properties[h]}});C.bindProperty('tooltip',g.properties[h],t.tooltipFormatForDateTime);var j=t._createTableColumn(h,'INBOX_START_DATE_TOOLTIP',C);j.setFlexible(true);T.addColumn(j)}else if(h==t.constants.TABLE_COLUMN.CREATED_BY){var k=new sap.ui.commons.TextView({text:{path:g.properties[h]}});k.bindProperty('tooltip',g.properties[h]);var l=t._createTableColumn(h,'INBOX_CREATED_BY_NAME_TOOLTIP',k);l.setFlexible(true);T.addColumn(l)}else if(h==t.constants.TABLE_COLUMN.COMPLETION_DEADLINE){var n=new sap.ui.commons.TextView({text:{formatter:t.dateFormat,path:g.properties[h]}});n.bindProperty('tooltip',g.properties[h],t.tooltipFormatForDateTime);var p=t._createTableColumn(h,'INBOX_DUE_DATE_TOOLTIP',n);p.setFlexible(true);T.addColumn(p)}else if(h==t.constants.TABLE_COLUMN.STATUS){var S=new sap.ui.commons.TextView();S.bindText({parts:[{path:'Status',type:new sap.ui.model.type.String()},{path:'StatusText',type:new sap.ui.model.type.String()}],formatter:function(i,w){return t._getTaskStatus(i,w)},useRawValues:true});var q=t._createTableColumn(h,'INBOX_STATUS_TOOLTIP',S);q.setFlexible(true);T.addColumn(q)}else if(h==t.constants.TABLE_COLUMN.PRIORITY){var P=new sap.ui.commons.TextView();P.bindProperty('text','Priority',function(i){if(i!=null&&i!=''&&i!=undefined){return t._oBundle.getText(t.constants.prioTooltip[i])}return''});var u=t._createTableColumn(h,'INBOX_PRIORITY_TOOLTIP',P);u.setFlexible(true);T.addColumn(u)}}var t=this;T.attachSort(function(E){t.resetSearchCriteria()});T.attachRowSelectionChange(function(E){var D=t.getCoreModel();var w=[],x=[];var y=[];var z=[];var A=this.getSelectedIndices();var L=this;var B=E.getParameters();var G={aSupportsClaim:[],aSupportsRelease:[],aSupportsForward:[]};jQuery.each(A,function(i,J){var K=L.getContextByIndex(J);w.push(D.getProperty('Status',K));var M=D.getProperty('TaskDefinitionID',K);var N=D.getProperty('SAP__Origin',K);if(jQuery.inArray(M,y)===-1){y.push(D.getProperty('TaskDefinitionID',K))}if(jQuery.inArray(N,x)===-1){x.push(N)}z.push(D.getProperty('InstanceID',K));G.aSupportsClaim.push(D.getProperty('SupportsClaim',K));G.aSupportsRelease.push(D.getProperty('SupportsRelease',K));if(t.isForwardActionEnabled){G.aSupportsForward.push(D.getProperty('SupportsForward',K))}});t.disableActionButtonsOnMultiStatus(w,G,x);if(t.isCustomActionsEnabled){if(B.rowIndex!==-1){t._deleteCustomActionsForTableView()}var H=t._isCompletedTasksSelected();if(y&&y.length===1&&!H){var I=t._getCustomActionsDefinition(z[0],y[0],x[0]);if(I&&I.length>0)t._createCustomActionsForTableView(I,true)}}t._handleForwardButtonVisibilityOnRowSelection(x)});T.clearSelection()}v.addContent(T);v.addContent(t.createTableRowSettingsContent());t.createRowRepeaterView()};\nsap.uiext.inbox.Inbox.prototype._createTableColumn=function(c,a,b){var i=this.constants.mEntities.taskMetadata;var t=new sap.ui.table.Column({id:this.getId()+'--'+i.properties[c]}).setLabel(new sap.ui.commons.Label({text:this._oBundle.getText(i.propertiesLabel[c]),tooltip:this._oBundle.getText(a),design:sap.ui.commons.LabelDesign.Bold})).setTemplate(b).setSortProperty(i.properties[c]);return t};\nsap.uiext.inbox.Inbox.prototype.createTableRowSettingsContent=function(){var t=this;var a=new sap.ui.commons.layout.MatrixLayout(t.getId()+'--'+'tableRowSettingLayoutContainer');var s=new sap.ui.commons.SegmentedButton({id:t.getId()+'--'+'tableRowSettingsSegBtn',buttons:[new sap.ui.commons.Button({id:t.getId()+'--'+'table10RowsSegBtn',lite:true,text:'10',tooltip:this._oBundle.getText('INBOX_SET_NUMBER_OF_ROWS_TO')+' '+this._oBundle.getText('INBOX_NUMBER_TEN')}).addStyleClass('sapUiExtInboxSegmentedButtonTransparent'),new sap.ui.commons.Button({id:t.getId()+'--'+'table25RowsSegBtn',lite:true,text:'25',tooltip:this._oBundle.getText('INBOX_SET_NUMBER_OF_ROWS_TO')+' '+this._oBundle.getText('INBOX_NUMBER_TWENTYFIVE')}).addStyleClass('sapUiExtInboxSegmentedButtonTransparent'),new sap.ui.commons.Button({id:t.getId()+'--'+'table50RowsSegBtn',lite:true,text:'50',tooltip:this._oBundle.getText('INBOX_SET_NUMBER_OF_ROWS_TO')+' '+this._oBundle.getText('INBOX_NUMBER_FIFTY')}).addStyleClass('sapUiExtInboxSegmentedButtonTransparent')]});s.attachSelect(function(e){var r=parseInt(sap.ui.getCore().byId(e.getParameters().selectedButtonId).getText());var B=this.getButtons();var S=e.getParameters().selectedButtonId;for(var i=0;i<B.length;i++){var o=B[i];if(S!==o.getId()){o.addStyleClass('sapUiExtInboxSegmentedButtonTransparent');o.removeStyleClass('sapUiExtInboxSegmentedButtonTransparentSelected')}else{o.removeStyleClass('sapUiExtInboxSegmentedButtonTransparent');o.addStyleClass('sapUiExtInboxSegmentedButtonTransparentSelected')}}t.setNoOfRowsOnTable(r)});s.setSelectedButton(t.getId()+'--'+'table10RowsSegBtn');sap.ui.getCore().byId(s.getSelectedButton()).addStyleClass('sapUiExtInboxSegmentedButtonTransparentSelected');var b=new sap.ui.commons.layout.BorderLayout(t.getId()+'--'+'tableBorderLayout',{width:'100%',height:'40px'});b.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.end,s);b.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.end,{size:'45%',contentAlign:'right',visible:true});a.createRow(new sap.ui.commons.TextView({text:' '}));a.createRow(b);return a};\nsap.uiext.inbox.Inbox.prototype.createRowRepeaterView=function(){var t=this;var v=sap.ui.getCore().byId(t.getId()+'--'+'verticalLayoutContainer');var T=sap.ui.getCore().byId(t.getId()+'--'+'tasksRowRepeater');if(!T){var r=new sap.ui.commons.layout.MatrixLayout({id:t.getId()+'--'+'rrMainMatrixLayout',layoutFixed:true,columns:3,width:'100%',widths:['9%','83%','8%']});var f=new sap.ui.commons.layout.MatrixLayoutRow({id:t.getId()+'--'+'rrFirstRow',height:'25px'});r.addRow(f);var a=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'taskInitiatorImageCell',rowSpan:2,colSpan:1,hAlign:sap.ui.commons.layout.HAlign.Center,vAlign:sap.ui.commons.layout.VAlign.Middle});a.addStyleClass('sapUiExtInboxRRFirstRowStyle');var b=new sap.ui.commons.Image(t.getId()+'--'+'taskInitiatorImg');b.bindProperty('tooltip','CreatedByName');b.setAlt(t._imgResourcePath+sap.uiext.inbox.InboxConstants.taskInitiatorDefaultImage);b.bindProperty('src',t.constants.taskDefinitionNavigationParam,function(F){if(F!==null&&F!==''&&F!==undefined){if(F!==null&&F!==''&&F!==undefined){var M=t.getCoreModel();var G=this.getBindingContext();var H=F.Category;H=H.toUpperCase();if(H!==null&&H!==''&&H!==undefined){if(H===t._oBundle.getText('ALERT'))return t._imgResourcePath+sap.uiext.inbox.InboxConstants.rrViewAlertCategoryImage;else if(H===t._oBundle.getText('NOTIFICATION'))return t._imgResourcePath+sap.uiext.inbox.InboxConstants.rrViewNotificationCategoryImage;else if(H===t._oBundle.getText('TODO'))return t._imgResourcePath+sap.uiext.inbox.InboxConstants.rrViewTodoCategoryImage;else if(H===t._oBundle.getText('TASK'))return t._imgResourcePath+sap.uiext.inbox.InboxConstants.taskInitiatorDefaultImage}}return t._imgResourcePath+sap.uiext.inbox.InboxConstants.taskInitiatorDefaultImage}});a.addContent(b);f.addCell(a);var c=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'taskTitleCell',padding:sap.ui.commons.layout.Padding.Bottom,hAlin:sap.ui.commons.layout.HAlign.Right});c.addStyleClass('sapUiExtInboxRRFirstRowStyle');var d=new sap.uiext.inbox.InboxLink(t.getId()+'--'+'rrViewTaskTitle');d.addStyleClass('sapUiExtInboxfontBold');d.addDelegate({onAfterRendering:function(){if(this.data('overDue')===true){this.addStyleClass('sapUiExtInboxRedColor')}}});d.bindProperty('text','TaskTitle',function(F){if(this.getBindingContext()===undefined)return undefined;else return F});d.bindProperty('overdue','CompletionDeadLine',function(F){return t._isOverDue(F)});d.bindProperty('tooltip','TaskTitle');d.bindProperty('enabled','Status',function(F){if(F==='COMMITTED'){this.addStyleClass('sapUiExtInboxLnkDsbl');return false}else if(t.getOpenCompletedTasks()===false&&F=='COMPLETED'){this.addStyleClass('sapUiExtInboxLnkDsbl');return false}this.removeStyleClass('sapUiExtInboxLnkDsbl');return true});d.attachPress(this,function(F,G){t.showBusyLoader();var R=F.getSource().getParent();var H=F.getSource().getBindingContext();var M=t.getCoreModel();var I=[];var J=[];var K=[];var L=[];J.push(M.getProperty('InstanceID',H));K.push(M.getProperty('TaskTitle',H));L.push(M.getProperty('SAP__Origin',H));if(t.getTaskExecutionURLCallBack!=''&&t.getTaskExecutionURLCallBack!=undefined&&t.getTaskExecutionURLCallBack!==null){I.push(t.getTaskExecutionURLCallBack(J[0],L[0]))}else{I.push('')}var N=F.getParameter('windowEvent');if(!N.ctrlKey&&!(N.button==1)&&!N.shiftKey){G.populateTaskExecutionContent({arrayURLs:I,arrayIDs:J,arrayTitles:K,aTaskSAPOrigins:L});t.hideBusyLoader()}else{t.hideBusyLoader();var O=window.open(I[0]);O.focus();F.preventDefault()}});c.addContent(d);f.addCell(c);var e=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'createdOnCell',padding:sap.ui.commons.layout.Padding.Both,hAlign:sap.ui.commons.layout.HAlign.End});e.addStyleClass('sapUiExtInboxRRFirstRowStyle');e.addStyleClass('sapUiExtInboxRRPaddingRight');var g=new sap.ui.commons.TextView(t.getId()+'--'+'rrViewCreatedOnDate');g.addStyleClass('sapUIExtInboxRRTextColourStyle');g.bindProperty('tooltip','CreatedOn',t.tooltipFormatForDateTime);g.bindProperty('text','CreatedOn',function(F){if(F!==null&&F!==''){return t.dateFormat(F,false)}});e.addContent(g);f.addCell(e);var s=new sap.ui.commons.layout.MatrixLayoutRow({id:t.getId()+'--'+'secondRow',height:'20px'});r.addRow(s);var h=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'taskDescCell',padding:sap.ui.commons.layout.Padding.End,rowSpan:1});var i=new sap.ui.commons.TextView(t.getId()+'--'+'rrViewTaskDetails');i.bindProperty('text','Description',function(F){if(F!==null&&F!==undefined){var M=t.getCoreModel();var G=this.getBindingContext();var H=F[0];var I=M.oData[H];var J;if(I){J=I.Description}else{J=F.Description}if(J!==null&&J!==undefined&&J!==''){return J}}return''});h.addContent(i);s.addCell(h);var j=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'statusCell',padding:sap.ui.commons.layout.Padding.End,hAlign:sap.ui.commons.layout.HAlign.End});j.addStyleClass('sapUiExtInboxRRPaddingRight');var k=new sap.ui.commons.TextView(t.getId()+'--'+'rrViewStatus');k.addStyleClass('sapUIExtInboxRRTextColourStyle');k.bindProperty('text','Status',function(F){var M=t.getModel();var G=M.getProperty(sap.uiext.inbox.InboxConstants.PROPERTY_NAME_CUSTOM_STATUS,this.getBindingContext(),false);return t._getTaskStatus(F,G)});j.addContent(k);s.addCell(j);var l=new sap.ui.commons.layout.MatrixLayoutRow({id:t.getId()+'--'+'thirdRow',height:'25px'});r.addRow(l);var m=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'taskInitiatorNameCell',hAlign:sap.ui.commons.layout.HAlign.Center,colSpan:1});var n=new sap.ui.commons.TextView(t.getId()+'--'+'taskInitiatorName',{design:sap.ui.commons.TextViewDesign.Small,wrapping:false,width:'90%'});n.setTextAlign(sap.ui.core.TextAlign.Center);n.setDesign(sap.ui.commons.TextViewDesign.Bold);n.bindProperty('text','CreatedByName');m.addContent(n);l.addCell(m);var o=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'actionLinksCell',padding:sap.ui.commons.layout.Padding.None,colSpan:1});var p=new sap.ui.commons.layout.MatrixLayout({id:t.getId()+'--'+'taskActionMatrixLayout',layoutFixed:false});var q=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'claimActionCell',hAlign:sap.ui.commons.layout.HAlign.Left,vAlign:sap.ui.commons.layout.VAlign.Bottom,colSpan:1});var u=new sap.ui.commons.Link(t.getId()+'--'+'rrViewClaimAction',{tooltip:t._oBundle.getText('INBOX_ACTION_BUTTON_CLAIM'),visible:false,enabled:false});u.addStyleClass('sapUiExtInboxLnkNoUnderline');var w=new sap.ui.commons.Label({id:t.getId()+'--'+'dotSeparator',text:sap.uiext.inbox.InboxConstants.DOT,visible:false});w.addStyleClass('sapUIExtInboxDotSeperatorStyle');u.setText(t._oBundle.getText('INBOX_ACTION_BUTTON_CLAIM'));u.attachPress({inbox:t,view:t.constants.rowRepeaterView,action:'Claim'},t.executeActionOnTask);q.addContent(u);var x=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'releaseActionCell',hAlign:sap.ui.commons.layout.HAlign.Left,vAlign:sap.ui.commons.layout.VAlign.Bottom,colSpan:1});var y=new sap.ui.commons.Link(t.getId()+'--'+'rrViewReleaseAction',{tooltip:t._oBundle.getText('INBOX_ACTION_BUTTON_RELEASE'),visible:false,enabled:false});y.addStyleClass('sapUiExtInboxLnkNoUnderline');y.setText(t._oBundle.getText('INBOX_ACTION_BUTTON_RELEASE'));y.attachPress({inbox:t,view:t.constants.rowRepeaterView,action:'Release'},t.executeActionOnTask);x.addContent(y);var z=new sap.ui.commons.Label({id:t.getId()+'--'+'dotSeparator2',visible:false,text:sap.uiext.inbox.InboxConstants.DOT});z.addStyleClass('sapUIExtInboxDotSeperatorStyle');var A=t._createForwardActionLinkCell();p.createRow(q,w,x,z,A);o.addContent(p);l.addCell(o);var B=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'segmentedButtonsCell',padding:sap.ui.commons.layout.Padding.None,hAlign:sap.ui.commons.layout.HAlign.End,colSpan:1});var C=t.createOtherActions(t);B.addContent(C);l.addCell(B);r.addStyleClass('sapUiExtInboxRowRepeaterLayoutBorder');var T=new sap.ui.commons.RowRepeater(t.getId()+'--'+'tasksRowRepeater',{numberOfRows:5});T.setThreshold(10000);T.setDesign(sap.ui.commons.RowRepeaterDesign.BareShell);T.addStyleClass('sapUiExtInboxBackgroundColour');T.addStyleClass('sapUiExtInboxRowRepeaterBorder')}var D=t.createRowRepeaterToolBar(t);D.setVisible(false);v.addContent(D);T.setVisible(false);v.addContent(T);var E=t.createRowRepeaterToolsContent(t);E.setVisible(false);v.addContent(E)};\nsap.uiext.inbox.Inbox.prototype.menuButtonActionEvent=function(e,i){var t=i;var a=e.getParameter('itemId');if(a===t.getId()+'--'+'rowSettingsMenuItem'){t.openToolPopUp(t)}else if(a===t.getId()+'--'+'manageSubstitutionMI'||a===t.getId()+'--'+'rrManageSubstitutionMI'){var s=sap.ui.getCore().byId(t.getId()+'--'+'substitutionRulesManager');if(s===undefined){s=new sap.uiext.inbox.SubstitutionRulesManager(t.getId()+'--'+'substitutionRulesManager');s.setParent(t)}if(s.getModel()===undefined){var n=new sap.ui.model.odata.ODataModel(t.bpmSvcUrl,true);var m=t.getCoreModel();n.oHeaders['x-csrf-token']=m.oHeaders['x-csrf-token'];s.setModel(n)}s.oTCMModel=t.oTCMModel;s.oConfiguration=t.oConfiguration;s.isSubstitutionRuleCreationSupported=t.isSubstitutionRuleCreationSupported;s.open()}};\nsap.uiext.inbox.Inbox.prototype.populateTaskExecutionContent=function(t){var a=this;this.showBusyLoader();var T='';if(this.getTaskExecutionURLThemeValue()!==undefined&&this.getTaskExecutionURLThemeValue()!==null&&this.getTaskExecutionURLCallBack===this.getDefaultTaskExecutionURLCallBack){T=this.getTaskExecutionURLThemeValue()}var e=sap.ui.getCore().byId(this.getId()+'--'+'taskExecUI');if(e!=undefined){e.destroy()}this.loadExecImages();this.deleteMessage();var i=0;var u,b,c,d,s,S;if(t===undefined||t===null)t=this.getnavigateTaskExecMetadata();if(t!=undefined){u=t.arrayURLs;b=t.arrayIDs;c=t.arrayTitles;s=t.aTaskSAPOrigins;S=t.aSelectedContexts}e=new sap.ui.ux3.OverlayContainer(this.getId()+'--'+'taskExecUI');e.setOpenButtonVisible(false);if(this.currentView===this.constants.tableView&&S){this.selectedContexts=S}e.attachClose(this,function(E,q){jQuery.sap.byId(a.getId()+'--'+'execURLFrame').attr('src','');q.resetSearchCriteria();q.applyFilterOnResponse(q.selectedContexts)});var n=new sap.ui.commons.Button(this.getId()+'--'+'nxtBtn',{tooltip:this._oBundle.getText('INBOX_BUTTON_NEXT_TOOLTIP')});n.addStyleClass('sapUiExtInboxNavigationButton');var f=new sap.ui.commons.layout.MatrixLayoutCell({id:this.getId()+'--'+'nxtBtnCell'});f.setVAlign(sap.ui.commons.layout.VAlign.Middle);f.addContent(n);var g=new sap.ui.commons.layout.MatrixLayout(this.getId()+'--'+'nxtBtnContainer',{layoutFixed:false,height:'100%'});g.createRow(f);var p=new sap.ui.commons.Button(this.getId()+'--'+'prevBtn',{tooltip:this._oBundle.getText('INBOX_BUTTON_PREVIOUS_TOOLTIP')});p.addStyleClass('sapUiExtInboxNavigationButton');var h=new sap.ui.commons.layout.MatrixLayoutCell({id:this.getId()+'--'+'prevBtnCell'});h.setVAlign(sap.ui.commons.layout.VAlign.Middle);h.addContent(p);var j=new sap.ui.commons.layout.MatrixLayout(this.getId()+'--'+'prevBtnContainer',{layoutFixed:false,height:'100%'});j.createRow(h);var l=new sap.ui.commons.Label(this.getId()+'--'+'traverseLabel');var k=new sap.ui.core.HTML(this.getId()+'--'+'execURLFrame',{content:\"<iframe name='myframe' src='\"+u[i]+T+\"' scrolling='auto' id = '\"+this.getId()+'--'+'execURLFrame'+\"' style='position: absolute;height: 100%;width: 100%; border: none;'></iframe>\"});var B=new sap.ui.commons.layout.BorderLayout(this.getId()+'--'+'taskExecBorderLayout',{width:'100%',height:'100%',top:new sap.ui.commons.layout.BorderLayoutArea({size:'20%',contentAlign:'center',visible:false,content:[new sap.ui.commons.TextView({text:'Task:'+c[i],design:sap.ui.commons.TextViewDesign.Bold})]}),bottom:new sap.ui.commons.layout.BorderLayoutArea({size:'4%',contentAlign:'center',visible:true,content:[l]}),begin:new sap.ui.commons.layout.BorderLayoutArea({size:'4%',contentAlign:'center',visible:true,content:[j]}),center:new sap.ui.commons.layout.BorderLayoutArea({contentAlign:'left',visible:true,content:[k]}),end:new sap.ui.commons.layout.BorderLayoutArea({size:'4%',contentAlign:'center',visible:true,content:[g]})});e.addContent(B);k.attachAfterRendering(function(){jQuery.sap.byId(a.getId()+'--'+'execURLFrame').bind('load',function(q){var r=b.length;if(i!==r-1)o.setEnabled(true);else o.setEnabled(false);if(i===0)m.setEnabled(false);else m.setEnabled(true);l.setText((i+1)+' '+a._oBundle.getText('INBOX_OF')+' '+b.length)})});var m=sap.ui.getCore().byId(this.getId()+'--'+'prevBtn');if(sap.ui.getCore().getConfiguration().getRTL()){m.setIcon(this._imgResourcePath+sap.uiext.inbox.InboxConstants.nxtBtnImage)}else{m.setIcon(this._imgResourcePath+sap.uiext.inbox.InboxConstants.prevBtnImage)}m.setEnabled(false);var o=sap.ui.getCore().byId(this.getId()+'--'+'nxtBtn');if(sap.ui.getCore().getConfiguration().getRTL()){o.setIcon(this._imgResourcePath+sap.uiext.inbox.InboxConstants.prevBtnImage)}else{o.setIcon(this._imgResourcePath+sap.uiext.inbox.InboxConstants.nxtBtnImage)}o.setEnabled(b.length>1);var l=sap.ui.getCore().byId(this.getId()+'--'+'traverseLabel');l.setText(i+1+' '+this._oBundle.getText('INBOX_OF')+' '+b.length);o.attachPress(function(){m.setEnabled(false);o.setEnabled(false);var q='';if(a.getTaskExecURLStatusCallBack!==''&&a.getTaskExecURLStatusCallBack!==undefined&&a.getTaskExecURLStatusCallBack!==null){q=a.getTaskExecURLStatusCallBack(b[i],s[i])}if(q==='COMPLETED'){u.splice(i,1);b.splice(i,1)}else{i=i+1}if(u[i]===undefined){u[i]='';if(a.getTaskExecutionURLCallBack!==''&&a.getTaskExecutionURLCallBack!==undefined&&a.getTaskExecutionURLCallBack!==null){u[i]=a.getTaskExecutionURLCallBack(b[i],s[i])}}jQuery.sap.byId(a.getId()+'--'+'execURLFrame').attr('src',u[i]+T)});m.attachPress(function(){m.setEnabled(false);o.setEnabled(false);var q='';if(a.getTaskExecURLStatusCallBack!==''&&a.getTaskExecURLStatusCallBack!==undefined&&a.getTaskExecURLStatusCallBack!==null){a.getTaskExecURLStatusCallBack(b[i],s[i])}if(q==='COMPLETED'){u.splice(i,1);b.splice(i,1)}i=i-1;if(u[i]===undefined){u[i]='';if(a.getTaskExecutionURLCallBack!==''&&a.getTaskExecutionURLCallBack!==undefined&&a.getTaskExecutionURLCallBack!==null){u[i]=a.getTaskExecutionURLCallBack(b[i],s[i])}}jQuery.sap.byId(a.getId()+'--'+'execURLFrame').attr('src',u[i]+T)});e.open()};\nsap.uiext.inbox.Inbox.prototype.createInboxUI=function(){var v=new sap.ui.commons.layout.VerticalLayout(this.getId()+'--'+'verticalLayoutContainer');if(sap.ui.getCore().byId(this.getId()+'--'+'msgBarContainer')===undefined){v.insertContent(this.populateMsgBar(),0)}if(sap.ui.getCore().byId(this.getId()+'--'+'toolbarContainer')===undefined){v.insertContent(this.populateToolBar(),1)}this.populateViews();return v};\nsap.uiext.inbox.Inbox.prototype.openToolPopUp=function(i){var t=i;var r;var n=sap.ui.getCore().byId(t.getId()+'--'+'rowSettingsRBG');;var s=sap.ui.getCore().byId(t.getId()+'--'+'sPopup');if(s===undefined){n=new sap.ui.commons.RadioButtonGroup(t.getId()+'--'+'rowSettingsRBG',{tooltip:'Select number of rows to be displayed on the Table',columns:3});var I=new sap.ui.core.Item({text:'10',key:'rows10'});n.addItem(I);I=new sap.ui.core.Item({text:'25',key:'rows25'});n.addItem(I);I=new sap.ui.core.Item({text:'50',key:'rows50'});n.addItem(I);s=new sap.ui.commons.Dialog(t.getId()+'--'+'sPopup',{title:i._oBundle.getText('INBOX_TABLE_SETTINGS_POPUP_TITLE'),content:[n],buttons:[new sap.ui.commons.Button({text:i._oBundle.getText('INBOX_BUTTON_OK_TEXT'),press:function(){t.setNoOfRowsOnTable(sap.ui.getCore().byId(t.getId()+'--'+'rowSettingsRBG').getSelectedItem().getText());s.close()}})]});s.setWidth('231px');s.setHeight('137px')}if(r===undefined){r=sap.ui.getCore().byId(t.getId()+'--'+'listViewTable').getVisibleRowCount()+''}if(r!=undefined&&n!=undefined){switch(r){case'10':n.setSelectedIndex(0);break;case'25':n.setSelectedIndex(1);break;case'50':n.setSelectedIndex(2);break}}s.open()};\nsap.uiext.inbox.Inbox.prototype.setSubstitutionEnabled=function(i,p){if(this.isSubstitutionEnabled!=i){this.isSubstitutionEnabled=i;this._substitutionPath=p;this.addAndRemoveSubstDropDowns()}};\nsap.uiext.inbox.Inbox.prototype._setColumnVisibility=function(c){if(c!==undefined&&c!==null){var t=this;var i=false;var a=sap.uiext.inbox.InboxConstants;var T=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable');var b=this.getInvisibleCols(c);var d=T.getColumns();jQuery.each(d,function(e,f){jQuery.each(b,function(e,g){if(t.absId(f.getId())===sap.uiext.inbox.InboxConstants.TABLE_VIEW_TECH_NAMES[g])f.setVisible(false)})});this.resizeColumns()}};\nsap.uiext.inbox.Inbox.prototype.absId=function(s){return s.split('--')[1].replace(/^\\s+|\\s+$/g,'')};\nsap.uiext.inbox.Inbox.prototype.getInvisibleCols=function(c){var i=[];jQuery.each(c.columns,function(a,b){if(b.visibility===false)i.push(b.field)});return i};\nsap.uiext.inbox.Inbox.prototype.getColumnVisibility=function(){return this.colList};\nsap.uiext.inbox.Inbox.prototype.getSubstitutionEnabled=function(){return this.isSubstitutionEnabled};\nsap.uiext.inbox.Inbox.prototype.clearDrillDownFilter=function(){this.resetFilterView(true)};\nsap.uiext.inbox.Inbox.prototype.getTaskTableBinding=function(){var l=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable');return l.getBinding('rows')};\nsap.uiext.inbox.Inbox.prototype.bindTaskExecutionURL=function(t,a){this.getTaskExecutionURLCallBack=t;this.getTaskExecURLStatusCallBack=a;return this};\nsap.uiext.inbox.Inbox.prototype.bindTaskTypeDynamicFilter=function(t){this.dynamicTaskTypeFilterCallBack=t;return this};\nsap.uiext.inbox.Inbox.prototype.bindSearch=function(s){this.searchCallBack=s;return this};\nsap.uiext.inbox.Inbox.prototype.bindSubstitutedUsers=function(p){var d=sap.ui.getCore().byId(this.getId()+'--'+'filterComboBox3');var o=sap.ui.getCore().byId(this.getId()+'--'+'onBehalfOfListItem');if(o===undefined){o=new sap.ui.core.ListItem(this.getId()+'--'+'onBehalfOfListItem')}o.setText(this._oBundle.getText('SUBSTITUTION_INBOX_FILTER_ON_BEHALF_OF'));o.setKey('onBehalfOf');o.setEnabled(false);var a=sap.ui.getCore().byId(this.getId()+'--'+'li_allUsers');if(a===undefined){a=new sap.ui.core.ListItem(this.getId()+'--'+'li_allUsers')}a.setText(this._oBundle.getText('INBOX_DROP_DOWN_VALUE_ALL_USERS'));a.setKey('allUsers');var I=p+'?$format=json&$skip=0&$top=100&$inlinecount=allpages';var r=this.bpmSvcUrl+I;var s='';var m=this.getCoreModel();var t=this;var b={async:false,requestUri:r,method:'GET',headers:{Accept:'application/json','x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(b,function(c,e){if(c.results.length>0){if(d.getEnabled()===false){d.setEnabled(true)}d.removeAllItems();d.addItem(o);d.addItem(a);for(var i=0;i<c.results.length;i++){s+=c.results[i].DisplayName;var l=new sap.ui.core.ListItem();l.setKey(c.results[i].UniqueName);l.setText(c.results[i].DisplayName);d.addItem(l)}}else{d.setEnabled(false)}},function(e){if(e.response.statusCode==205){var c={statusCode:e.response.statusCode,statusText:e.response.statusText};m.fireRequestFailed(c)}else{t.showMessage('error',t._oBundle.getText('INBOX_MSG_ERR_EXUI')+this.id)}})};\nsap.uiext.inbox.Inbox.prototype.bindTaskTable=function(p,t){var i=new sap.uiext.inbox.InboxFilters();var I=new sap.uiext.inbox.InboxSecondaryFilters();i.setSecondaryFilter(t);this.bindTasks(p,i)};\nsap.uiext.inbox.Inbox.prototype.bindTasks=function(p,f,s){var P,S,t;if(f){P=f.getPrimaryFilter();S=f.getSecondaryFilter()};this.modelRefreshed=true;this.oModel=this.getModel();this._handleTaskCategoryVisibility();this._setCommentsVisibility();this._initFlagsByModel();if(this.typeOfModel==='OData'){this.oModel.refreshSecurityToken()}if(this.getHandleBindings()){if(this.typeOfModel==='OData'){this.bpmSvcUrl=this.oModel.sServiceUrl}}this.sCollectionPath=p;if(!(/^\\//).test(this.sCollectionPath))this.sCollectionPath='/'+this.sCollectionPath;this.oModel.attachRequestSent(this,function(E,k){k._handleRequestSent(E)});this.oModel.attachRequestCompleted(this,function(E,k){k._handleRequestCompleted(E)});this.oModel.attachRequestFailed(this,function(E,k){k._handleRequestFailed(E)});var m=this.oModel;if(this.typeOfModel==='OData'){var o=m.getServiceMetadata();if(m.sServiceUrl&&o){this.oTcmMetadata.setServiceMetadata(o)}}var a=this._initTableView();this._bindTaskActions();var T=this._initRowRepeaterView();var r=this._getComponent('rrMainMatrixLayout');var i=s?s:new sap.ui.model.Sorter('CreatedOn',true);this._applySortOnView(i);this._selectInitialValueinDropDown(P);this.resetFilterView(false);if(this.defaultView===this.constants.rowRepeaterView){var v=sap.ui.getCore().byId(this.getId()+'--'+'viewSelectionSegBtn');if(v!==undefined){var b=this.getId()+'--'+'rrViewSelectionButton';v.setSelectedButton(b);var c=sap.ui.getCore().byId(this.getId()+'--'+'rrViewSelectionButton');v.fireSelect({selectedButtonId:b,triggeredFrom:'initialView'})}}var d=sap.ui.getCore().byId(this.getId()+'--'+'filterViewButton');var $=d.$();var F=[],e;var D=new sap.ui.model.Filter('Status',sap.ui.model.FilterOperator.NE,'COMPLETED');var I=this.filtersToApply.dropDownFilter;if(I===undefined){I=D}if(S!=null){var g=S.getFilterObjects();e=g.filterOperatorMap;var h=e?!d.getPressed():d.getPressed();if(h){if(!$.is(':visible')){this.toggleFilterView(null,this)}d.setPressed(!d.getPressed());if(d.getPressed()&&$.is(':visible')){d.firePress()}}if(e){this.filtersToApply=g.filtersAppliedMap;F=this._selectFilterValuesinFacetFilterView(S,e,I)}else{F=this._addFilterToFilterMetadata(I,F);this.filtersToApply.dropDownFilter=I}if(this.defaultView===this.constants.rowRepeaterView){var j=this._getExpandParameters();if(j.length>0){T.bindRows({path:this.sCollectionPath,template:r,parameters:{expand:j},sorter:i,filters:F})}else{T.bindRows({path:this.sCollectionPath,template:r,sorter:i,filters:F})}}var j=this._getExpandParameters();if(j.length>0){a.bindRows({path:this.sCollectionPath,parameters:{expand:j},sorter:i,filters:F})}else{a.bindRows(this.sCollectionPath,i,F)}}else{if(d.getPressed()){d.setPressed(!d.getPressed());d.firePress()}this.filtersToApply.dropDownFilter=I;F=this._addFilterToFilterMetadata(I,F);if(this.defaultView===this.constants.rowRepeaterView){var j=this._getExpandParameters();if(j.length>0){T.bindRows({path:this.sCollectionPath,template:r,parameters:{expand:j},sorter:i,filters:F})}else{T.bindRows({path:this.sCollectionPath,template:r,sorter:i,filters:F})}}var j=this._getExpandParameters();if(j.length>0){a.bindRows({path:this.sCollectionPath,parameters:{expand:j},sorter:i,filters:F})}else{a.bindRows(this.sCollectionPath,i,F)}}return this};\nsap.uiext.inbox.Inbox.prototype.localSearch=function(oEvent,inBox){if(inBox.searchCallBack!==''&&inBox.searchCallBack!==undefined){inBox.searchCallBack();return}var oModel=inBox.getCoreModel();var srchText=jQuery.trim(oEvent.getParameter('query').toLowerCase());var srchRes=0;var valueExists=0;var oBindingInfo,currentViewElement;var currentViewElement=inBox._currentViewElement();if(inBox.modelRefreshed){oModel._original_data=oModel.oData;inBox.modelRefreshed=false}if(!currentViewElement._originalKeys)currentViewElement._originalKeys=currentViewElement.getBinding('rows').aKeys;var result={};var keys=[];var oSearchIn=oModel._original_data;for(var j in oModel._original_data){var val=oModel._original_data[j];var valuePresent=false;var fieldValue;var taskMetadataProperty;for(var l in currentViewElement._originalKeys){if(j==currentViewElement._originalKeys[l]){for(var k=0;k<sap.uiext.inbox.InboxConstants.mEntities.taskMetadata.properties.length;k++){taskMetadataProperty=sap.uiext.inbox.InboxConstants.mEntities.taskMetadata.properties[k];var fieldValue=eval('val.'+taskMetadataProperty);if(!fieldValue&&taskMetadataProperty==='TaskTitle'){fieldValue=inBox._oBundle.getText('INBOX_TASK_TITLE_NOTAVAILABLE_MSG')}if(fieldValue!=null){if(jQuery.type(fieldValue)==='date'){fieldValue=(inBox.dateFormat(fieldValue))}if(taskMetadataProperty==='Priority'||taskMetadataProperty==='Status'){fieldValue=fieldValue.replace('_',' ');if(fieldValue=='VERY HIGH')fieldValue=inBox._oBundle.getText('INBOX_FILTER_PRIORITY_VERY_HIGH');if(fieldValue=='HIGH')fieldValue=inBox._oBundle.getText('INBOX_FILTER_PRIORITY_HIGH');if(fieldValue=='MEDIUM')fieldValue=inBox._oBundle.getText('INBOX_FILTER_PRIORITY_MEDIUM');if(fieldValue=='LOW')fieldValue=inBox._oBundle.getText('INBOX_FILTER_PRIORITY_LOW');if(fieldValue=='READY')fieldValue=inBox._oBundle.getText('INBOX_FILTER_STATUS_READY');if(fieldValue=='RESERVED')fieldValue=inBox._oBundle.getText('INBOX_FILTER_STATUS_RESERVED');if(fieldValue=='IN PROGRESS')fieldValue=inBox._oBundle.getText('INBOX_FILTER_STATUS_IN_PROGRESS')}fieldValue=fieldValue.toLowerCase();if(fieldValue.indexOf(srchText)>=0)valuePresent=true}}var descEntry,descDataEntry;if(!valuePresent){if(val.Description){var oDescription=val.Description;valuePresent=inBox._getValuePresent(oModel.oData,oDescription,sap.uiext.inbox.InboxConstants.NAVIGATION_DESCRIPTION,srchText)}}var defEntry,defData;if(!valuePresent){if(val.TaskDefinitionData){var oTaskDefinitionData=val.TaskDefinitionData;valuePresent=inBox._getValuePresent(oModel.oData,oTaskDefinitionData,sap.uiext.inbox.InboxConstants.NAVIGATION_TASKDEFINITION,srchText)}}if(!valuePresent){if(val.CustomAttributeData){var aCustomAttributeKeys=val.CustomAttributeData.__list;if(aCustomAttributeKeys!==undefined){for(var i=0;i<aCustomAttributeKeys.length;i++){var customAttributeKey=aCustomAttributeKeys[i];var fieldValue=oSearchIn[customAttributeKey].Value;if(fieldValue!=null||fieldValue!=undefined){fieldValue=fieldValue.toLowerCase();if(fieldValue.indexOf(srchText)>=0)valuePresent=true}}}}}if(valuePresent){var key=String(keys.length);result[key]=val;keys.push(key);if(val.Description){var oDescription=val.Description;if(oDescription&&oDescription.__list instanceof Array){descEntry=oDescription.__list[0];descDataEntry=oModel.oData[descEntry];if(descDataEntry)result[descEntry]=descDataEntry}else{var oDescriptionObject=oDescription.__ref;if(oDescription&&oDescriptionObject){descDataEntry=oModel.oData[oDescriptionObject];if(descDataEntry)result[oDescriptionObject]=descDataEntry}}}if(val.TaskDefinitionData){var oTaskDefinitionData=val.TaskDefinitionData;if(oTaskDefinitionData&&oTaskDefinitionData.__list instanceof Array){defEntry=val.TaskDefinitionData.__list[0];defData=oModel.oData[defEntry];if(defData)result[defEntry]=defData}else{var oDefinitionObject=oTaskDefinitionData.__ref;if(oTaskDefinitionData&&oDefinitionObject){defData=oModel.oData[oDefinitionObject];if(defData)result[oDefinitionObject]=defData}}}}}}}oModel.oData=result;oBindingInfo=currentViewElement.mBindingInfos['rows'];if(oBindingInfo&&oBindingInfo.binding){oBindingInfo.binding.iLength=keys.length;oBindingInfo.binding.aKeys=keys;inBox.currentView===inBox.constants.tableView?currentViewElement.rerender():currentViewElement.updateRows(false)}var iResultLength=currentViewElement.getBinding('rows').iLength;inBox._updatePaginator(iResultLength);if(iResultLength<=0)inBox.showMessage('info',inBox._oBundle.getText('INBOX_MSG_FOR_NO_DATA'));else inBox.deleteMessage();inBox.fireODataRequestCompleted({bindingLength:iResultLength,appliedFilter:inBox._oBundle.getText('INBOX_SEARCH_RESULTS_TEXT')})};\nsap.uiext.inbox.Inbox.prototype.applyFilterOnResponse=function(s,r){var m=this.getCoreModel();var t=this;this.showBusyLoader();var l;var c;if(t.currentView===t.constants.tableView){c=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable');if(c!==undefined){if(s!=undefined&&s!=null){t.selectedContexts=s}else{t.selectedContexts=[]}l=c.getBinding('rows')}}else if(this.currentView===t.constants.rowRepeaterView){c=sap.ui.getCore().byId(this.getId()+'--'+'tasksRowRepeater');if(c!==undefined){c.gotoPage(1);var a=this._getComponent('rowRepeaterPaginator');if(a){a.destroy()}l=c.getBinding('rows')}}var f=[];if(l!=null&&l!=undefined){for(var i in t.filtersToApply){var b=t.filtersToApply[i];if(jQuery.isArray(b)){f=f.concat(b)}else f.push(b)}if(this.currentView===t.constants.rowRepeaterView&&r){var S=l.oSorter;var R=t._getComponent('sortByFilterComboBox');var d=R.getSelectedItemId();if(d){var e=t.constants.mRRSortMap[t._removeParentID(d)];S=e?t._getComponent(e).getSorter():S}var T=t._getComponent('rrMainMatrixLayout');var g=t._getExpandParameters();if(g.length>0){c.bindRows({path:t.sCollectionPath,template:T,parameters:{expand:g},sorter:S,filters:f})}else{c.bindRows({path:t.sCollectionPath,template:T,sorter:S,filters:f})}}else{l.filter(f,sap.ui.model.FilterType.Control)}}t.modelRefreshed=true;if(l){c._originalKeys=l.aKeys}this.hideBusyLoader()};\nsap.uiext.inbox.Inbox.prototype.refreshTaskList=function(e,a){a.bRefreshStartFlag=true;if(!a.getHandleBindings()){a.fireRefresh(e)}else{}var m=a.getCoreModel();var t=sap.ui.getCore().byId(a.getId()+'--'+'listViewTable');var r=sap.ui.getCore().byId(a.getId()+'--'+'tasksRowRepeater');var l;var b;var s=a.getlistTableSelectedIndices();var c=[];jQuery.each(s,function(i,o){b=t.getContextByIndex(o);c.push(b)});var d;if(a.currentView===sap.uiext.inbox.InboxConstants.tableView){d=t}else if(a.currentView===sap.uiext.inbox.InboxConstants.rowRepeaterView){d=r}if(d!=undefined){if(c!=undefined&&c!=null){a.selectedContexts=c}else{a.selectedContexts=[]}l=d.getBinding('rows');var f=[];if(l!=null&&l!=undefined){for(var g in a.filtersToApply){var h=a.filtersToApply[g];if(jQuery.isArray(h)){f=f.concat(h)}else f.push(h)}l.filter(f,sap.ui.model.FilterType.Control)}}a.modelRefreshed=true;d._originalKeys=d.getBinding('rows').aKeys;a.resetSearchCriteria();var j=sap.ui.getCore().byId(a.getId()+'--'+'filterComboBox3');if(j!=undefined&&j.getEnabled()===true){a.bindSubstitutedUsers('/SubstitutedUsersCollection')}var k=sap.ui.getCore().byId(a.getId()+'--'+'refreshOnText');if(k){a.lastRefreshedOnDateTime=new Date();var n=a._getFormattedRefreshOnDateTime();k.setText(a._oBundle.getText('INBOX_TEXT_ON')+sap.uiext.inbox.InboxConstants.SPACE+n);k.setTooltip(a._getFormattedTooltipForLastRefreshedTime())}};\nsap.uiext.inbox.Inbox.prototype.applyDropDownFilter1=function(e,i){var l=e.getSource().getSelectedItemId();if(l===i.getId()+'--'+'li_substitutedTasks'){sap.ui.getCore().byId(i.getId()+'--'+'filterComboBox3').setEnabled(false);i.filtersToApply.dropDownFilter1=new sap.ui.model.Filter('IsSubstituted',sap.ui.model.FilterOperator.EQ,true);i.bindSubstitutedUsers('/SubstitutedUsersCollection');sap.ui.getCore().byId(i.getId()+'--'+'onBehalfOfListItem').setEnabled(false)}else{sap.ui.getCore().byId(i.getId()+'--'+'onBehalfOfListItem').setEnabled(true);sap.ui.getCore().byId(i.getId()+'--'+'filterComboBox3').setSelectedItemId(i.getId()+'--'+'onBehalfOfListItem');sap.ui.getCore().byId(i.getId()+'--'+'filterComboBox3').setEnabled(false);delete i.filtersToApply.dropDownFilter3;if(l===i.getId()+'--'+'li_allTasks'){delete i.filtersToApply.dropDownFilter1}else if(l===i.getId()+'--'+'li_myTasks'){i.filtersToApply.dropDownFilter1=new sap.ui.model.Filter('IsSubstituted',sap.ui.model.FilterOperator.EQ,false)}}i.applyFilterOnResponse(null)};\nsap.uiext.inbox.Inbox.prototype.applyDropDownFilter3=function(e,i){var l=e.getSource().getSelectedItemId();if(l===i.getId()+'--'+'li_allUsers'){delete i.filtersToApply.dropDownFilter3}else{i.filtersToApply.dropDownFilter3=new sap.ui.model.Filter('SubstitutedUser',sap.ui.model.FilterOperator.EQ,sap.ui.getCore().byId(i.getId()+'--'+'filterComboBox3').getSelectedKey())}i.applyFilterOnResponse(null)};\nsap.uiext.inbox.Inbox.prototype.applyDropDownFilter=function(e,i){var a=false;var l=e.getSource().getSelectedItemId();var s=sap.ui.getCore().byId(i.getId()+'--'+'INBOX_FILTER_STATUS');var f=sap.ui.getCore().byId(i.getId()+'--'+'INBOX_FILTER_CREATION_DATE');var F=sap.ui.getCore().byId(i.getId()+'--'+'INBOX_FILTER_DUE_DATETIME');var o=sap.ui.getCore().byId(i.getId()+'--'+'filterFacet');i.resetSearchCriteria();if(l===i.getId()+'--'+'li_completedTasks'){a=true;i._deleteCustomActions();if(s!==undefined){s.setSelectedKeys(['sapUiFacetFilter_ALL']);o.removeList(s)}if(f!==undefined){f.setSelectedKeys(['sapUiFacetFilter_ALL']);o.removeList(f)}if(F!==undefined){F.setSelectedKeys(['sapUiFacetFilter_ALL']);o.removeList(F)}delete i.filtersToApply.resStat;delete i.filtersToApply.readyStat;delete i.filtersToApply.InProStat;delete i.filtersToApply.neCompleted;delete i.filtersToApply.today;delete i.filtersToApply.last30;delete i.filtersToApply.last15;delete i.filtersToApply.last7;i.clearFiltersForDueDate();i.filtersToApply.dropDownFilter=[new sap.ui.model.Filter('Status',sap.ui.model.FilterOperator.EQ,'COMPLETED')]}if(l===i.getId()+'--'+'li_openTasks'){if(s!=undefined){o.addList(s)}if(f!=undefined&&o.indexOfList(f)===-1){o.addList(f)}if(F!==undefined&&o.indexOfList(F)===-1){o.addList(F)}delete i.filtersToApply.neCompleted;if((i.filtersToApply.resStat===undefined)&&(i.filtersToApply.readyStat===undefined)&&(i.filtersToApply.InProStat===undefined)){i.filtersToApply.dropDownFilter=new sap.ui.model.Filter('Status',sap.ui.model.FilterOperator.NE,'COMPLETED')}else{delete i.filtersToApply.dropDownFilter}}if(l===i.getId()+'--'+'li_overdueTasks'){if(s!=undefined){o.addList(s)}if(f!=undefined&&o.indexOfList(f)!==-1){f.setSelectedKeys(['sapUiFacetFilter_ALL']);o.removeList(f)}if(F!==undefined&&o.indexOfList(F)!==-1){F.setSelectedKeys(['sapUiFacetFilter_ALL']);o.removeList(F)}i.clearFiltersForDueDate();delete i.filtersToApply.today;delete i.filtersToApply.last30;delete i.filtersToApply.last15;delete i.filtersToApply.last7;var b=i.getFormattedDateTimeOff(0,true);i.filtersToApply.dropDownFilter=new sap.ui.model.Filter('CompletionDeadLine',sap.ui.model.FilterOperator.LT,b.toUTCString());if((i.filtersToApply.resStat===undefined)&&(i.filtersToApply.readyStat===undefined)&&(i.filtersToApply.InProStat===undefined)&&(i.filtersToApply.neCompleted===undefined)){i.filtersToApply.neCompleted=new sap.ui.model.Filter('Status',sap.ui.model.FilterOperator.NE,'COMPLETED')}}if(l===i.getId()+'--'+'li_escalatedTasks'){if(s!=undefined){o.addList(s)}if(f!=undefined&&o.indexOfList(f)!=-1){f.setSelectedKeys(['sapUiFacetFilter_ALL']);o.removeList(f)}i.clearFiltersForDueDate();delete i.filtersToApply.today;delete i.filtersToApply.last30;delete i.filtersToApply.last15;delete i.filtersToApply.last7;i.filtersToApply.dropDownFilter=new sap.ui.model.Filter('IsEscalated',sap.ui.model.FilterOperator.EQ,true);if((i.filtersToApply.resStat===undefined)&&(i.filtersToApply.readyStat===undefined)&&(i.filtersToApply.InProStat===undefined)&&(i.filtersToApply.neCompleted===undefined)){i.filtersToApply.neCompleted=new sap.ui.model.Filter('Status',sap.ui.model.FilterOperator.NE,'COMPLETED')}}if(a==true){i.hideAllActionButtonsandLinks()}else{i.showAllActionButtonsandLinks()}var t=i._isDrillDownFilterSelected('TaskDefinitionID');i._deleteCustomActions(null);if(!a&&t){i.applyFilterOnResponse(null,true)}else{i.applyFilterOnResponse(null)}};\nsap.uiext.inbox.Inbox.prototype.clearFiltersForPriority=function(){delete this.filtersToApply.lowPrio;delete this.filtersToApply.medPrio;delete this.filtersToApply.hiPrio;delete this.filtersToApply.veryhiPrio};\nsap.uiext.inbox.Inbox.prototype.clearFiltersForStatus=function(){delete this.filtersToApply.resStat;delete this.filtersToApply.readyStat;delete this.filtersToApply.InProStat;delete this.filtersToApply.neCompleted;if(this.filtersToApply.dropDownFilter!=undefined){if((this.filtersToApply['dropDownFilter'].sPath==='Status')&&(this.filtersToApply['dropDownFilter'].sOperator==='NE')){delete this.filtersToApply.dropDownFilter}}};\nsap.uiext.inbox.Inbox.prototype.clearFiltersForDueDate=function(){delete this.filtersToApply.dueDateToday;delete this.filtersToApply.dueDatenext30;delete this.filtersToApply.dueDatenext15;delete this.filtersToApply.dueDatenext7};\nsap.uiext.inbox.Inbox.prototype.clearFiltersForDateTime=function(){delete this.filtersToApply.today;delete this.filtersToApply.last30;delete this.filtersToApply.last15;delete this.filtersToApply.last7};\nsap.uiext.inbox.Inbox.prototype.clearFiltersForTaskType=function(){for(var i in this.filtersToApply){if(this.filtersToApply[i].sPath==='TaskDefinitionID'){delete this.filtersToApply[i]}}};\nsap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForPriority=function(e,a){var f,b,c,d;var g=e.getParameter('selectedItems');a.resetSearchCriteria();a.clearFiltersForPriority();for(var i=0;i<g.length;i++){switch(g[i].getId()){case a.getId()+'--'+'INBOX_FILTER_PRIORITY_LOW':if(this.filterOperatorPrioLow===undefined)f=a.inboxUtils._getPriorityFilters('LOW',a.sProviderHost);a.filtersToApply['lowPrio']=f;break;case a.getId()+'--'+'INBOX_FILTER_PRIORITY_MEDIUM':if(b===undefined)b=a.inboxUtils._getPriorityFilters('MEDIUM',a.sProviderHost);a.filtersToApply['medPrio']=b;break;case a.getId()+'--'+'INBOX_FILTER_PRIORITY_HIGH':if(c===undefined)c=a.inboxUtils._getPriorityFilters('HIGH',a.sProviderHost);a.filtersToApply['hiPrio']=c;break;case a.getId()+'--'+'INBOX_FILTER_PRIORITY_VERY_HIGH':if(d===undefined)d=a.inboxUtils._getPriorityFilters('VERY_HIGH',a.sProviderHost);a.filtersToApply['veryhiPrio']=d;break}}a.applyFilterOnResponse(null)};\nsap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForStatus=function(e,a){var f,b,c,d;a.resetSearchCriteria();a.clearFiltersForStatus();if(e.getParameter('all')){d=new sap.ui.model.Filter('Status',sap.ui.model.FilterOperator.NE,'COMPLETED');a.filtersToApply['neCompleted']=d}else{var g=e.getParameter('selectedItems');for(var i=0;i<g.length;i++){switch(g[i].getId()){case a.getId()+'--'+'INBOX_FILTER_STATUS_RESERVED':if(f===undefined)f=a.inboxUtils._getStatusFilters('RESERVED',a.sProviderHost);a.filtersToApply['resStat']=f;break;case a.getId()+'--'+'INBOX_FILTER_STATUS_READY':if(b===undefined)b=a.inboxUtils._getStatusFilters('READY',a.sProviderHost);a.filtersToApply['readyStat']=b;break;case a.getId()+'--'+'INBOX_FILTER_STATUS_IN_PROGRESS':if(c===undefined)c=a.inboxUtils._getStatusFilters('IN_PROGRESS',a.sProviderHost);a.filtersToApply['InProStat']=c;break}}}a.applyFilterOnResponse(null)};\nsap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForDateTime=function(e,a){var f,b,c,d;var t=sap.ui.getCore().byId(a.getId()+'--'+'INBOX_FILTER_DATETIME_TODAY');var l=sap.ui.getCore().byId(a.getId()+'--'+'INBOX_FILTER_DATETIME_MONTH');var g=sap.ui.getCore().byId(a.getId()+'--'+'INBOX_FILTER_DATETIME_15DAYS');var h=sap.ui.getCore().byId(a.getId()+'--'+'INBOX_FILTER_DATETIME_WEEK');var j=e.getParameter('selectedItems');a.resetSearchCriteria();a.clearFiltersForDateTime();var k=sap.ui.getCore().byId(a.getId()+'--'+'filterComboBox2');var m=false;if(k.getSelectedItemId()===a.getId()+'--'+'li_completedTasks'){m=true}for(var i=0;i<j.length;i++){switch(j[i].getId()){case a.getId()+'--'+'INBOX_FILTER_DATETIME_TODAY':var n=a.getFormattedDateTimeOff(0,false);if(f===undefined){f=new sap.ui.model.Filter('CreatedOn',sap.ui.model.FilterOperator.GE,n.toUTCString())}a.filtersToApply['today']=f;delete a.filtersToApply.last30;delete a.filtersToApply.last15;delete a.filtersToApply.last7;break;case a.getId()+'--'+'INBOX_FILTER_DATETIME_MONTH':var n=a.getFormattedDateTimeOff(30,false);if(b===undefined){b=new sap.ui.model.Filter('CreatedOn',sap.ui.model.FilterOperator.GE,n.toUTCString())}a.filtersToApply['last30']=b;delete a.filtersToApply.today;delete a.filtersToApply.last15;delete a.filtersToApply.last7;break;case a.getId()+'--'+'INBOX_FILTER_DATETIME_15DAYS':var n=a.getFormattedDateTimeOff(15,false);if(c===undefined){c=new sap.ui.model.Filter('CreatedOn',sap.ui.model.FilterOperator.GE,n.toUTCString())}a.filtersToApply['last15']=c;delete a.filtersToApply.today;delete a.filtersToApply.last30;delete a.filtersToApply.last7;break;case a.getId()+'--'+'INBOX_FILTER_DATETIME_WEEK':var n=a.getFormattedDateTimeOff(7,false);if(d===undefined){d=new sap.ui.model.Filter('CreatedOn',sap.ui.model.FilterOperator.GE,n.toUTCString())}a.filtersToApply['last7']=d;delete a.filtersToApply.today;delete a.filtersToApply.last30;delete a.filtersToApply.last15;break}}a.applyFilterOnResponse(null)};\nsap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForTaskType=function(e,a){var c=a.constants;a.resetSearchCriteria();a.clearFiltersForTaskType();var b=(a.typeOfModel==='OData');if(b&&a.currentView===a.constants.tableView){a._clearCustomAttributeSort()}if(!e.getParameter('all')){var d=e.getParameter('selectedItems');a.bRefreshTaskTypes=false;if(b){a._createCustomAttributes(d);a._createCustomActions(d)}for(var i=0;i<d.length;i++){a.filtersToApply[d[i].getKey()]=new sap.ui.model.Filter('TaskDefinitionID',sap.ui.model.FilterOperator.EQ,decodeURIComponent(d[i].getKey()))}}else{if(a.isCustomActionsEnabled===true&&b){a._deleteCustomActions(null)}if(a.isCustomAttributesEnabled===true&&b){a._deleteCustomAttributeColumns(null);a._modifyListBindingForExpand(false,c.customAttributeNavigationParam)}}var r=(a.currentView===a.constants.rowRepeaterView)?true:false;a.applyFilterOnResponse(null,r)};\nsap.uiext.inbox.Inbox.prototype._getCustomAttributeMetaData=function(t,s){var a=this;var c=this.constants;var T=c.TaskDefinitionCollection;var C=c.oTaskDefinitionCustomAttributesMap;var b=C[t];if(!b){var u=c.forwardSlash+T.entityName+'('+T.properties.taskDefnID+\"='\"+t+\"',\"+c.sapOrigin+\"='\"+s+\"')\"+c.forwardSlash+T.navParam.customAttrDefn;var r=this.bpmSvcUrl+u;b=[];var m=this.getCoreModel();var R={async:false,requestUri:r,method:'GET',headers:{Accept:c.acceptHeaderforJSON,'x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(R,function(d,e){var f=d.results;for(var i=0;i<f.length;i++){var o={};o.Name=f[i].Name;o.Type=f[i].Type;o.Label=f[i].Label;b.push(o)}C[t]=b},function(e){a.showMessage('error',this._oBundle.getText('INBOX_MSG_ACTION_FAILED'))})}return b};\nsap.uiext.inbox.Inbox.prototype._getCustomAttributeData=function(t,s){var a=this;var c=this.constants;var T=c.TaskCollection;var C=c.oTaskInstanceCustomAttributeValuesMap;var o=C[t];if(!o){var u=c.forwardSlash+T.entityName+'('+T.properties.instanceID+\"='\"+t+\"',\"+c.sapOrigin+\"='\"+s+\"')\"+c.forwardSlash+T.navParam.customAttrValues;var r=this.bpmSvcUrl+u;var o={};var m=this.getCoreModel();var R={async:false,requestUri:r,method:'GET',headers:{Accept:c.acceptHeaderforJSON,'x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(R,function(d,b){var e=d.results;for(var i=0;i<e.length;i++){o[e[i].Name]=e[i].Value;C[t]=o}},function(e){a.showMessage('error',this._oBundle.getText('INBOX_MSG_ACTION_FAILED'))})}return o};\nsap.uiext.inbox.Inbox.prototype._createCustomAttributeColumns=function(c){var t=this;var T=this._getComponent('listViewTable');var m=this.getCoreModel();var a=0;var N='name';for(var i=0;i<c.length;i++){var C=this._getComponent(t.inboxUtils.scrub(c[i].Name));var b=sap.ui.core.TextAlign.Left;var d=c[i].Type;if(d)if(jQuery.inArray(d.replace('class ',''),sap.uiext.inbox.InboxConstants.rightAlignedTypes)!=-1)b=sap.ui.core.TextAlign.Right;if(!C){T.insertColumn(new sap.ui.table.Column({id:t.getId()+'--'+t.inboxUtils.scrub(c[i].Name)}).data('customAttrName',c[i].Name).setLabel(new sap.ui.commons.Label({text:c[i].Label,tooltip:c[i].Label,design:sap.ui.commons.LabelDesign.Bold})).setTemplate(new sap.ui.commons.TextView({id:t.getId()+'--'+t.inboxUtils.scrub(c[i].Name)+'textView'}).data(N,c[i].Name).bindProperty('text','CustomAttributeData',function(v){var p=t.sCollectionPath.replace(/^\\//,'')+\"('\"+this.data(N)+\"')\";var r='';if(v!==undefined&&v!==''&&v!==null){for(var i=0;i<v.length;i++){var o=m.oData[v[i]]===undefined?m._original_data[v[i]]:m.oData[v[i]];if(o.Name===this.data(N)){r=o.Value;break}}}return r}).setTextAlign(b)).setFlexible(true).bindProperty('sortProperty','CustomAttributeData',function(v){return'CustomAttributeData/'+this.data('customAttrName')}),i+1)}else{if(T.indexOfColumn(C)===-1){var l=C.getLabel();if(l.getText()!==c[i].Label){l.setText(c[i].Label)}T.insertColumn(C,i+1)}}}this.resizeColumns()};\nsap.uiext.inbox.Inbox.prototype._createCustomAttributeLayout=function(c){var t=this;var T=this._getComponent('listViewTable');var m=this.getCoreModel();var a=0;for(var i=0;i<c.length;i++){var C=this._getComponent(t.inboxUtils.scrub(c[i].Name));if(!C){T.insertColumn(new sap.ui.table.Column({id:t.getId()+'--'+t.inboxUtils.scrub(c[i].Name)}).data('customAttrName',c[i].Name).setLabel(new sap.ui.commons.Label({text:c[i].Label,design:sap.ui.commons.LabelDesign.Bold})).setTemplate(new sap.ui.commons.TextField({name:c[i].Name,editable:false}).bindProperty('value','CustomAttributeData',function(v){var p=t.sCollectionPath.replace(/^\\//,'')+\"('\"+this.getName()+\"')\";var r='';if(v!==undefined&&v!==''&&v!==null){for(var i=0;i<v.length;i++){var o=m.oData[v[i]]===undefined?m._original_data[v[i]]:m.oData[v[i]];if(o.Name===this.getName()){r=o.Value}}}return r})).setFlexible(true).bindProperty('sortProperty','CustomAttributeData',function(v){return'CustomAttributeData/'+this.data('customAttrName')}),i+1)}else{if(T.indexOfColumn(C)===-1){var l=C.getLabel();if(l.getText()!==c[i].Label){l.setText(c[i].Label)}T.insertColumn(C,i+1)}}}};\nsap.uiext.inbox.Inbox.prototype._deleteCustomAttributeColumns=function(c){var t=this._getComponent('listViewTable');var T=t.getColumns();for(var i=0;i<T.length;i++){var C=T[i];if(jQuery.inArray(this._removeParentID(C.getId()),sap.uiext.inbox.InboxConstants.mEntities.taskMetadata.properties)===-1){t.removeColumn(C);C.destroy()}}};\nsap.uiext.inbox.Inbox.prototype.applyDrillDownFilterForDueDate=function(e,a){var f,b,c,d,g;var t=sap.ui.getCore().byId(a.getId()+'--'+'INBOX_FILTER_DUE_DATETIME_TODAY');var n=sap.ui.getCore().byId(a.getId()+'--'+'INBOX_FILTER_DUE_DATETIME_MONTH');var h=sap.ui.getCore().byId(a.getId()+'--'+'INBOX_FILTER_DUE_DATETIME_15DAYS');var j=sap.ui.getCore().byId(a.getId()+'--'+'INBOX_FILTER_DUE_DATETIME_WEEK');a.resetSearchCriteria();a.clearFiltersForDueDate();if(!e.getParameter('all')){var k=e.getParameter('selectedItems');var l=a.getFormattedDateTimeOff(0);for(var i=0;i<k.length;i++){switch(k[i].getId()){case a.getId()+'--'+'INBOX_FILTER_DUE_DATETIME_TODAY':var m=a.getFormattedDueDateTimeOff(1);if(f===undefined){f=new sap.ui.model.odata.Filter('CompletionDeadLine',[{operator:sap.ui.model.FilterOperator.LE,value1:m.toUTCString()},{operator:sap.ui.model.FilterOperator.GE,value1:l.toUTCString()}],true)}a.filtersToApply['dueDateToday']=f;delete a.filtersToApply.next30;delete a.filtersToApply.next15;delete a.filtersToApply.next7;break;case a.getId()+'--'+'INBOX_FILTER_DUE_DATETIME_MONTH':var m=a.getFormattedDueDateTimeOff(30);if(b===undefined){b=new sap.ui.model.odata.Filter('CompletionDeadLine',[{operator:sap.ui.model.FilterOperator.LE,value1:m.toUTCString()},{operator:sap.ui.model.FilterOperator.GE,value1:l.toUTCString()}],true)}a.filtersToApply['dueDatenext30']=b;delete a.filtersToApply.dueDateToday;delete a.filtersToApply.next15;delete a.filtersToApply.next7;break;case a.getId()+'--'+'INBOX_FILTER_DUE_DATETIME_15DAYS':var m=a.getFormattedDueDateTimeOff(15);if(c===undefined){c=new sap.ui.model.odata.Filter('CompletionDeadLine',[{operator:sap.ui.model.FilterOperator.LE,value1:m.toUTCString()},{operator:sap.ui.model.FilterOperator.GE,value1:l.toUTCString()}],true)}a.filtersToApply['dueDatenext15']=c;delete a.filtersToApply.dueDateToday;delete a.filtersToApply.next30;delete a.filtersToApply.next7;break;case a.getId()+'--'+'INBOX_FILTER_DUE_DATETIME_WEEK':var m=a.getFormattedDueDateTimeOff(7);if(d===undefined){d=new sap.ui.model.odata.Filter('CompletionDeadLine',[{operator:sap.ui.model.FilterOperator.LE,value1:m.toUTCString()},{operator:sap.ui.model.FilterOperator.GE,value1:l.toUTCString()}],true)}a.filtersToApply['dueDatenext7']=d;delete a.filtersToApply.dueDateToday;delete a.filtersToApply.next30;delete a.filtersToApply.next15;break}}}a.applyFilterOnResponse(null)};\nsap.uiext.inbox.Inbox.prototype._getSelectedContextsBeforeRequest=function(){return this.selectedContexts};\nsap.uiext.inbox.Inbox.prototype.showAllActions=function(){var c=sap.ui.getCore().byId(this.getId()+'--'+'claimActionButton');var r=sap.ui.getCore().byId(this.getId()+'--'+'releaseActionButton');var a=sap.ui.getCore().byId(this.getId()+'--'+'openActionButton');var f=sap.ui.getCore().byId(this.getId()+'--'+'forwardActionButton');var b=sap.ui.getCore().byId(this.getId()+'--'+'rrViewClaimAction');var d=sap.ui.getCore().byId(this.getId()+'--'+'rrViewReleaseAction');var e=sap.ui.getCore().byId(this.getId()+'--'+'rrViewForwardAction');var g=sap.ui.getCore().byId(this.getId()+'--'+'dotSeparator');var h=sap.ui.getCore().byId(this.getId()+'--'+'dotSeparator2');a.setVisible(true);c.setVisible(true);r.setVisible(true);f.setVisible(true);b.setVisible(true);d.setVisible(true);e.setVisible(true);g.setVisible(true);h.setVisible(true)};\nsap.uiext.inbox.Inbox.prototype.hideAllActionButtonsandLinks=function(){var c=sap.ui.getCore().byId(this.getId()+'--'+'claimActionButton');var r=sap.ui.getCore().byId(this.getId()+'--'+'releaseActionButton');var a=sap.ui.getCore().byId(this.getId()+'--'+'openActionButton');var f=sap.ui.getCore().byId(this.getId()+'--'+'forwardActionButton');var b=sap.ui.getCore().byId(this.getId()+'--'+'rrViewClaimAction');var d=sap.ui.getCore().byId(this.getId()+'--'+'rrViewReleaseAction');var e=sap.ui.getCore().byId(this.getId()+'--'+'rrViewForwardAction');var g=sap.ui.getCore().byId(this.getId()+'--'+'dotSeparator');var h=sap.ui.getCore().byId(this.getId()+'--'+'dotSeparator2');if(this.getOpenCompletedTasks()==false){a.setVisible(false)}c.setVisible(false);r.setVisible(false);f.setVisible(false);b.setVisible(false);d.setVisible(false);e.setVisible(false);g.setVisible(false);h.setVisible(false)};\nsap.uiext.inbox.Inbox.prototype.showAllActionButtonsandLinks=function(){var c=sap.ui.getCore().byId(this.getId()+'--'+'claimActionButton');var r=sap.ui.getCore().byId(this.getId()+'--'+'releaseActionButton');var a=sap.ui.getCore().byId(this.getId()+'--'+'openActionButton');var f=sap.ui.getCore().byId(this.getId()+'--'+'forwardActionButton');var b=sap.ui.getCore().byId(this.getId()+'--'+'rrViewClaimAction');var d=sap.ui.getCore().byId(this.getId()+'--'+'rrViewReleaseAction');var e=sap.ui.getCore().byId(this.getId()+'--'+'rrViewForwardAction');var g=sap.ui.getCore().byId(this.getId()+'--'+'dotSeparator');var h=sap.ui.getCore().byId(this.getId()+'--'+'dotSeparator2');if(this.typeOfModel==='OData'){a.setVisible(true);if(this.oTcmMetadata._isSupportsClaim()){c.setVisible(true);b.setVisible(true);g.setVisible(true)}if(this.oTcmMetadata._isSupportsClaim()){r.setVisible(true);d.setVisible(true);h.setVisible(true)}if(this.oTcmMetadata._isSupportsForward()&&this.isForwardActionEnabled){f.setVisible(true);e.setVisible(true)}}else{this.showAllActions()}};\nsap.uiext.inbox.Inbox.prototype._handleActionButtonsEnable=function(s){if((s.length>0)&&!(jQuery.inArray(false,s)>-1)){return true}else{return false}};\nsap.uiext.inbox.Inbox.prototype.disableActionButtonsOnMultiStatus=function(s,a){var c=sap.ui.getCore().byId(this.getId()+'--'+'claimActionButton');var r=sap.ui.getCore().byId(this.getId()+'--'+'releaseActionButton');var f=sap.ui.getCore().byId(this.getId()+'--'+'forwardActionButton');var b=sap.ui.getCore().byId(this.getId()+'--'+'openActionButton');var C=this._isCompletedTasksSelected();var g=this.getOpenCompletedTasks();var S=a.aSupportsClaim;var d=a.aSupportsForward;var e=a.aSupportsRelease;if(!g&&C){b.setVisible(false)}else{b.setVisible(true)}if(s.length>0&&!jQuery.inArray('COMPLETED',s)>-1){b.setEnabled(true)}else{if(this.getOpenCompletedTasks()==true){b.setEnabled(true)}else{b.setEnabled(false)}}c.setEnabled(this._handleActionButtonsEnable(S));r.setEnabled(this._handleActionButtonsEnable(e));f.setEnabled(this._handleActionButtonsEnable(d))};\nsap.uiext.inbox.Inbox.prototype.dateFormat=function(d,D){if(d!=undefined&&typeof(d)=='string'&&d!=''){var a;if(d.indexOf('Date')!=-1){a=new Date();a.setTime(d.substring((d.indexOf('(')+1),d.indexOf(')')))}else{a=new Date(d.substring((d.indexOf(\"'\")+1),d.length-1))}d=a}if(d!=undefined&&d!=''){var i=sap.ui.core.format.DateFormat.getDateInstance({style:'medium'});if(D!==undefined&&D===false){i=sap.ui.core.format.DateFormat.getDateInstance({pattern:'MMM dd',style:'medium'})}return i.format(d)}return''};\nsap.uiext.inbox.Inbox.prototype.tooltipFormatForDateTime=function(d){if(d!=undefined&&typeof(d)=='string'&&d!=''){var a;if(d.indexOf('Date')!=-1){a=new Date();a.setTime(d.substring((d.indexOf('(')+1),d.indexOf(')')))}else{a=new Date(d.substring((d.indexOf(\"'\")+1),d.length-1))}d=a}if(d!=undefined&&d!=''){var i=sap.ui.core.format.DateFormat.getDateTimeInstance({style:'full'});return i.format(d)}return''};\nsap.uiext.inbox.Inbox.prototype.executeActionOnTask=function(e,a){var b=a.inbox;var v=a.view;var c=a.action;var r=sap.ui.getCore().byId(b.getId()+'--'+'rowRepeaterPaginator');var d=(c===b.constants.FORWARD)?true:false;var f=d?a.forwardTo:'';b.showBusyLoader();var l,g,m;var s=[],h=[],j=[],k=[];var n=[];var o=\"'\",p=\"'\",q=\"'\";var t,u;b.resetSearchCriteria();m=b.getCoreModel();if(v===b.constants.tableView){l=sap.ui.getCore().byId(b.getId()+'--'+'listViewTable');if(e.getSource())var w=b.getlistTableSelectedIndices();jQuery.each(w,function(i,B){g=l.getContextByIndex(B);h.push(g);t=m.getProperty('InstanceID',g);u=m.getProperty('SAP__Origin',g);s.push(t);j.push(u);if(i==0){o=o+t;p=p+u;if(d){q=q+f}}else{o=o+';'+t;p=p+';'+u;if(d){q=q+';'+f}}});o=o+\"'\";p=p+\"'\";if(d){q=\"'\"+f+\"'\"}}else if(v===b.constants.rowRepeaterView){var C=e.getSource().getBindingContext();t=m.getProperty('InstanceID',C);u=m.getProperty('SAP__Origin',C);s.push(t);j.push(u);o=o+t+\"'\";p=p+u+\"'\";if(d){q=\"'\"+f+\"'\"}}if(s!=null||s.length>0){var I,x,y,z;if(c==='Complete'){c='Complete'}if(c==='Claim'){c='Claim'}if(c==='Release'){c='Release'}if(d){c='Forward'}var A=e.getParameters();A.action=c;A.selectedIDs=o;A.selectedSAPOrigins=p;A.selectedIDList=s;A.selectedSAPOriginList=j;if(d){A.selectedForwardToUsers=q}b.fireTaskAction(A);b.applyFilterOnResponse(h)}b.resetMessages=false};\nsap.uiext.inbox.Inbox.prototype.defaultActionHandler=function(e,a){var c=a.constants;var b=e.getParameter('action');var d=e.getParameter('selectedIDs');var I,r,f,s;var g=e.getParameter('selectedSAPOrigins');var m=a.getCoreModel();var h=e.getParameter('selectedIDList');var k=e.getParameter('selectedSAPOriginList');var l=e.getParameter('commentsList');var n=(b===a.constants.FORWARD)?true:false;var o=function(j){a.showMessage('error',a._oBundle.getText('INBOX_MSG_ACTION_FAILED'))};var p=h.length;if((p>1)&&a.isBatchOperationSupported){var B,P,q=[];for(var i=0;i<p;i++){P=b+c.query+\"InstanceID='\"+h[i]+\"'\"+c.amperSand+c.sapOrigin+\"'\"+k[i]+\"'\";if(l&&l.length>0){P=P+\"&Comments='\"+l[i]+\"'\"}if(n){P=P+'&ForwardTo='+e.getParameter('selectedForwardToUsers')}B=m.createBatchOperation(P,a.httpMethodForAction);m.addBatchChangeOperations([B])}m.submitBatch(function(t,u){var v=t.__batchResponses;var i,j,C,w;var x=0;for(i=0,w=v.length;i<w;i++){var y=v[i].__changeResponses;if(y){for(j=0,C=y.length;j<C;j++){var z=y[j];x=!(z.statusCode>=200&&z.statusCode<=202)?x+1:x}}}if(x>0){a.showMessage('error',x+' '+a._oBundle.getText('INBOX_MSG_ACTION_FAILED'))}else{a.showMessage('success',a._oBundle.getText('INBOX_MSG_ACTION_SUCCESS'))}},o,false)}else{I='/'+b+'?InstanceID='+d+'&SAP__Origin='+g+'&$format=json';if(n){I=I+'&ForwardTo='+e.getParameter('selectedForwardToUsers')}r=a.bpmSvcUrl+I;f={async:false,requestUri:r,method:a.httpMethodForAction,headers:{Accept:'application/json','x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(f,function(j,t){a.showMessage('success',a._oBundle.getText('INBOX_MSG_ACTION_SUCCESS'))},o)}};\nsap.uiext.inbox.Inbox.prototype.fillAttributes=function(){var a=this;var f=sap.ui.getCore().byId(this.getId()+'--'+'filterFacet');if(f!=undefined){var t=sap.uiext.inbox.InboxConstants.aFilterMetaData[0].attributes;var b=f.getLists()[0];if(b===undefined||b===null)return;var c=b.getItems();jQuery.each(c,function(i,d){var e=a.inboxUtils.inArray(d.getKey(),t);if(d.getKey()!='sapUiFacetFilter_ALL'){if(e===-1){b.removeItem(d)}else{t.splice(e,1)}}});if(t.length>0){jQuery.each(t,function(i,d){var e=a.inboxUtils.scrub(d.key);var A=sap.ui.getCore().byId(a.getId()+'--'+e);if(A===undefined)A=new sap.ui.core.ListItem(a.getId()+'--'+e,{text:d.value,key:d.key}).data('InstanceID',d.instanceID).data('SAP__Origin',d.sap__Origin);b.addItem(A)})}}};\nsap.uiext.inbox.Inbox.prototype.resetFilterView=function(c){var a;if(this.filtersToApply.dropDownFilter){a=this.filtersToApply.dropDownFilter}else if(this.filtersToApply.resStat!=undefined||this.filtersToApply.readyStat!=undefined||this.filtersToApply.InProStat!=undefined){a=new sap.ui.model.Filter('Status',sap.ui.model.FilterOperator.NE,'COMPLETED')}this.filtersToApply={};if(a!=undefined){this.filtersToApply.dropDownFilter=a}for(var i=0;i<sap.uiext.inbox.InboxConstants.aFilterMetaData.length;i++){var b=sap.ui.getCore().byId(this.getId()+'--'+sap.uiext.inbox.InboxConstants.aFilterMetaData[i].name);if(b!=undefined)b.setSelectedKeys(['sapUiFacetFilter_ALL'])}if(c)this.applyFilterOnResponse(null)};\nsap.uiext.inbox.Inbox.prototype.getlistTableSelectedIndices=function(){var l=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable');return l.getSelectedIndices()};\nsap.uiext.inbox.Inbox.prototype.getCoreModel=function(){return sap.ui.getCore().byId(this.getId()+'--'+'listViewTable').getModel()};\nsap.uiext.inbox.Inbox.prototype.getnavigateTaskExecMetadata=function(){var l=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable');var t=[];var a=[];var b=[];var T=[];var s=[];var c=this.getlistTableSelectedIndices();var m=this.getCoreModel();jQuery.each(c,function(i,d){var r=l.getContextByIndex(d);s.push(r);a.push(m.getProperty('InstanceID',r));b.push(m.getProperty('TaskTitle',r));T.push(m.getProperty('SAP__Origin',r))});if(this.getTaskExecutionURLCallBack!=''&&this.getTaskExecutionURLCallBack!=undefined&&this.getTaskExecutionURLCallBack!==null){t.push(this.getTaskExecutionURLCallBack(a[0],T[0]))}else{t.push('')}return{aSelectedContexts:s,arrayURLs:t,arrayIDs:a,arrayTitles:b,aTaskSAPOrigins:T}};\nsap.uiext.inbox.Inbox.prototype.getlistTableSelectedContexts=function(){var s=[];var a=this.getlistTableSelectedIndices();var l=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable');jQuery.each(a,function(i,b){s.push(l.getContextByIndex(b))});return s};\nsap.uiext.inbox.Inbox.prototype.showBusyLoader=function(){sap.ui.core.BusyIndicator.show(0);var b=jQuery.sap.byId('busy_loader');b.css('position','absolute');b.css('top','50%');b.css('left','50%');b.css('display','');b.show();b.css('z-index',99)};\nsap.uiext.inbox.Inbox.prototype.hideBusyLoader=function(){sap.ui.core.BusyIndicator.hide();var b=jQuery.sap.byId('busy_loader');b.css('display','none');b.css('z-index',-1)};\nsap.uiext.inbox.Inbox.prototype.resetSearchCriteria=function(){var s=sap.ui.getCore().byId(this.getId()+'--'+'searchField');s.setValue('')};\nsap.uiext.inbox.Inbox.prototype.loadExecImages=function(){var r=this._imgResourcePath+sap.uiext.inbox.InboxConstants.prevBtnImage;var a=this._imgResourcePath+sap.uiext.inbox.InboxConstants.nxtBtnImage;jQuery.ajax({url:r,type:'GET',async:true,success:function(d,t,X){},error:function(X,t,e){}});jQuery.ajax({url:a,type:'GET',async:true,success:function(d,t,X){},error:function(X,t,e){}})};\nsap.uiext.inbox.Inbox.prototype.setNoOfRowsOnTable=function(v){var t=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable');if(t!=undefined)t.setVisibleRowCount(parseInt(v,10))};\nsap.uiext.inbox.Inbox.prototype.showMessage=function(m,a){var b=sap.ui.getCore().byId(this.getId()+'--'+'msgBarContainer');if(b!=undefined){b.setVisible(true);var c=this._getComponent('msbBarTextView');c.setText(a);var d=this._getComponent('msbBarTypeImg');d.setSrc(this._imgResourcePath+sap.uiext.inbox.InboxConstants.messageTypeIcons[m]);d.setTooltip(this._oBundle.getText(sap.uiext.inbox.InboxConstants.messageTypeToolTip[m]))}};\nsap.uiext.inbox.Inbox.prototype.deleteMessage=function(e,i){if(i===undefined)i=this;var m=sap.ui.getCore().byId(i.getId()+'--'+'msgBarContainer');if(m!=undefined){m.setVisible(false);sap.ui.getCore().byId(i.getId()+'--'+'msbBarTextView').setText('');sap.ui.getCore().byId(i.getId()+'--'+'msbBarTypeImg').setSrc('')}};\nsap.uiext.inbox.Inbox.prototype.getFormattedDateTimeOff=function(s,i){var m=new Date();m.setDate(m.getDate()-s);if(!i){m.setHours(0);m.setSeconds(0);m.setMinutes(m.getTimezoneOffset())}return m};\nsap.uiext.inbox.Inbox.prototype.getFormattedDueDateTimeOff=function(s){var m=new Date();m.setDate(m.getDate()+s);m.setHours(0);m.setSeconds(0);m.setMinutes(m.getTimezoneOffset());return m};\nsap.uiext.inbox.Inbox.prototype.refreshTaskTypes=function(){if(this.dynamicTaskTypeFilterCallBack!=''&&this.dynamicTaskTypeFilterCallBack!==undefined){sap.uiext.inbox.InboxConstants.aFilterMetaData[0].attributes=this.dynamicTaskTypeFilterCallBack();this.fillAttributes();return}var t=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable');var T=[];var m={};var v;if(this.getHandleBindings()){var c=this._currentViewElement().getBinding('rows').getContexts();var M=this.getCoreModel();jQuery.each(c,function(i,C){v={'key':M.getProperty('TaskDefinitionID',C),'value':M.getProperty('TaskDefinitionName',C),'instanceID':M.getProperty('InstanceID',C),'sap__Origin':M.getProperty('SAP__Origin',C)};if(!m[v.key]){m[v.key]=true;T.push(v)}})}else{var l=this._currentViewElement().getBinding('rows');if(l&&l.oList){jQuery.each(l.oList,function(i,e){v={'key':e.TaskDefinitionID,'value':e.TaskDefinitionName};if(!m[v.key]){m[v.key]=true;T.push(v)}})}}if(T.length>0){sap.uiext.inbox.InboxConstants.aFilterMetaData[0].attributes=T;this.fillAttributes()}};\nsap.uiext.inbox.Inbox.prototype.onAfterRendering=function(){var t=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable').$();t.find('a:disabled').addClass('sapUiExtInboxLnkDsbl')};\nsap.uiext.inbox.Inbox.prototype._getComponent=function(c){return sap.ui.getCore().byId(this.getId()+'--'+c)};\nsap.uiext.inbox.Inbox.prototype._removeParentID=function(c){var p=this.getId();return c.replace(this.getId()+'--','')};\nsap.uiext.inbox.Inbox.prototype.populateViewButtonsContainer=function(v){var l=new sap.ui.commons.layout.MatrixLayoutCell({id:this.getId()+'--'+'segmentedButtonCell'});var s=new sap.ui.commons.SegmentedButton({id:this.getId()+'--'+'viewSelectionSegBtn',buttons:[new sap.ui.commons.Button({id:this.getId()+'--'+'tableViewSelectionButton',lite:true,icon:this._imgResourcePath+sap.uiext.inbox.InboxConstants.tableViewImageSelected,iconHovered:this._imgResourcePath+sap.uiext.inbox.InboxConstants.tableViewImageSelected,iconSelected:this._imgResourcePath+sap.uiext.inbox.InboxConstants.tableViewImageSelected,tooltip:this._oBundle.getText('INBOX_LIST_VIEW_TOOLTIP')}).addStyleClass('sapUiExtInboxSegmentedButtonTransparentSelected'),new sap.ui.commons.Button({id:this.getId()+'--'+'rrViewSelectionButton',lite:true,icon:this._imgResourcePath+sap.uiext.inbox.InboxConstants.rrViewImageUnselected,iconHovered:this._imgResourcePath+sap.uiext.inbox.InboxConstants.rrViewImageSelected,iconSelected:this._imgResourcePath+sap.uiext.inbox.InboxConstants.rrViewImageSelected,tooltip:this._oBundle.getText('INBOX_STREAM_VIEW_TOOLTIP')}).addStyleClass('sapUiExtInboxSegmentedButtonViewSelection')]});s.setSelectedButton(this.getId()+'--'+'tableViewSelectionButton');s.attachSelect(this,this.switchViews);s.addStyleClass('sapUiExtInboxToolBarContainerHeight');l.addContent(s);l.setPadding(sap.ui.commons.layout.Padding.None);v.createRow(l)};\nsap.uiext.inbox.Inbox.prototype.updateStylingOnSwitchingView=function(b,e){var B=e.getSource().getButtons();var o;for(var i=0;i<B.length;i++){o=B[i];if(b.getId()!=o.getId()){o.addStyleClass('sapUiExtInboxSegmentedButtonViewSelection');o.removeStyleClass('sapUiExtInboxSegmentedButtonTransparentSelected')}else{o.removeStyleClass('sapUiExtInboxSegmentedButtonViewSelection');o.addStyleClass('sapUiExtInboxSegmentedButtonTransparentSelected')}}};\nsap.uiext.inbox.Inbox.prototype.switchViews=function(e,i){var t=i;var b=sap.ui.getCore().byId(e.getSource().getSelectedButton());var a=t.getId()+'--'+'tableViewSelectionButton';var r=t.getId()+'--'+'rrViewSelectionButton';var c=sap.ui.getCore().byId(t.getId()+'--'+'listViewTable');var d=sap.ui.getCore().byId(t.getId()+'--'+'tableRowSettingLayoutContainer');var T=sap.ui.getCore().byId(t.getId()+'--'+'tasksRowRepeater');var v=sap.ui.getCore().byId(t.getId()+'--'+'verticalLayoutContainer');var f=sap.ui.getCore().byId(t.getId()+'--'+'actionButtonsToolbarContainer');var g=sap.ui.getCore().byId(t.getId()+'--'+'rrToolbar');var h=sap.ui.getCore().byId(t.getId()+'--'+'rowRepeaterToolsMatLayout');var k=sap.ui.getCore().byId(t.getId()+'--'+'rowRepeaterPaginator');var l=t._currentViewElement();var m=l.getBinding('rows');var n=false,u=true,s;var S=t.oModel instanceof sap.ui.model.json.JSONModel;t.updateStylingOnSwitchingView(b,e);if(m&&m.sFilterParams&&m.sFilterParams.indexOf('TaskDefinitionID')!==-1){n=true;var o=t._getComponent('INBOX_FILTER_TASK_TYPE');s=o.getSelectedKeys()}if(b.getId()===a){t.currentView=t.constants.tableView;b.setIcon(t._imgResourcePath+t.constants.tableViewImageSelected);var p=sap.ui.getCore().byId(r);p.setIcon(t._imgResourcePath+sap.uiext.inbox.InboxConstants.rrViewImageUnselected);f.setVisible(true);c.setVisible(true);g.setVisible(false);T.setVisible(false);h.setVisible(false);d.setVisible(true);if(n&&s&&s.length===1){var I=o.getItems();var q=s[0];var w=[];for(var j=0;j<I.length;j++){if(q===I[j].getKey()){w.push(I[j]);break}}t._createCustomAttributes(w)}}if(b.getId()===r){t.currentView=t.constants.rowRepeaterView;b.setIcon(t._imgResourcePath+sap.uiext.inbox.InboxConstants.rrViewImageSelected);var x=sap.ui.getCore().byId(a);x.setIcon(t._imgResourcePath+sap.uiext.inbox.InboxConstants.tableViewImageUnselected);if(t.isCustomAttributesEnabled){var y=t._getComponent('customAttributesSegBtn');if(y&&!y.getVisible()){y.setVisible(true)}}f.setVisible(false);c.setVisible(false);d.setVisible(false);if(T.getModel()===undefined||T.getModel()===null){T.setModel(t.getModel())}g.setVisible(true);T.setVisible(true);h.setVisible(true);if(T.getBinding('rows')){var z=T.getBinding('rows').iLength;t._updatePaginator(z)}else{if(e.getParameters().triggeredFrom===undefined){var R=t._getComponent('rrMainMatrixLayout');var A=new sap.ui.model.Sorter('CreatedOn',true);var B=t._getExpandParameters();var C=t._getFilterArray();if(t.isCustomActionsEnabled){t._deleteCustomActions();var D=t._isCompletedTasksSelected();if(!D&&n){if(s&&s.length===1){var I=o.getItems();var q=s[0];var E;for(var j=0;j<I.length;j++){if(q===I[j].getKey()){E=I[j].data('SAP__Origin');break}}var F=t._getCustomActionsDefinition(null,s[0],E);if(F&&F.length>0)t._createCustomActionButtons(F,false)}}}if(B.length>0){T.bindRows({path:t.sCollectionPath,template:R,parameters:{expand:B},sorter:A,filters:C})}else{T.bindRows({path:t.sCollectionPath,template:R,sorter:A,filters:C})}u=false;if(S){var G=T.getBinding('rows').iLength;t._updatePaginator(G)}}}}if(u){if(t.isCustomActionsEnabled){t._deleteCustomActions();var D=t._isCompletedTasksSelected();if(!D&&n){if(s&&s.length===1){var I=o.getItems();var q=s[0];var E;for(var j=0;j<I.length;j++){if(q===I[j].getKey()){E=I[j].data('SAP__Origin');break}}var F=t._getCustomActionsDefinition(null,s[0],E);if(F&&F.length>0)t._createCustomActionButtons(F,false)}t.applyFilterOnResponse(null,true)}else{t.applyFilterOnResponse(null)}}else{if(e.getParameters().triggeredFrom===undefined){if(S&&(t.currentView===t.constants.rowRepeaterView)){t.applyFilterOnResponse(null,true)}else{t.applyFilterOnResponse(null)}}}}};\nsap.uiext.inbox.Inbox.prototype.createOtherActions=function(i){var t=i;var a=new sap.ui.commons.ToggleButton({id:t.getId()+'--'+'attachmentsSegBtn',visible:false,lite:true,icon:t._imgResourcePath+sap.uiext.inbox.InboxConstants.attachmentsImage,tooltip:this._oBundle.getText('INBOX_SHOW_ATTACHMENTS')});var c=new sap.ui.commons.ToggleButton({id:t.getId()+'--'+'commentsSegBtn',visible:false,lite:true,icon:t._imgResourcePath+sap.uiext.inbox.InboxConstants.commentsImage,tooltip:this._oBundle.getText('INBOX_SHOW_COMMENTS')});var b=new sap.ui.commons.ToggleButton({id:t.getId()+'--'+'customAttributesSegBtn',enabled:true,lite:true,visible:false,tooltip:this._oBundle.getText('INBOX_SHOW_CUSTOM_ATTRIBUTES'),icon:t._imgResourcePath+sap.uiext.inbox.InboxConstants.customAttributesImage});var r=new sap.ui.commons.layout.MatrixLayout(t.getId()+'--'+'rrOtherActionsMatLay',{layoutFixed:false,columns:3,width:'30%'});r.createRow(a,c,b);b.attachPress(this,function(e,t){t._handleActionButtonToggleinRowRepeater(e)});return r};\nsap.uiext.inbox.Inbox.prototype._isOverDue=function(v){if(v===undefined||v===null||v==='')return false;var n=new Date().getTime();var o=(v.getTime()-n)<0?true:false;return o};\nsap.uiext.inbox.Inbox.prototype._currentView=function(){return this.currentView};\nsap.uiext.inbox.Inbox.prototype.createRowRepeaterToolBar=function(i){var t=i;var a=sap.ui.getCore().byId(this.getId()+'--'+'rrToolbar');var r=sap.ui.getCore().byId(this.getId()+'--'+'tasksRowRepeater');if(!a){var a=new sap.ui.commons.Toolbar(this.getId()+'--'+'rrToolbar');a.addStyleClass('sapUiExtInboxActionButtonsToolbarContainer');var s=0;if(sap.ui.getCore().byId(this.getId()+'--'+'sortByLabel')===undefined){var b=new sap.ui.commons.Label(this.getId()+'--'+'sortByLabel',{text:this._oBundle.getText('INBOX_SORT_BY_LABEL')+sap.uiext.inbox.InboxConstants.COLON,design:sap.ui.commons.LabelDesign.Bold});a.insertItem(b,s)}var d=new sap.ui.commons.DropdownBox(this.getId()+'--'+'sortByFilterComboBox',{tooltip:this._oBundle.getText('INBOX_SORT_BY_LABEL'),items:[new sap.ui.core.ListItem(this.getId()+'--'+'li_creationDate',{text:this._oBundle.getText('INBOX_FILTER_CREATION_DATE'),tooltip:this._oBundle.getText('INBOX_SORT_BY_LABEL')+' '+this._oBundle.getText('INBOX_FILTER_CREATION_DATE')}),new sap.ui.core.ListItem(this.getId()+'--'+'li_taskTitle',{text:this._oBundle.getText('INBOX_TASK_TITLE'),tooltip:this._oBundle.getText('INBOX_SORT_BY_LABEL')+' '+this._oBundle.getText('INBOX_TASK_TITLE')}),new sap.ui.core.ListItem(this.getId()+'--'+'li_status',{text:this._oBundle.getText('INBOX_STATUS'),tooltip:this._oBundle.getText('INBOX_SORT_BY_LABEL')+' '+this._oBundle.getText('INBOX_STATUS')})]});d.setValue(this._oBundle.getText('INBOX_FILTER_CREATION_DATE'));d.addStyleClass('sapUiExtInboxRowRepeaterSortBy');var _=new sap.ui.commons.RowRepeaterSorter(this.getId()+'--'+'sortByStartDate',{sorter:new sap.ui.model.Sorter('CreatedOn',true)});var c=new sap.ui.commons.RowRepeaterSorter(this.getId()+'--'+'sortByTaskTitle',{sorter:new sap.ui.model.Sorter('TaskTitle',true)});var e=new sap.ui.commons.RowRepeaterSorter(this.getId()+'--'+'sortByStatus',{sorter:new sap.ui.model.Sorter('Status',true)});r.addSorter(_);r.addSorter(c);r.addSorter(e);d.attachChange(this,function(E,h){var o=h._getComponent('li_empty');if(this.indexOfItem(o)!==-1)this.removeItem(o);var l=E.getSource().getSelectedItemId();t.resetSearchCriteria();var j;if(l===h.getId()+'--'+'li_creationDate'){j=sap.ui.getCore().byId(t.getId()+'--'+'sortByStartDate').getSorter();j.bDescending=!j.bDescending;r.triggerSort(t.getId()+'--'+'sortByStartDate')}else if(l===h.getId()+'--'+'li_taskTitle'){j=sap.ui.getCore().byId(t.getId()+'--'+'sortByTaskTitle').getSorter();j.bDescending=!j.bDescending;r.triggerSort(t.getId()+'--'+'sortByTaskTitle')}else if(l===h.getId()+'--'+'li_status'){j=sap.ui.getCore().byId(t.getId()+'--'+'sortByStatus').getSorter();j.bDescending=!j.bDescending;r.triggerSort(t.getId()+'--'+'sortByStatus')}t._updateRowRepeaterSortImage(j.bDescending)});a.insertItem(d,s+1);var f=new sap.ui.commons.Image(this.getId()+'--'+'sortImage',{tooltip:this._oBundle.getText('INBOX_SORT_INDICATOR_DESC'),decorative:false});f.setSrc(this._imgResourcePath+sap.uiext.inbox.InboxConstants.sortDescImage);f.addStyleClass('sapUiExtInboxRefreshButtonHeight');f.attachPress(this,function(E,h){var S=h._getComponent('sortByFilterComboBox');var l=S.getSelectedItemId();var r=sap.ui.getCore().byId(h.getId()+'--'+'tasksRowRepeater');h.resetSearchCriteria();var j=h.constants.mRRSortMap[h._removeParentID(l)];var o=j?h._getComponent(j).getSorter():undefined;if(o){o.bDescending=!o.bDescending;r.triggerSort(h.getId()+'--'+j);h._updateRowRepeaterSortImage(o.bDescending);if(o.bDescending){this.setSrc(h._imgResourcePath+sap.uiext.inbox.InboxConstants.sortDescImage);this.setTooltip(h._oBundle.getText('INBOX_SORT_INDICATOR_DESC'))}else{this.setSrc(h._imgResourcePath+sap.uiext.inbox.InboxConstants.sortAscImage);this.setTooltip(h._oBundle.getText('INBOX_SORT_INDICATOR_ASC'))}}});a.insertItem(f,s+2)}var g=t._createRRSettingsMenuButton();a.insertRightItem(g,3);return a};\nsap.uiext.inbox.Inbox.prototype.createRowRepeaterToolsContent=function(I){var t=I;var T=sap.ui.getCore().byId(t.getId()+'--'+'tasksRowRepeater');var r=new sap.ui.commons.layout.MatrixLayout(t.getId()+'--'+'rowRepeaterToolsMatLayout');var p=new sap.ui.commons.Paginator(t.getId()+'--'+'rowRepeaterPaginator');p.attachPage(t,function(e,i){i._handleRowRepeaterPaginatorClick(e)});var s=new sap.ui.commons.SegmentedButton({id:t.getId()+'--'+'rowRepeaterRowSettingsSegBtn',buttons:[new sap.ui.commons.Button({id:t.getId()+'--'+'5RowsSegBtn',lite:true,text:'5',tooltip:this._oBundle.getText('INBOX_SET_NUMBER_OF_ROWS_TO')+' '+this._oBundle.getText('INBOX_NUMBER_FIVE')}).addStyleClass('sapUiExtInboxSegmentedButtonTransparent'),new sap.ui.commons.Button({id:t.getId()+'--'+'10RowsSegBtn',lite:true,text:'10',tooltip:this._oBundle.getText('INBOX_SET_NUMBER_OF_ROWS_TO')+' '+this._oBundle.getText('INBOX_NUMBER_TEN')}).addStyleClass('sapUiExtInboxSegmentedButtonTransparent'),new sap.ui.commons.Button({id:t.getId()+'--'+'20RowsSegBtn',lite:true,text:'20',tooltip:this._oBundle.getText('INBOX_SET_NUMBER_OF_ROWS_TO')+' '+this._oBundle.getText('INBOX_NUMBER_TWENTY')}).addStyleClass('sapUiExtInboxSegmentedButtonTransparent')]});s.attachSelect(function(e){var c=parseInt(sap.ui.getCore().byId(e.getParameters().selectedButtonId).getText());var d=this.getButtons();for(var i=0;i<d.length;i++){d[i].removeStyleClass('sapUiExtInboxSegmentedButtonTransparentSelected')}sap.ui.getCore().byId(e.getParameters().selectedButtonId).addStyleClass('sapUiExtInboxSegmentedButtonTransparentSelected');T.setNumberOfRows(c);var n=T.getBinding('rows').iLength;t._updatePaginator(n)});s.setSelectedButton(t.getId()+'--'+'5RowsSegBtn');sap.ui.getCore().byId(s.getSelectedButton()).addStyleClass('sapUiExtInboxSegmentedButtonTransparentSelected');var a=new sap.ui.commons.layout.MatrixLayoutCell(t.getId()+'--'+'separatorRRViewCell');var b=new sap.ui.commons.TextView({id:t.getId()+'--'+'separator',text:'|'});a.addContent(b);a.setPadding(sap.ui.commons.layout.Padding.None);var B=new sap.ui.commons.layout.BorderLayout(t.getId()+'--'+'borderLayout',{width:'100%',height:'40px'});B.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.center,p);B.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.center,{size:'55%',contentAlign:'right',visible:true});B.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.end,s);B.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.end,{size:'45%',contentAlign:'right',visible:true});r.createRow(new sap.ui.commons.TextView({text:' '}));r.createRow(B);return r};\nsap.uiext.inbox.Inbox.prototype._createCustomAttributesRRViewMatrixLayout=function(c,a,r){var t=this;var C=new sap.ui.commons.layout.MatrixLayout({layoutFixed:true,width:'94%'});C.addStyleClass('sapUIExtInboxCustomAttributesBorder');var n=c.length;var m=this.getCoreModel();for(var b=1;b<=n;b++){var i=b-1;var l=t.getId()+'--'+'customattr'+'-label-'+'-row-'+r+'-index-'+i;var T=t.getId()+'--'+'customattr'+'-value-'+'-row-'+r+'-index-'+i;var L=sap.ui.getCore().byId(l);var o=sap.ui.getCore().byId(T);if(!L){L=new sap.ui.commons.Label({id:l,text:c[i].Label}).data('customAttrName',c[i].Name)}if(!o){o=new sap.ui.commons.TextView({id:T}).data('customAttrName',c[i].Name)}o.setText(a[c[i].Name]);L.setLabelFor(o);var d=t._createLabelValueMatrixLayout(L,o);if(b%3===1){var B=new sap.ui.commons.layout.BorderLayout({width:'100%',height:'18px'});B.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.begin,d);B.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.begin,{size:'33.33%',contentAlign:'left',visible:true})}if(b%3===2){B.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.center,d);B.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.center,{size:'33.33%',contentAlign:'center',visible:true});if(b===n){B.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.end,new sap.ui.commons.TextView({text:' '}));B.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.end,{size:'33.33%',contentAlign:'left',visible:true})}}if(b%3===0){B.createArea(sap.ui.commons.layout.BorderLayoutAreaTypes.end,d);B.setAreaData(sap.ui.commons.layout.BorderLayoutAreaTypes.end,{size:'33.33%',contentAlign:'left',visible:true})}var e=new sap.ui.commons.layout.MatrixLayoutCell();e.addStyleClass('sapUiExtInboxPaddingBottom');e.addContent(B);C.createRow(e)}return C};\nsap.uiext.inbox.Inbox.prototype._currentViewElement=function(){var t=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable');var r=sap.ui.getCore().byId(this.getId()+'--'+'tasksRowRepeater');var b,c;if(this.currentView===sap.uiext.inbox.InboxConstants.tableView){c=t}else if(this.currentView===sap.uiext.inbox.InboxConstants.rowRepeaterView){c=r}return c};\nsap.uiext.inbox.Inbox.prototype._updatePaginator=function(l){var p=this._getComponent('rowRepeaterPaginator'),s=this._getComponent('rowRepeaterRowSettingsSegBtn'),t=this._getComponent('tasksRowRepeater');if(!p){var p=new sap.ui.commons.Paginator(this.getId()+'--'+'rowRepeaterPaginator');p.attachPage(this,function(e,i){i._handleRowRepeaterPaginatorClick(e)});var b=this._getComponent('borderLayout');if(b){var r=b.getCenter();if(r){r.addContent(p)}}}var a=sap.ui.getCore().byId(s.getSelectedButton()).getText();p.setNumberOfPages(Math.ceil(l/a));p.setCurrentPage(1);t.gotoPage(1)};\nsap.uiext.inbox.Inbox.prototype._createLabelValueMatrixLayout=function(l,v){l.addStyleClass('sapUiExtInboxCustomAttLabel').setWrapping(false);v.addStyleClass('sapUiExtInboxCustomAttValue').setWrapping(false);var m=new sap.ui.commons.layout.MatrixLayoutCell({hAlign:sap.ui.commons.layout.HAlign.Right,vAlign:sap.ui.commons.layout.VAlign.Top,padding:sap.ui.commons.layout.Padding.End,content:[l]});var M=new sap.ui.commons.layout.MatrixLayoutCell({hAlign:sap.ui.commons.layout.HAlign.Left,vAlign:sap.ui.commons.layout.VAlign.Top,padding:sap.ui.commons.layout.Padding.Begin,content:[v]});return new sap.ui.commons.layout.MatrixLayout().createRow(m,M)};\nsap.uiext.inbox.Inbox.prototype._getCustomActionsDefinition=function(i,t,s){var a=this;var c=sap.uiext.inbox.InboxConstants.taskDefinitionDecisionOptionsMap;var C=c[t];if(C===undefined&&i){var m=this.getCoreModel();m.read(a.constants.decisionOptionsFunctionImport,null,[\"InstanceID='\"+i+\"'&SAP__Origin='\"+s+\"'\",a.constants.formatJSONURLParam],false,function(d,r){C=c[t]=d.results},function(e){})}return C};\nsap.uiext.inbox.Inbox.prototype._executeCustomAction=function(e,a){var d=e.getSource().data('key');var b=a.inbox;var v=a.view;b.showBusyLoader();var l,r,m;var s=[],c=[],f=[];var g=[];var h=\"'\",k=\"'\";var n=[];var o,p;b.resetSearchCriteria();var m=b.getCoreModel();if(v===b.constants.tableView){l=b._getComponent('listViewTable');if(e.getSource())var q=b.getlistTableSelectedIndices();jQuery.each(q,function(i,j){r=l.getContextByIndex(j);c.push(r);o=m.getProperty('InstanceID',r);p=m.getProperty('SAP__Origin',r);s.push(o);f.push(p);if(i==0){h=h+o;k=k+p}else{h=h+';'+o;k=k+';'+p}});h=h+\"'\";k=k+\"'\"}else if(v===b.constants.rowRepeaterView){var C=e.getSource().getBindingContext();o=m.getProperty('InstanceID',C);p=m.getProperty('SAP__Origin',C);s.push(o);f.push(p);h=h+o+\"'\";k=k+p+\"'\"}var I,t,u,w,x;x=s.length;if((x>1)&&b.isBatchOperationSupported){var B,P,y=[];for(var i=0;i<x;i++){P=b.constants.decisionExecutionFunctionImport+b.constants.query+\"InstanceID='\"+s[i]+\"'\"+b.constants.amperSand+\"SAP__Origin='\"+f[i]+\"'\"+b.constants.amperSand+\"DecisionKey='\"+d+\"'\";if(n&&n.length>0){P=P+\"&Comments='\"+n[i]+\"'\"}B=m.createBatchOperation(P,b.httpMethodForAction);m.addBatchChangeOperations([B])}m.submitBatch(function(z,A){var D=z.__batchResponses;var i,j,E,F;var G=0;for(i=0,F=D.length;i<F;i++){var H=D[i].__changeResponses;if(H){for(j=0,E=H.length;j<E;j++){var J=H[j];G=!(J.statusCode>=200&&J.statusCode<=202)?G+1:G}}}if(G>0){b.showMessage('error',G+' '+b._oBundle.getText('INBOX_MSG_ACTION_FAILED'))}else{b.showMessage('success',b._oBundle.getText('INBOX_MSG_ACTION_SUCCESS'))}},function(j){b.showMessage('error',b._oBundle.getText('INBOX_MSG_ACTION_FAILED'))},false)}else{I=b.constants.forwardSlash+b.constants.decisionExecutionFunctionImport+b.constants.query+'InstanceID='+h+b.constants.amperSand+'SAP__Origin='+k+b.constants.amperSand+\"DecisionKey='\"+d+\"'\"+b.constants.amperSand+b.constants.formatJSONURLParam;if(n&&n.length>0)I=I+\"&comments='\"+n[0]+\"'\";t=b.bpmSvcUrl+I;u={async:false,requestUri:t,method:b.httpMethodForAction,headers:{Accept:b.constants.acceptHeaderforJSON,'x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(u,function(j,z){b.showMessage('success',b._oBundle.getText('INBOX_MSG_ACTION_SUCCESS'))},function(j){b.showMessage('error',b._oBundle.getText('INBOX_MSG_ACTION_FAILED'))})}b.applyFilterOnResponse(c);b.resetMessages=false};\nsap.uiext.inbox.Inbox.prototype._deleteCustomActions=function(c){if(this.currentView===this.constants.tableView){this._deleteCustomActionsForTableView()}else if(this.currentView===this.constants.rowRepeaterView){this._deleteCustomActionsForRowRepeaterView()}};\nsap.uiext.inbox.Inbox.prototype._createCustomActionButtons=function(c,e){if(this.currentView===this.constants.tableView){this._createCustomActionsForTableView(c,e)}else if(this.currentView===this.constants.rowRepeaterView){this._createCustomActionsForRowRepeaterView(c,e)}};\nsap.uiext.inbox.Inbox.prototype._deleteCustomActionsForTableView=function(c){var t=this;var a=this._getActionButtonToolBarForTableView();var T=a.getItems();for(var i=0;i<T.length;i++){var o=T[i];if(o instanceof sap.ui.commons.Button&&o.data('type')===t.constants.customAction){a.removeItem(o);o.destroy()}if(o instanceof sap.ui.commons.ToolbarSeparator&&o.data('separatorFor')===t.constants.customAction){a.removeItem(o);o.destroy()}}};\nsap.uiext.inbox.Inbox.prototype._createCustomActionsForTableView=function(c,e){var t=this;var a=this._getActionButtonToolBarForTableView();var n=c.length;var b=3;if(n>0){var s=new sap.ui.commons.ToolbarSeparator();s.data('separatorFor',t.constants.customAction);a.insertItem(s,b);b++}for(var i=0;i<n;i++){var d=c[i];var D=!d.DecisionText?d.DecisionKey:d.DecisionText;var f=new sap.ui.commons.Button(this.getId()+'--'+d.DecisionKey+'button',{text:D,enabled:e,tooltip:d.Description}).data('type',t.constants.customAction).data('key',d.DecisionKey);f.attachPress({inbox:t,view:t.constants.tableView},t._executeCustomAction);a.insertItem(f,b);b++}};\nsap.uiext.inbox.Inbox.prototype._createCustomActionsForRowRepeaterView=function(c){var t=this;var a=this._getActionButtonToolBarForTableView();var n=c.length;var r=this._getComponent('rrMainMatrixLayout');var R=this._getComponent('taskActionMatrixLayout');var b=R.getRows()[0];for(var i=0;i<n;i++){var d=c[i];var e=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'dotLabelCell'+d.DecisionKey,hAlign:sap.ui.commons.layout.HAlign.Center,vAlign:sap.ui.commons.layout.VAlign.Top,colSpan:1});var f=new sap.ui.commons.Label(t.getId()+'--'+'dotLabel'+d.DecisionKey,{text:sap.uiext.inbox.InboxConstants.DOT});f.addStyleClass('sapUIExtInboxDotSeperatorStyle');f.data('separatorFor',t.constants.customAction);e.addContent(f);b.addCell(e);var g=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'customActionCell'+d.DecisionKey,hAlign:sap.ui.commons.layout.HAlign.Left,vAlign:sap.ui.commons.layout.VAlign.Bottom,colSpan:1});var h=new sap.ui.commons.Link(t.getId()+'--'+'rrView'+d.DecisionKey+'link',{tootltip:d.Description});var D=!d.DecisionText?d.DecisionKey:d.DecisionText;h.data('type',t.constants.customAction);h.data('key',d.DecisionKey);h.addStyleClass('sapUiExtInboxLnkNoUnderline');h.setText(D);h.attachPress({inbox:t,view:t.constants.rowRepeaterView,action:d.DecisionKey},t._executeCustomAction);g.addContent(h);b.addCell(g)}};\nsap.uiext.inbox.Inbox.prototype._deleteCustomActionsForRowRepeaterView=function(c){var t=this;var r=this._getComponent('rrMainMatrixLayout');var R=this._getComponent('taskActionMatrixLayout');var a=R.getRows()[0];var b=a.getCells();for(var i=0;i<b.length;i++){var A=b[i];var o=A.getContent()[0];if(o instanceof sap.ui.commons.Link&&o.data('type')===t.constants.customAction||o instanceof sap.ui.commons.Label&&o.data('separatorFor')===t.constants.customAction){a.removeCell(A);A.destroy();o.destroy()}}};\nsap.uiext.inbox.Inbox.prototype._getActionButtonToolBarForTableView=function(){return this._getComponent('actionButtonsToolbarContainer')};\nsap.uiext.inbox.Inbox.prototype._modifyListBindingForExpand=function(a,p){var c=this.constants;var b,l;if(this.currentView===this.constants.tableView){b=sap.ui.getCore().byId(this.getId()+'--'+'listViewTable');if(b!==undefined){l=b.getBinding('rows')}}else if(this.currentView===this.constants.rowRepeaterView){b=sap.ui.getCore().byId(this.getId()+'--'+'tasksRowRepeater');if(b!==undefined){l=b.getBinding('rows')}}var P=l.mParameters;if(!P){l.mParameters={expand:''}}var e=l.mParameters.expand;if(a){if(e){if(e.indexOf(c.customAttributeNavigationParam)===-1){if(e.length>0){e=e+','}e=e+p}}else{e=p}}else{if(e&&e.length>0){var i=e.indexOf(p);if(i>=0){e=e.charAt(i-1)===','?e.replace(','+p,''):e.replace(p,'')}}}if(e.length>0){l.mParameters.expand=e}else{delete l.mParameters.expand}function g(P){var C=[],s={expand:true,select:true};for(var n in P){if(n in s){C.push('$'+n+'='+jQuery.sap.encodeURL(P[n]))}}return C.join('&')}l.sCustomParams=g(l.mParameters)};\nsap.uiext.inbox.Inbox.prototype.populateRefreshButtonContainer=function(r){var t=this;var a=new sap.ui.commons.layout.MatrixLayoutCell({id:this.getId()+'--'+'refreshButtonCell'});var b=new sap.ui.commons.Button(this.getId()+'--'+'refreshButton',{tooltip:this._oBundle.getText('INBOX_REFRESH_BUTTON_TOOLTIP')});b.setIcon(this._imgResourcePath+sap.uiext.inbox.InboxConstants.refreshImage);b.addStyleClass('sapUiExtInboxRefreshButtonTransparent');b.attachPress(t,t.refreshTaskList);b.addStyleClass('sapUiExtInboxRefreshButtonHeight');a.addContent(b);a.setPadding(sap.ui.commons.layout.Padding.None);var c=new sap.ui.commons.layout.MatrixLayoutCell({id:this.getId()+'--'+'refreshedOnTextCell',vAlign:sap.ui.commons.layout.VAlign.Bottom,padding:sap.ui.commons.layout.Padding.Top});var d=new sap.ui.commons.Label(this.getId()+'--'+'refreshOnText');t.lastRefreshedOnDateTime=new Date();var e=t._getFormattedRefreshOnDateTime();d.setText(t._oBundle.getText('INBOX_TEXT_ON')+sap.uiext.inbox.InboxConstants.SPACE+e);d.setTooltip(t._getFormattedTooltipForLastRefreshedTime());d.addStyleClass('sapUiExtInboxRefreshedOnStyle');c.addContent(d);r.createRow(a,new sap.ui.commons.Label({text:sap.uiext.inbox.InboxConstants.SPACE}),c)};\nsap.uiext.inbox.Inbox.prototype._getFormattedRefreshOnDateTime=function(){var d=sap.ui.core.format.DateFormat.getDateTimeInstance({style:'medium'});return d.format(this.lastRefreshedOnDateTime)};\nsap.uiext.inbox.Inbox.prototype._getFormattedTooltipForLastRefreshedTime=function(){var t=sap.ui.core.format.DateFormat.getDateTimeInstance({style:'medium'});return t.format(this.lastRefreshedOnDateTime)};\nsap.uiext.inbox.Inbox.prototype._createRRSettingsMenuButton=function(){var t=this;var s=sap.ui.getCore().byId(this.getId()+'--'+'rrSettingsButton');if(!s){s=new sap.ui.commons.MenuButton(t.getId()+'--'+'rrSettingsButton',{tooltip:t._oBundle.getText('INBOX_SETTINGS_BUTTON_TOOLTIP'),icon:t._imgResourcePath+sap.uiext.inbox.InboxConstants.settingsImage,iconHovered:this._imgResourcePath+sap.uiext.inbox.InboxConstants.settingsImageHover,iconSelected:this._imgResourcePath+sap.uiext.inbox.InboxConstants.settingsImageHover,lite:true});var i=new sap.ui.commons.Menu(t.getId()+'--'+'rrSettingsMenu',{tooltip:t._oBundle.getText('INBOX_SETTINGS_BUTTON_TOOLTIP')});s.setMenu(i);s.attachItemSelected(t,t.menuButtonActionEvent);var m=new sap.ui.commons.MenuItem(this.getId()+'--'+'rrManageSubstitutionMI',{text:this._oBundle.getText('INBOX_MANAGE_SUBSTITUTION_RULES_MENU_ITEM'),tooltip:this._oBundle.getText('INBOX_MANAGE_SUBSTITUTION_RULES_TOOLTIP')});i.addItem(m)}return s};\nsap.uiext.inbox.Inbox.prototype._executeForwardAction=function(e,p){var l=e.getSource();var a=p.inbox;var d=a.getId()+'--';var f=sap.ui.getCore().byId(d+'forwardTasksPopUp');var t=sap.ui.getCore().byId(d+'userTable');if(f===undefined){var L=new sap.ui.commons.layout.MatrixLayout({id:d+'dLayout',layoutFixed:true,width:'100%'});var s=new sap.ui.commons.SearchField({id:d+'oSearch',enableListSuggest:false,tooltip:a._oBundle.getText('SUBSTIUTION_RULE_SEARCH_FOR_USERS'),value:a._oBundle.getText('INBOX_SEARCH_FOR_A_COLLEAGUE'),editable:true,width:'100%'});s._ctrl.addStyleClass('sapUiExtInboxValueHelpTextStyle');s.onfocusin=function(){s._ctrl.removeStyleClass('sapUiExtInboxValueHelpTextStyle');if(s._ctrl.getLiveValue()===a._oBundle.getText('INBOX_SEARCH_FOR_A_COLLEAGUE')){s.setValue('')}};s.onfocusout=function(){if(s._ctrl.getLiveValue()===''){s._ctrl.addStyleClass('sapUiExtInboxValueHelpTextStyle');s.setValue(a._oBundle.getText('INBOX_SEARCH_FOR_A_COLLEAGUE'))}else{s.setValue(s._ctrl.getLiveValue())}};s.attachSearch(a,function(e,g){e.oParentSource=l;var S=g._handleSearchUsersClickforForward(e);if(S){var m=new sap.ui.model.json.JSONModel();m.setData(S);t.clearSelection();t.setModel(m);t.bindRows('/results');if(S.results.length>0){t.setSelectedIndex(0)}}});L.createRow(s);var u={collection:'UserInfoCollection',propertiesLabel:[a._oBundle.getText('SUBSTITUTION_USERS_PICKLIST_LOGONID'),a._oBundle.getText('SUBSTITUTION_USERS_PICKLIST_NAME')],properties:['UniqueName','DisplayName']};if(t===undefined){t=new sap.ui.table.Table(d+'userTable',{selectionMode:sap.ui.table.SelectionMode.Single})}t.setVisibleRowCount(5);t.attachRowSelectionChange(function(){if(t.getSelectedIndices().length!==0){sap.ui.getCore().byId(d+'forwardTasksPopUpFrwBtn').setEnabled(true)}else{sap.ui.getCore().byId(d+'forwardTasksPopUpFrwBtn').setEnabled(false)}});t.bDynamic=true;for(var i=0;i<=u.properties.length-1;i++){t.addColumn(new sap.ui.table.Column().setLabel(new sap.ui.commons.Label({text:a._oBundle.getText(u.propertiesLabel[i]),design:sap.ui.commons.LabelDesign.Bold})).setTemplate(new sap.ui.commons.TextField({editable:false,value:{path:u.properties[i]}})))}var b=new sap.ui.commons.layout.VerticalLayout(d+'userDialogVLayout',{width:'100%'});b.insertContent(L,0);b.insertContent(t,1);var c;f=new sap.ui.commons.Dialog(d+'forwardTasksPopUp',{modal:true,title:a._oBundle.getText('INBOX_FORWARD_SELECTED_TASKS'),content:[b],buttons:[new sap.ui.commons.Button(d+'forwardTasksPopUpFrwBtn',{enabled:false,text:a._oBundle.getText('INBOX_ACTION_BUTTON_FORWARD'),tooltip:a._oBundle.getText('INBOX_ACTION_BUTTON_FORWARD_TOOLTIP'),press:function(g){var h=sap.ui.getCore().byId(d+'userTable');var j=h.getSelectedIndex();var r=h.getContextByIndex(j);var k=sap.ui.getCore().byId(d+'userTable').getModel();var m=k.getProperty('DisplayName',r);if(m===null)m='';c=k.getProperty('UniqueName',r);var n=new sap.ui.base.Event();n.oSource=l;n.mParameters={};a.executeActionOnTask(n,{inbox:a,view:p.view,action:'Forward',forwardTo:c,source:l});f.close();f.destroy()}})]})}f.setWidth('500px');f.open()};\nsap.uiext.inbox.Inbox.prototype._getExpandParameters=function(){var e='';var i=(this.currentView===this.constants.rowRepeaterView)?true:false;if(this.showTaskCategory){e='TaskDefinitionData'}if((this.showTaskDescription)&&i){if(e.length>0){e=e+','}e=e+'Description'}return e};\nsap.uiext.inbox.Inbox.prototype._getFilterArray=function(){var f=[];for(var i in this.filtersToApply){var a=this.filtersToApply[i];if(jQuery.isArray(a)){f=f.concat(a)}else f.push(a)}return f};\nsap.uiext.inbox.Inbox.prototype._getSelectedItemfromKey=function(t,s){var i=t.getItems();var k=s;var a;for(var j=0;j<i.length;j++){if(k===i[j].getKey()){return i[j]}}};\nsap.uiext.inbox.Inbox.prototype._resetFlags=function(){this.isSubstitutionEnabled=false;this.isCustomAttributesEnabled=false;this.isCustomActionsEnabled=false;this.showTaskDescription=false;this.showTaskCategory=false};\nsap.uiext.inbox.Inbox.prototype._createForwardActionLinkCell=function(){var t=this;var f=new sap.ui.commons.layout.MatrixLayoutCell({id:t.getId()+'--'+'forwardActionCell',hAlign:sap.ui.commons.layout.HAlign.Left,vAlign:sap.ui.commons.layout.VAlign.Bottom,colSpan:1});var a=new sap.ui.commons.Link(t.getId()+'--'+'rrViewForwardAction',{visible:false,enabled:false,tooltip:t._oBundle.getText('INBOX_ACTION_BUTTON_FORWARD')});a.addStyleClass('sapUiExtInboxLnkNoUnderline');a.setText(t._oBundle.getText('INBOX_ACTION_BUTTON_FORWARD'));a.attachPress({inbox:t,view:t.constants.rowRepeaterView},t._executeForwardAction);f.addContent(a);return f};\nsap.uiext.inbox.Inbox.prototype._setInboxFiltersVisibility=function(v){if(v===false||v===true){sap.ui.getCore().byId(this.getId()+'--'+'filterViewButton').setVisible(v);sap.ui.getCore().byId(this.getId()+'--'+'filterComboBox1').setVisible(v);sap.ui.getCore().byId(this.getId()+'--'+'filterComboBox2').setVisible(v);sap.ui.getCore().byId(this.getId()+'--'+'filterComboBox3').setVisible(v)}};\nsap.uiext.inbox.Inbox.prototype._setInboxViewSelectionVisibility=function(v){if(v===false||v===true){sap.ui.getCore().byId(this.getId()+'--'+'tableViewImage').setVisible(v);sap.ui.getCore().byId(this.getId()+'--'+'rrViewImage').setVisible(v)}};\nsap.uiext.inbox.Inbox.prototype.resizeColumns=function(){var t=this;var w=0;var T=sap.ui.getCore().byId(t.getId()+'--'+'listViewTable');var c=T.getColumns();var a='';jQuery.each(c,function(i,b){if(t.absId(b.getId())==='TaskTitle'){a=b;return false}});if(a&&(a.getVisible()===true)&&((c.length)&&(100/c.length<25))){a.setWidth('20%');w=100/(c.length-1);jQuery.each(c,function(i,b){if(t.absId(b.getId())!=='TaskTitle'){b.setWidth(w+'%')}})}};\nsap.uiext.inbox.Inbox.prototype._isCompletedTasksSelected=function(){var d=this._getComponent('filterComboBox2');var i=false;if(d.getSelectedItemId()===this.getId()+'--'+'li_completedTasks'){i=true}return i};\nsap.uiext.inbox.Inbox.prototype._isDrillDownFilterSelected=function(f){var F=false;var c=this._currentViewElement();var a=c.getBinding('rows');if(a&&a.sFilterParams&&a.sFilterParams.indexOf(f)!==-1)F=true;return F};\nsap.uiext.inbox.Inbox.prototype._getDefaultSort=function(){if(!this._defaultSort){this._defaultSort=new sap.ui.model.Sorter('CreatedOn',true)}return this._defaultSort};\nsap.uiext.inbox.Inbox.prototype._clearCustomAttributeSort=function(){var t=this._getComponent('listViewTable');var b=t.getBinding('rows');if(b.sSortParams.indexOf(this.constants.customAttributeNavigationParam)!==-1){b.createSortParams(b.aSorters)}};\nsap.uiext.inbox.Inbox.prototype._updateViewElementsOnRequestCompleted=function(l){if(this.currentView===this.constants.tableView){this._updateTableOnRequestCompleted()}else if(this.currentView===this.constants.rowRepeaterView){this._updateRowRepeaterOnRequestCompleted(l)}};\nsap.uiext.inbox.Inbox.prototype._updateTableOnRequestCompleted=function(){var r,s=[];var S={aSupportsClaim:[],aSupportsRelease:[],aSupportsForward:[]};var c=this._currentViewElement();var a=this.selectedContexts;var I=this._getTableIndicesByContext(a,c);var m=c.getModel();var t=this;jQuery.each(I,function(i,b){r=c.getContextByIndex(b);s.push(m.getProperty('Status',r));S.aSupportsClaim.push(m.getProperty('SupportsClaim',r));S.aSupportsRelease.push(m.getProperty('SupportsRelease',r));if(t.isForwardActionEnabled){S.aSupportsForward.push(m.getProperty('SupportsForward',r))}});this.inboxUtils.reselectRowsinTable(I,c);this.selectedContexts=[];if(this.isCustomActionsEnabled){if(I.length===0){this._createCustomActionsonRequestCompleted()}}this.disableActionButtonsOnMultiStatus(s,S)};\nsap.uiext.inbox.Inbox.prototype._updateRowRepeaterOnRequestCompleted=function(l){this._updatePaginator(l)};\nsap.uiext.inbox.Inbox.prototype._getTableIndicesByContext=function(c,t){var I=[];var b=t.getBinding('rows');var B=b.getContexts(0,b.iLength);var m=t.getModel();var a=-1;jQuery.each(c,function(i,C){jQuery.each(B,function(j,o){if(C.sPath===o.sPath){a=j;return false}});if(a>-1){I.push(a)}});return I};\nsap.uiext.inbox.Inbox.prototype._createCustomActionsonRequestCompleted=function(){var i=this._isCompletedTasksSelected();var t=this._isTaskDefinitionFilterApplied();if(t&&!i){var T=this._getComponent('INBOX_FILTER_TASK_TYPE');var s=T.getSelectedKeys();if(s&&s.length===1){var S=this._getSelectedItemfromKey(T,s[0]);var c=this._getCustomActionsDefinition(null,s[0],S.data('SAP__Origin'));this._deleteCustomActionsForTableView();if(c&&c.length>0)this._createCustomActionButtons(c,false)}else{this._deleteCustomActionsForTableView()}}else{this._deleteCustomActionsForTableView()}};\nsap.uiext.inbox.Inbox.prototype._isTaskDefinitionFilterApplied=function(){var c=this._currentViewElement();var C=c.getBinding('rows');return(C.sFilterParams.indexOf('TaskDefinitionID')!==-1)};\nsap.uiext.inbox.Inbox.prototype._handleRequestSent=function(e){if(this.bRefreshStartFlag){this.bRefreshStartFlag=false;var r=this._getComponent('refreshButton');r.setIcon(this._imgResourcePath+sap.uiext.inbox.InboxConstants.refreshImageGif)}};\nsap.uiext.inbox.Inbox.prototype._handleRequestCompleted=function(e){if(e.getParameter('url').indexOf(this.constants.UserInfoCollection)!==-1){return}var t=this._getComponent('INBOX_FILTER_TASK_TYPE');var i=t?this._isInitialFilterAppliedforTaskType(t):false;if((i||!this._isTaskDefinitionFilterApplied())&&this.bRefreshTaskTypes){this.refreshTaskTypes()}if(i){this._setInitialFilterKeysforTaskType(t)}this.bRefreshTaskTypes=true;this.hideBusyLoader();var l=this._getCurrentViewElementBindingLength();this._displayMessageOnRequestCompleted(l);this._updateViewElementsOnRequestCompleted(l);var r=this._getComponent('refreshButton');r.setIcon(this._imgResourcePath+this.constants.refreshImage);var d=e.getParameters();d.bindingLength=l;d.appliedFilter=this._getComponent('filterComboBox2').getValue();;this.fireODataRequestCompleted(d);this._applySearch()};\nsap.uiext.inbox.Inbox.prototype._applySearch=function(){var s=this._getComponent('searchField');var S=s.getValue();if(S!==''&&S!==null){s.fireSearch({query:S})}};\nsap.uiext.inbox.Inbox.prototype._displayMessageOnRequestCompleted=function(l){if(l<=0){this.showMessage('info',this._oBundle.getText('INBOX_MSG_FOR_NO_DATA'))}else{if(this.resetMessages===true){this.deleteMessage()}else{this.resetMessages=true}}};\nsap.uiext.inbox.Inbox.prototype._getCurrentViewElementBindingLength=function(){var c=this._currentViewElement();var C=c.getBinding('rows');return C.iLength};\nsap.uiext.inbox.Inbox.prototype._selectParentRowforElement=function(i){var I=-1;var $=jQuery.sap.byId(i);var a=$.closest('.sapUiTableCtrl>tbody>tr');if(a.length===1){I=parseInt(a.attr('data-sap-ui-rowindex'),10)}var t=this._getComponent('listViewTable');t.setSelectedIndex(I)};\nsap.uiext.inbox.Inbox.prototype._handleTaskTitleLinkPress=function(e){this.showBusyLoader();this._selectParentRowforElement(e.getSource().getId());var c=e.getSource().getBindingContext();var m=this.getCoreModel();var t=[],T=[],a=[],b=[];T.push(m.getProperty('InstanceID',c));a.push(m.getProperty('TaskTitle',c));b.push(m.getProperty('SAP__Origin',c));if(this.getTaskExecutionURLCallBack!=''&&this.getTaskExecutionURLCallBack!=undefined&&this.getTaskExecutionURLCallBack!==null){t.push(this.getTaskExecutionURLCallBack(T[0],b[0]))}else{t.push('')}var d=e.getParameter('windowEvent');if(!d.ctrlKey&&!(d.button==1)&&!d.shiftKey&&!this.openTaskExecutionUIOpenInNewTab){this.populateTaskExecutionContent({aSelectedContexts:[c],arrayURLs:t,arrayIDs:T,arrayTitles:a,aTaskSAPOrigins:b});this.hideBusyLoader()}else{this.hideBusyLoader();var s=this.getTaskExecutionURLThemeValue();var w=t[0];if(s!=null){w=w+s}var f=window.open(w);f.focus();e.preventDefault()}};\nsap.uiext.inbox.Inbox.prototype._initFlagsByModel=function(){if(this.oModel instanceof sap.ui.model.json.JSONModel){this.typeOfModel='JSON';this.setHandleBindings(false);this._resetFlags()}else if(this.oModel instanceof sap.ui.model.odata.ODataModel){this.typeOfModel='OData';this.attachTaskAction(this,this.defaultActionHandler);this.setHandleBindings(true)}else if(this.oModel instanceof sap.ui.model.xml.XMLModel){this.typeOfModel='xml';this.setHandleBindings(false);this._resetFlags()}};\nsap.uiext.inbox.Inbox.prototype._handleRequestFailed=function(e){var E=e.mParameters;if((E.message!=='Request aborted')&&E.statusCode){var s=(e.mParameters.statusCode===401)?'INBOX_MSG_USER_NOT_AUTHORIZED':'INBOX_MSG_NO_ODATA_SRVC';this.showMessage('error',this._oBundle.getText(s))}this.hideBusyLoader()};\nsap.uiext.inbox.Inbox.prototype._applySortOnView=function(s){var e=this.constants.mEntitiesToElements.taskMetadata;if(this.currentView===this.constants.tableView){this._applySortOnTableView(s,e)}else if(this.currentView===this.constants.rowRepeaterView){this._applySortOnRowRepeaterView(s,e)}};\nsap.uiext.inbox.Inbox.prototype._applySortOnTableView=function(s,e){var c=e.sap_inbox_list.columnsMap;var L=this._getComponent('listViewTable');var C=L.getColumns();for(var i=0,l=C.length;i<l;i++){C[i].setSorted(false)}if(s){var o,a;var p=s.sPath;if(p.indexOf(this.constants.customAttributeNavigationParam)!==-1){a=p.replace(this.constants.customAttributeNavigationParam,'');a=a.replace(/^\\//,'')}else{var a=c[p]}var o=a?this._getComponent(a):undefined;if(o){var b=s.bDescending?sap.ui.table.SortOrder.Descending:sap.ui.table.SortOrder.Ascending;o.setSortOrder(b);o.setSorted(true)}}};\nsap.uiext.inbox.Inbox.prototype._applySortOnRowRepeaterView=function(s,e){var S=e.sap_inbox_stream.sorterMap;var r=this._getComponent('sortByFilterComboBox');if(s){var c,C;var p=s.sPath;var a=S[p];if(a){r.setSelectedItemId(this.getId()+'--'+a);this._updateRowRepeaterSortImage(s.bDescending);var a=this.constants.mRRSortMap[a];var R=this._getComponent(a).getSorter();if(R){R.bDescending=s.bDescending}}else{var E=this._getComponent('li_empty');if(!E)E=new sap.ui.core.ListItem(this.getId()+'--'+'li_empty',{text:this._oBundle.getText('')});r.insertItem(E,0);r.setSelectedItemId(this.getId()+'--'+'li_empty');var b=this._getComponent('sortImage');b.setVisible(false)}}};\nsap.uiext.inbox.Inbox.prototype._updateRowRepeaterSortImage=function(d){var s=this._getComponent('sortImage');s.setVisible(true);if(d){s.setSrc(this._imgResourcePath+this.constants.sortDescImage);s.setTooltip(this._oBundle.getText('INBOX_SORT_INDICATOR_DESC'))}else{s.setSrc(this._imgResourcePath+this.constants.sortAscImage);s.setTooltip(this._oBundle.getText('INBOX_SORT_INDICATOR_ASC'))}};\nsap.uiext.inbox.Inbox.prototype._getFirstColumnContentTemplate=function(){var t=this;var c=t._createTaskCategoryImage();var T=t._createTaskLink();var a=t._createAttachmentsImage();var C=t._createCommentsImage();var f=t._getComponent('firstColumnLayout');if(!f){f=new sap.ui.commons.layout.HorizontalLayout({id:t.getId()+'--'+'firstColumnLayout',content:[c,T,a,C]})}return f};\nsap.uiext.inbox.Inbox.prototype._createTaskCategoryImage=function(){var t=this;var c=t._getComponent('taskCategoryImg');if(!c){c=new sap.ui.commons.Image({id:t.getId()+'--'+'taskCategoryImg',decorative:false,enable:false})}c.bindProperty('src',t.constants.taskDefinitionNavigationParam,function(a){if(a!=null&&a!==''){var m=t.getCoreModel();var C=this.getBindingContext();var b=a[0];var d=m.oData[b];var e;if(d){e=d.Category;this.setVisible(true)}else{e=a.Category;this.setVisible(true)}e=e.toUpperCase();if(e=='TASK'||e=='NOTIFICATION'||e=='TODO'||e=='ALERT'){this.setTooltip(t._oBundle.getText(t.constants.taskCategoryToolTip[e]));return t._imgResourcePath+t.constants.taskCategoryImages[e]}}return t._imgResourcePath+t.constants.taskCategoryImage});return c};\nsap.uiext.inbox.Inbox.prototype._createTaskLink=function(){var t=this;var T=new sap.uiext.inbox.InboxLink().addStyleClass('sapUiExtInboxMarginForTableColumnStyle');T.addDelegate({onAfterRendering:function(){if(!this.getEnabled()){this.addStyleClass('sapUiExtInboxLnkDsbl')}}});var a=t.constants.mEntities.taskMetadata.properties[0];T.bindProperty('text',a,function(v){if(this.getBindingContext()===undefined)return undefined;else return v});T.bindProperty('overdue','CompletionDeadLine',function(v){return t._isOverDue(v)});T.bindProperty('tooltip',a);T.bindProperty('enabled','Status',function(v){if(!t.getOpenCompletedTasks()&&v==='COMPLETED'){this.addStyleClass('sapUiExtInboxLnkDsbl');return false}this.removeStyleClass('sapUiExtInboxLnkDsbl');return true});T.attachPress(this,function(e,t){t._handleTaskTitleLinkPress(e)});return T};\nsap.uiext.inbox.Inbox.prototype._createAttachmentsImage=function(){var t=this;var a=t._getComponent('taskAttachmentImage');if(!a){a=new sap.ui.commons.Image({id:t.getId()+'--'+'taskAttachmentImage',text:'',decorative:false,src:t._imgResourcePath+t.constants.attachmentsImage}).addStyleClass('sapUiExtInboxMarginForTableColumnStyle')}a.bindProperty('visible','HasAttachments',function(v){if(v!=null&&v!==''){return v}return false});return a};\nsap.uiext.inbox.Inbox.prototype._createCommentsImage=function(){var t=this;var c=t._getComponent('taskCommentImage');if(!c){c=new sap.ui.commons.Image({id:t.getId()+'--'+'taskCommentImage',text:'',decorative:false,src:t._imgResourcePath+t.constants.commentsImage}).addStyleClass('sapUiExtInboxMarginForTableColumnStyle')}c.bindProperty('visible','HasComments',function(v){if(v!=null&&v!==''){return v}return false});return c};\nsap.uiext.inbox.Inbox.prototype._handleTaskCategoryVisibility=function(){if(!this.showTaskCategory){var t=this._getComponent('taskCategoryImg');t.setVisible(false)}};\nsap.uiext.inbox.Inbox.prototype._setCommentsVisibility=function(){if(this.isCommentsEnabled){var c=this._getComponent('commentsSegBtn');c.bindProperty('visible','SupportsComments',function(v){if(v!=null&&v!==''){return v}return false});c.attachPress(this,function(e,t){t._handleActionButtonToggleinRowRepeater(e)})}};\nsap.uiext.inbox.Inbox.prototype._initTableView=function(){var t=this._getComponent('listViewTable');t.setModel(this.oModel);return t};\nsap.uiext.inbox.Inbox.prototype._initRowRepeaterView=function(){var t=this._getComponent('tasksRowRepeater');t.setModel(this.oModel);var r=this._getComponent('rrMainMatrixLayout');return t};\nsap.uiext.inbox.Inbox.prototype._createCustomAttributes=function(a){if(this.isCustomAttributesEnabled){if(a.length===1&&(this.currentView===this.constants.tableView)){this._modifyListBindingForExpand(true,this.constants.customAttributeNavigationParam);var c=this._getCustomAttributeMetaData(a[0].getKey(),a[0].data('SAP__Origin'));this._deleteCustomAttributeColumns(c);if(c&&c.length>0)this._createCustomAttributeColumns(c)}else{this._modifyListBindingForExpand(false,this.constants.customAttributeNavigationParam);this._deleteCustomAttributeColumns(null)}}};\nsap.uiext.inbox.Inbox.prototype._createCustomActions=function(a){if(this.isCustomActionsEnabled){if(a.length===1){this._deleteCustomActions();var i=this._isCompletedTasksSelected();if(!i){var c=this._getCustomActionsDefinition(a[0].data('InstanceID'),a[0].getKey(),a[0].data('SAP__Origin'));if(c&&c.length>0)this._createCustomActionButtons(c,false)}}else{this._deleteCustomActions(null)}}};\nsap.uiext.inbox.Inbox.prototype._selectInitialValueinDropDown=function(p){var t=this._getComponent('filterComboBox2');var P=p?p.getFilter():undefined;var T=P?P.key:'li_openTasks';T=this.getId()+'--'+T;if(t.getSelectedItemId()!==T){t.setSelectedItemId(T);var s=sap.ui.getCore().byId(T);t.fireChange({oSource:t,newValue:s.getText(),selectedItem:s})}};\nsap.uiext.inbox.Inbox.prototype._addFilterToFilterMetadata=function(f,F){if(jQuery.isArray(f)){F=F.concat(f)}else{F.push(f)}return F};\nsap.uiext.inbox.Inbox.prototype._selectFilterValuesinFacetFilterView=function(s,f,a){var b=s.getFilterUIKeys();var F=sap.ui.getCore().byId(this.getId()+'--'+'filterFacet');var p=sap.ui.getCore().byId(this.getId()+'--'+'INBOX_FILTER_PRIORITY');var c=sap.ui.getCore().byId(this.getId()+'--'+'INBOX_FILTER_STATUS');var d=sap.ui.getCore().byId(this.getId()+'--'+'INBOX_FILTER_CREATION_DATE');var t=sap.ui.getCore().byId(this.getId()+'--'+'INBOX_FILTER_TASK_TYPE');var e=sap.ui.getCore().byId(this.getId()+'--'+'INBOX_FILTER_DUE_DATETIME');var T=[];if(t&&F.indexOfList(t)!==-1&&b.TaskType&&b.TaskType.length>0){t.data('initialFilterKeysToSelect',b.TaskType);if(f.TaskType!==undefined&&f.TaskType.length>0){T.push(f.TaskType)}}else{this.clearFiltersForTaskType()}if(p&&F.indexOfList(p)!==-1&&b.Priority&&b.Priority.length>0){p.setSelectedKeys(b.Priority);if(f.Priority!==undefined&&f.Priority.length>0){T.push(f.Priority)}}else{this.clearFiltersForPriority()}if(c&&F.indexOfList(c)!==-1&&b.Status&&b.Status.length>0){c.setSelectedKeys(b.Status);if(f.Status!==undefined&&f.Status.length>0){if((a.sPath==='Status')&&(a.sOperator==='NE')){a=undefined;delete this.filtersToApply.dropDownFilter}T.push(f.Status)}}else{this.clearFiltersForStatus()}if(d&&F.indexOfList(d)!==-1&&b.StartDate&&b.StartDate.length>0){d.setSelectedKeys(b.StartDate);if(f.StartDate!==undefined){T.push(f.StartDate)}}else{this.clearFiltersForDateTime()}if(e&&F.indexOfList(e)!==-1&&b.DueDate&&b.DueDate.length>0){e.setSelectedKeys(b.DueDate);if(f.DueDate!==undefined){T.push(f.DueDate)}}else{this.clearFiltersForDueDate()}var g=[];for(var i=0;i<T.length;i++){var o=T[i];g=this._addFilterToFilterMetadata(o,g)}if(a){g=this._addFilterToFilterMetadata(a,g);this.filtersToApply.dropDownFilter=a}return g};\nsap.uiext.inbox.Inbox.prototype._setInitialFilterKeysforTaskType=function(t){if(t.getItems().length>0&&t.data('initialFilterKeysToSelect')!=null){t.setSelectedKeys(t.data('initialFilterKeysToSelect'));t.data(null)}};\nsap.uiext.inbox.Inbox.prototype._isInitialFilterAppliedforTaskType=function(t){return t?((t.data('initialFilterKeysToSelect')!=null)?true:false):false};\nsap.uiext.inbox.Inbox.prototype._getTaskStatus=function(v,s){var S=this.oTcmMetadata.serviceSupportsFilterOption;var t=this._oBundle.getText(sap.uiext.inbox.InboxConstants.statusMap[v]);if(S&&s){return s}else if(t){return t}else if(!t){return v}else{return''}};\nsap.uiext.inbox.Inbox.prototype._manageVisibilityOfSettingsButton=function(s){if(s!=null){var a=false;var m=s.getMenu();if(m!=null){var b=m.getItems();var n=b.length;for(var c=0;c<n;c++){var d=b[c];if(d.getVisible()&&d.getEnabled()){a=true;break}}}s.setVisible(a)}};\nsap.uiext.inbox.Inbox.prototype._handleRowRepeaterPaginatorClick=function(e){var n=e.getParameter('targetPage');var o=e.getParameter('srcPage');var t=this._getComponent('tasksRowRepeater');if(t){t.gotoPage(n)}};\nsap.uiext.inbox.Inbox.prototype._getCustomAttributeContentforRowRepeater=function(c,r){var s=this.getModel().getProperty('TaskDefinitionID',c.getParent().getBindingContext());var S=this.getModel().getProperty('InstanceID',c.getParent().getBindingContext());var a=this.getModel().getProperty('SAP__Origin',c.getParent().getBindingContext());var C=this._getCustomAttributeMetaData(s,a);if(C&&C.length>0){var b=this._getCustomAttributeData(S,a);return this._createCustomAttributesRRViewMatrixLayout(C,b,r)}};\nsap.uiext.inbox.Inbox.prototype._getCommentsContentforRowRepeater=function(c,r){var s=this.getModel().getProperty('InstanceID',c.getParent().getBindingContext());var S=this.getModel().getProperty('SAP__Origin',c.getParent().getBindingContext());var i=this._getComponent('comments-'+r);if(!i){var i=new sap.uiext.inbox.composite.InboxTaskComments(this.getId()+'--'+'comments-'+r);i.attachCommentSubmit(this,this.handleCommentAdded)}i.data('instanceID',s);i.data('SapOrigin',S);var C=this._getComments(s,S);var o=new sap.ui.model.json.JSONModel();o.setData(C);i.setModel(o);var a=new sap.uiext.inbox.composite.InboxComment({sender:'{CreatedByName}',text:'{Text}',});a.bindProperty('timestamp','CreatedAt',this.tooltipFormatForDateTime);i.bindAggregation('comments',{path:'/',template:a});return i};\nsap.uiext.inbox.Inbox.prototype._handleActionButtonToggleinRowRepeater=function(e){var b=e.getSource(),a=e.getParameters().id;var t='tasksRowRepeater-';var i=a.indexOf(t)+t.length;var r=a.substring(i,a.length);var A=this._removeParentID(a).replace('-'+this.getId()+'--'+t+r,'');if(b.getPressed()){this.inboxUtils.deSelectOtherActionButtonsinStreamView(b);b.setTooltip(this._oBundle.getText(this.constants.mTooltipforActionButtonsinRR.hide[A]));var c,d;if(A==='customAttributesSegBtn'){c=this._getCustomAttributeContentforRowRepeater(b,r);d='customAttributes'}else if(A==='commentsSegBtn'){c=this._getCommentsContentforRowRepeater(b,r);d='comments'}this._addActionContentinRowRepeater(r,d,c);this.data('previousSelection',a)}else{b.setTooltip(this._oBundle.getText(this.constants.mTooltipforActionButtonsinRR.show[A]));this._removeActionContentinRowRepeater(r)}};\nsap.uiext.inbox.Inbox.prototype.handleCommentAdded=function(e,i){var f=e.getSource();var m=i.getCoreModel();var c=e.getParameter('text');var a=decodeURIComponent(this.data('instanceID'));var s=this.data('SapOrigin');var r={async:false,requestUri:i.bpmSvcUrl+\"/AddComment?InstanceID='\"+a+\"'&SAP__Origin='\"+s+\"'&Text='\"+encodeURIComponent(c)+\"'&$format=json\",method:'POST',headers:{'Accept':i.constants.acceptHeaderforJSON,'x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(r,function(d,b){var C=d.CreatedByName;C?f.setFeederSender(C):f.setFeederSender('');var n=new sap.uiext.inbox.composite.InboxComment(f.getId()+'-new-'+f.getComments().length,{text:d.Text,timestamp:i.tooltipFormatForDateTime(d.CreatedAt),sender:C,thumbnailSrc:f.getFeederThumbnailSrc()});f.addComment(n);i.showMessage('success',i._oBundle.getText('INBOX_MSG_COMMENT_ADD_SUCCESS'))},function(b){i.showMessage('error',i._oBundle.getText('INBOX_MSG_COMMENT_ADD_FAILED'))})};\nsap.uiext.inbox.Inbox.prototype._getComments=function(t,s){var c=this.constants;var T=c.TaskCollection;var u=c.forwardSlash+T.entityName+'('+T.properties.instanceID+\"='\"+t+\"',\"+c.sapOrigin+\"='\"+s+\"')\"+c.forwardSlash+T.navParam.comments;var r=this.bpmSvcUrl+u;var m=this.getCoreModel(),C=[];var R={async:false,requestUri:r,method:'GET',headers:{Accept:c.acceptHeaderforJSON,'x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(R,function(d,a){C=d.results},function(e){this.showMessage('error',this._oBundle.getText('INBOX_MSG_ACTION_FAILED'))});return C};\nsap.uiext.inbox.Inbox.prototype._removeActionContentinRowRepeater=function(r){var b=this.getId()+'--'+'rrMainMatrixLayout'+'-'+this.getId()+'--'+'tasksRowRepeater-';var a=sap.ui.getCore().byId(b+r);if(a){var l=this.getId()+'--'+'lastRowOfRowRepeater-'+r;var c=sap.ui.getCore().byId(l);if(c){var d=this.getId()+'--'+'lastRowCell-'+r;var e=sap.ui.getCore().byId(d);if(e){e.removeAllContent()}a.removeRow(l)}}return a};\nsap.uiext.inbox.Inbox.prototype._addActionContentinRowRepeater=function(r,a,c){var b=this._removeActionContentinRowRepeater(r);if(b){var l=this.getId()+'--'+'lastRowOfRowRepeater-'+r;var d=sap.ui.getCore().byId(l);if(!d){d=new sap.ui.commons.layout.MatrixLayoutRow({id:l})}var e=this.getId()+'--'+'lastRowCell-'+r;var f=sap.ui.getCore().byId(e);if(!f){f=new sap.ui.commons.layout.MatrixLayoutCell({id:e,padding:sap.ui.commons.layout.Padding.None,vAlign:sap.ui.commons.layout.VAlign.Middle,colSpan:3})}a==='comments'?f.setHAlign(sap.ui.commons.layout.HAlign.Begin):f.setHAlign(sap.ui.commons.layout.HAlign.End);f.addContent(c);d.addCell(f);b.addRow(d)}};\nsap.uiext.inbox.Inbox.prototype._searchText=function(t,s){return t.toLowerCase().indexOf(s.toLowerCase())>=0?true:false};\nsap.uiext.inbox.Inbox.prototype._getValuePresent=function(d,n,N,s){var a,o,b;if(!n){return false}if(n.__list instanceof Array){o=n.__list[0]}else{o=n.__ref}b=d[o];if(o){var c=b?b[N]:'';if(c){return this._searchText(c,s)}}return false};\nsap.uiext.inbox.Inbox.prototype._searchUsers=function(s){var t=this;var f=this.oTCMModel.getFunctionImportHandler();f.setServiceURL(this.bpmSvcUrl);f.setHeaders({Accept:this.constants.acceptHeaderforJSON,'x-csrf-token':this.oModel.oHeaders['x-csrf-token']});var S=s.sSearchTerm;var m=s.iMaxResults;var a=s.sSAPOrigin;var r;f.callSearchUsers({SearchPattern:S,MaxResults:m,SAP__Origin:a},function(d,b){r=d},function(e){t.showMessage('error',t._oBundle.getText('INBOX_MSG_ACTION_FAILED'))});return r};\nsap.uiext.inbox.Inbox.prototype._handleForwardButtonVisibilityOnRowSelection=function(s){var f=this._getComponent('forwardActionButton');var c=this._isCompletedTasksSelected();if(this.isForwardActionEnabled&&!c&&s.length==1){f.setEnabled(true).data('SAP__Origin',s)}else{f.setEnabled(false)}};\nsap.uiext.inbox.Inbox.prototype.setConfiguration=function(c){this.oConfiguration=c};\nsap.uiext.inbox.Inbox.prototype._handleSearchUsersClickforForward=function(e){var f=e.oParentSource;var s=f.data('SAP__Origin');if(!s){var c=f.getBindingContext();s=this.getCoreModel().getProperty('SAP__Origin',c)}var m=this.oConfiguration?this.oConfiguration.getSearchUersMaxLimit():100;return this._searchUsers({sSearchTerm:this._getComponent('oSearch').getValue(),iMaxResults:m,sSAPOrigin:s})};\nsap.uiext.inbox.Inbox.prototype._bindTaskActionsProperties=function(t,p){t.setVisible(true);t.bindProperty('enabled',p)};\nsap.uiext.inbox.Inbox.prototype._bindTaskActions=function(e){var c=sap.ui.getCore().byId(this.getId()+'--'+'claimActionButton');var r=sap.ui.getCore().byId(this.getId()+'--'+'releaseActionButton');var a=sap.ui.getCore().byId(this.getId()+'--'+'openActionButton');var f=sap.ui.getCore().byId(this.getId()+'--'+'forwardActionButton');var b=sap.ui.getCore().byId(this.getId()+'--'+'rrViewClaimAction');var d=sap.ui.getCore().byId(this.getId()+'--'+'rrViewReleaseAction');var g=sap.ui.getCore().byId(this.getId()+'--'+'rrViewForwardAction');var h=sap.ui.getCore().byId(this.getId()+'--'+'dotSeparator');var i=sap.ui.getCore().byId(this.getId()+'--'+'dotSeparator2');if(this.typeOfModel==='OData'){if(this.oTcmMetadata._isSupportsClaim()){this._bindTaskActionsProperties(c,'SupportsClaim');this._bindTaskActionsProperties(b,'SupportsClaim');h.setVisible(true)}if(this.oTcmMetadata._isSupportsRelease()){this._bindTaskActionsProperties(r,'SupportsRelease');this._bindTaskActionsProperties(d,'SupportsRelease');i.setVisible(true)}if(this.oTcmMetadata._isSupportsForward()&&this.isForwardActionEnabled){this._bindTaskActionsProperties(f,'SupportsForward');this._bindTaskActionsProperties(g,'SupportsForward')}}else{this.showAllActions();b.bindProperty('enabled','SupportsClaim');d.bindProperty('enabled','SupportsRelease');if(this.isForwardActionEnabled){g.bindProperty('enabled','SupportsForward')}}};\n",
	"sap/uiext/inbox/InboxConfiguration.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxConfiguration');sap.ui.base.Object.extend('sap.uiext.inbox.InboxConfiguration',{constructor:function(){sap.ui.base.Object.apply(this);this.iSearchUsersMaxLimit=100}});\nsap.uiext.inbox.InboxConfiguration.prototype.setSearchUsersMaxLimit=function(m){if(typeof m==='number'){this.iSearchUsersMaxLimit=m}};\nsap.uiext.inbox.InboxFilters.prototype.getSearchUsersMaxLimit=function(){return this.iSearchUsersMaxLimit};\n",
	"sap/uiext/inbox/InboxConstants.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxConstants');\nsap.uiext.inbox.InboxConstants=function(){};\nsap.uiext.inbox.InboxConstants.prototype=jQuery.sap.newObject(sap.ui.base.Object.prototype);sap.uiext.inbox.InboxConstants.mEntities={taskMetadata:{propertiesLabel:['INBOX_TASK_TITLE','INBOX_START_DATE','INBOX_CREATED_BY_NAME','INBOX_DUE_DATE','INBOX_STATUS','INBOX_PRIORITY'],properties:['TaskTitle','CreatedOn','CreatedByName','CompletionDeadLine','Status','Priority'],customAttributes:[]}};sap.uiext.inbox.InboxConstants.TABLE_VIEW_TECH_NAMES={INBOX_TABLE_VIEW_TASK_TITLE:'TaskTitle',INBOX_TABLE_VIEW_CREATION_DATE:'CreatedOn',INBOX_CREATED_BY_NAME:'CreatedByName',INBOX_TABLE_VIEW_DUE_DATE:'CompletionDeadLine',INBOX_TABLE_VIEW_STATUS:'Status',INBOX_TABLE_VIEW_PRIORITY:'Priority'};sap.uiext.inbox.InboxConstants.tableViewImageSelected='table_view_selected.png';sap.uiext.inbox.InboxConstants.tableViewImageUnselected='table_view_unselected.png';sap.uiext.inbox.InboxConstants.rrViewImageSelected='rr_view_selected.png';sap.uiext.inbox.InboxConstants.rrViewImageUnselected='rr_view_unselected.png';sap.uiext.inbox.InboxConstants.filterViewImageSelected='drilldown_filter_selected.png';sap.uiext.inbox.InboxConstants.filterViewImageUnSelected='drilldown_filter_unselected.png';sap.uiext.inbox.InboxConstants.nxtBtnImage='next.png';sap.uiext.inbox.InboxConstants.prevBtnImage='previous.png';sap.uiext.inbox.InboxConstants.refreshImage='refresh.png';sap.uiext.inbox.InboxConstants.refreshImageGif='refresh_ani.gif';sap.uiext.inbox.InboxConstants.loaderImage='loader_ani.gif';sap.uiext.inbox.InboxConstants.completeImage='complete_action.png';sap.uiext.inbox.InboxConstants.claimImage='claim_action.png';sap.uiext.inbox.InboxConstants.releaseImage='release_action.png';sap.uiext.inbox.InboxConstants.forwardTaskImage='forwardTask.png';sap.uiext.inbox.InboxConstants.settingsImage='settings_button_regular.png';sap.uiext.inbox.InboxConstants.settingsImageHover='settings_button_hover.png';sap.uiext.inbox.InboxConstants.sapLogo='sap_logo.gif';sap.uiext.inbox.InboxConstants.taskInitiatorDefaultImage='taskInitiator_default.png';sap.uiext.inbox.InboxConstants.attachmentsImage='attachment.png';sap.uiext.inbox.InboxConstants.commentsImage='comments.png';sap.uiext.inbox.InboxConstants.customAttributesImage='custom_attributes.png';sap.uiext.inbox.InboxConstants.COLON=':';sap.uiext.inbox.InboxConstants.DOT=String.fromCharCode(183);sap.uiext.inbox.InboxConstants.LESS_THAN=String.fromCharCode(60);sap.uiext.inbox.InboxConstants.GREATER_THAN=String.fromCharCode(62);sap.uiext.inbox.InboxConstants.sortAscImage='sort_asc.gif';sap.uiext.inbox.InboxConstants.sortDescImage='sort_desc.gif';sap.uiext.inbox.InboxConstants.SPACE=' ';sap.uiext.inbox.InboxConstants.EQUALS='=';sap.uiext.inbox.InboxConstants.taskCategoryImage='task.png';sap.uiext.inbox.InboxConstants.alertCategoryImage='alert.png';sap.uiext.inbox.InboxConstants.notificationCategoryImage='notification.png';sap.uiext.inbox.InboxConstants.rrViewAlertCategoryImage='rr_view_alert.png';sap.uiext.inbox.InboxConstants.rrViewNotificationCategoryImage='rr_view_notification.png';sap.uiext.inbox.InboxConstants.todoCategoryImage='todo.png';sap.uiext.inbox.InboxConstants.rrViewTodoCategoryImage='rr_view_todo.png';sap.uiext.inbox.InboxConstants.defaultView_URLParameter='sap-ui-inbox-defaultView';sap.uiext.inbox.InboxConstants.statusTooltip={COMPLETED:'INBOX_FILTER_STATUS_COMPLETED',READY:'INBOX_FILTER_STATUS_READY',RESERVED:'INBOX_FILTER_STATUS_RESERVED',IN_PROGRESS:'INBOX_FILTER_STATUS_IN_PROGRESS',SELECTED:'INBOX_FILTER_STATUS_RESERVED',STARTED:'INBOX_FILTER_STATUS_IN_PROGRESS',COMMITTED:'INBOX_FILTER_STATUS_COMPLETED'};sap.uiext.inbox.InboxConstants.prioTooltip={VERY_HIGH:'INBOX_FILTER_PRIORITY_VERY_HIGH',HIGH:'INBOX_FILTER_PRIORITY_HIGH',MEDIUM:'INBOX_FILTER_PRIORITY_MEDIUM',LOW:'INBOX_FILTER_PRIORITY_LOW',1:'INBOX_FILTER_PRIORITY_VERY_HIGH',2:'INBOX_FILTER_PRIORITY_VERY_HIGH',3:'INBOX_FILTER_PRIORITY_HIGH',4:'INBOX_FILTER_PRIORITY_HIGH',5:'INBOX_FILTER_PRIORITY_MEDIUM',6:'INBOX_FILTER_PRIORITY_LOW',7:'INBOX_FILTER_PRIORITY_LOW',8:'INBOX_FILTER_PRIORITY_LOW',9:'INBOX_FILTER_PRIORITY_LOW'};sap.uiext.inbox.InboxConstants.statusImages={COMPLETED:'completed_status.png',READY:'ready_status.png',RESERVED:'reserved_status.png',IN_PROGRESS:'inprocess_status.png',SELECTED:'reserved_status.png',STARTED:'inprocess_status.png',COMMITTED:'completed_status.png'};sap.uiext.inbox.InboxConstants.prioImages={VERY_HIGH:'very_high_priority.png',HIGH:'high_priority.png',MEDIUM:'medium_priority.png',LOW:'low_priority.png',1:'very_high_priority.png',2:'very_high_priority.png',3:'high_priority.png',4:'high_priority.png',5:'medium_priority.png',6:'low_priority.png',7:'low_priority.png',8:'low_priority.png',9:'low_priority.png'};sap.uiext.inbox.InboxConstants.taskCategoryImages={TASK:'task.png',ALERT:'alert.png',NOTIFICATION:'notification.png',TODO:'todo.png'};sap.uiext.inbox.InboxConstants.taskCategoryToolTip={TASK:'INBOX_TASK_CATEGORY',ALERT:'INBOX_ALERT_CATEGORY',NOTIFICATION:'INBOX_NOTIFICATION_CATEGORY',TODO:'INBOX_TODO_CATEGORY'};sap.uiext.inbox.InboxConstants.messageTypeIcons={error:'error.png',warning:'warning.png',success:'success.png',info:'Info.png'};sap.uiext.inbox.InboxConstants.statusMap={COMPLETED:'INBOX_FILTER_STATUS_COMPLETED',READY:'INBOX_FILTER_STATUS_READY',RESERVED:'INBOX_FILTER_STATUS_RESERVED',IN_PROGRESS:'INBOX_FILTER_STATUS_IN_PROGRESS'};sap.uiext.inbox.InboxConstants.messageTypeToolTip={error:'INBOX_MSG_STATUS_ERROR',warning:'INBOX_MSG_STATUS_WARN',success:'INBOX_MSG_STATUS_SUCCESS',info:'INBOX_MSG_STATUS_INFO'};sap.uiext.inbox.InboxConstants.mRRSortMap={li_creationDate:'sortByStartDate',li_status:'sortByStatus',li_taskTitle:'sortByTaskTitle'};sap.uiext.inbox.InboxConstants.closeImg='close_button.png';sap.uiext.inbox.InboxConstants.closeHovImg='close_hover.png';sap.uiext.inbox.InboxConstants.aFilterMetaData=[{name:'INBOX_FILTER_TASK_TYPE',attributes:[]},{name:'INBOX_FILTER_PRIORITY',attributes:['INBOX_FILTER_PRIORITY_LOW','INBOX_FILTER_PRIORITY_MEDIUM','INBOX_FILTER_PRIORITY_HIGH','INBOX_FILTER_PRIORITY_VERY_HIGH']},{name:'INBOX_FILTER_STATUS',attributes:['INBOX_FILTER_STATUS_READY','INBOX_FILTER_STATUS_RESERVED','INBOX_FILTER_STATUS_IN_PROGRESS']},{name:'INBOX_FILTER_CREATION_DATE',attributes:['INBOX_FILTER_DATETIME_TODAY','INBOX_FILTER_DATETIME_WEEK','INBOX_FILTER_DATETIME_15DAYS','INBOX_FILTER_DATETIME_MONTH']},{name:'INBOX_FILTER_DUE_DATETIME',attributes:['INBOX_FILTER_DUE_DATETIME_TODAY','INBOX_FILTER_DUE_DATETIME_WEEK','INBOX_FILTER_DUE_DATETIME_15DAYS','INBOX_FILTER_DUE_DATETIME_MONTH']}];sap.uiext.inbox.InboxConstants.rightAlignedTypes=['java.lang.Integer','java.math.BigDecimal','java.lang.Long','java.lang.Float'];sap.uiext.inbox.InboxConstants.decisionOptionsFunctionImport='DecisionOptions';sap.uiext.inbox.InboxConstants.decisionExecutionFunctionImport='Decision';sap.uiext.inbox.InboxConstants.claimFunctionImport='Claim';sap.uiext.inbox.InboxConstants.releaseFunctionImport='Release';sap.uiext.inbox.InboxConstants.tableView='sap_inbox_list';sap.uiext.inbox.InboxConstants.rowRepeaterView='sap_inbox_stream';sap.uiext.inbox.InboxConstants.inboxViews=[sap.uiext.inbox.InboxConstants.tableView,sap.uiext.inbox.InboxConstants.rowRepeaterView];sap.uiext.inbox.InboxConstants.customAction='customAction';sap.uiext.inbox.InboxConstants.sapOrigin='SAP__Origin';sap.uiext.inbox.InboxConstants.taskDefinitionDecisionOptionsMap={};sap.uiext.inbox.InboxConstants.oTaskDefinitionCustomAttributesMap={};sap.uiext.inbox.InboxConstants.oTaskInstanceCustomAttributeValuesMap={};sap.uiext.inbox.InboxConstants.forwardSlash='/';sap.uiext.inbox.InboxConstants.amperSand='&';sap.uiext.inbox.InboxConstants.query='?';sap.uiext.inbox.InboxConstants.formatJSONURLParam='$format=json';sap.uiext.inbox.InboxConstants.acceptHeaderforJSON='application/json';sap.uiext.inbox.InboxConstants.REFRESH_ON_DATE_PATTERN='MMM dd, HH:mm';sap.uiext.inbox.InboxConstants.FORWARD='Forward';sap.uiext.inbox.InboxConstants.customAttributeNavigationParam='CustomAttributeData';sap.uiext.inbox.InboxConstants.taskDefinitionNavigationParam='TaskDefinitionData';sap.uiext.inbox.InboxConstants.UserInfoCollection='UserInfoCollection';sap.uiext.inbox.InboxConstants.TaskDefinitionCollection={entityName:'TaskDefinitionCollection',navParam:{customAttrDefn:'CustomAttributeDefinitionData'},properties:{taskDefnID:'TaskDefinitionID'}};sap.uiext.inbox.InboxConstants.TaskCollection={entityName:'TaskCollection',navParam:{customAttrValues:'CustomAttributeData',comments:'Comments'},properties:{instanceID:'InstanceID'}};sap.uiext.inbox.InboxConstants.mEntitiesToElements={taskMetadata:{sap_inbox_list:{columnsMap:{TaskTitle:'TaskTitle',CreatedOn:'CreatedOn',CompletionDeadLine:'CompletionDeadLine',Status:'Status',Priority:'Priority'}},sap_inbox_stream:{sorterMap:{CreatedOn:'li_creationDate',TaskTitle:'li_taskTitle',Status:'li_status'}},}};sap.uiext.inbox.InboxConstants.ENTITY_NAME_TASK_COLLECTION='Task';sap.uiext.inbox.InboxConstants.PROPERTY_NAME_CUSTOM_STATUS='StatusText';sap.uiext.inbox.InboxConstants.mTooltipforActionButtonsinRR={show:{customAttributesSegBtn:'INBOX_SHOW_CUSTOM_ATTRIBUTES',commentsSegBtn:'INBOX_SHOW_COMMENTS'},hide:{customAttributesSegBtn:'INBOX_HIDE_CUSTOM_ATTRIBUTES',commentsSegBtn:'INBOX_HIDE_COMMENTS'}};sap.uiext.inbox.InboxConstants.NAVIGATION_DESCRIPTION='Description';sap.uiext.inbox.InboxConstants.NAVIGATION_TASKDEFINITION='TaskDefinitionData';sap.uiext.inbox.InboxConstants.TABLE_COLUMN={TASK_TITLE:0,CREATED_ON:1,CREATED_BY:2,COMPLETION_DEADLINE:3,STATUS:4,PRIORITY:5,};\n",
	"sap/uiext/inbox/InboxFilters.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxFilters');jQuery.sap.require('sap.uiext.inbox.InboxUtils');jQuery.sap.require('sap.uiext.inbox.InboxSecondaryFilters');jQuery.sap.require('sap.uiext.inbox.InboxPrimaryFilters');sap.ui.base.Object.extend('sap.uiext.inbox.InboxFilters',{constructor:function(){sap.ui.base.Object.apply(this);this.oPrimaryFilter=undefined;this.oSecondaryFilter=undefined;this.inboxUtils=sap.uiext.inbox.InboxUtils}});\nsap.uiext.inbox.InboxFilters.prototype.setPrimaryFilter=function(p){if(p instanceof sap.uiext.inbox.InboxPrimaryFilters){this.oPrimaryFilter=p}};\nsap.uiext.inbox.InboxFilters.prototype.setSecondaryFilter=function(s){if(s instanceof sap.uiext.inbox.InboxSecondaryFilters||s instanceof sap.uiext.inbox.TaskInitialFilters){this.oSecondaryFilter=s}};\nsap.uiext.inbox.InboxFilters.prototype.getPrimaryFilter=function(p){return this.oPrimaryFilter};\nsap.uiext.inbox.InboxFilters.prototype.getSecondaryFilter=function(s){return this.oSecondaryFilter};\n",
	"sap/uiext/inbox/InboxLink.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxLink');jQuery.sap.require('sap.uiext.inbox.InboxConstants');sap.ui.commons.Link.extend('sap.uiext.inbox.InboxLink',{init:function(){if(sap.ui.commons.Link.prototype.init){sap.ui.commons.Link.prototype.init.apply(this,arguments)}this._oBundle=sap.ui.getCore().getLibraryResourceBundle('sap.uiext.inbox')},metadata:{properties:{'overdue':{type:'boolean',defaultValue:false}}},setOverdue:function(v){this.setProperty('overdue',v);if(v){this.addStyleClass('sapUiExtInboxRedColor')}else{this.removeStyleClass('sapUiExtInboxRedColor')}return this},onclick:function(e){if(this.getEnabled()){if(!this.firePress({windowEvent:e})){e.preventDefault()}}else{e.preventDefault()}},setText:function(v){if(v!==undefined){var V=v?v.replace(/^\\s+|\\s+$/g,''):v;var l=sap.uiext.inbox.InboxConstants.LESS_THAN;var g=sap.uiext.inbox.InboxConstants.GREATER_THAN;if(!V){v=l+this._oBundle.getText('INBOX_TASK_TITLE_NOTAVAILABLE_MSG')+g}}sap.ui.commons.Link.prototype.setText.call(this,[v])},setTooltip:function(v){var V=v?v.replace(/^\\s+|\\s+$/g,''):v;if(!V){v=this._oBundle.getText('INBOX_TASK_TITLE_NOTAVAILABLE_MSG')}else{v=V+'\\n'+this._oBundle.getText('INBOX_CURRENT_TASKTITLE_TOOLTIP')}sap.ui.commons.Link.prototype.setTooltip.call(this,v)},renderer:function(R,l){var a=R,r=sap.ui.commons.LinkRenderer;if(!l.getVisible()){return}a.write('<a');a.writeControlData(l);a.writeAccessibilityState(l);if(!l.getEnabled()){a.addClass('sapUiLnkDsbl');a.writeAttribute('disabled','true')}else{a.addClass('sapUiLnk')}a.writeClasses();if(l.getTooltip_AsString()){a.writeAttributeEscaped('title',l.getTooltip_AsString())}if(l.getHref()){a.writeAttributeEscaped('href',l.getHref())}else{a.writeAttribute('href','javascript:void(0);')}if(l.getTarget()){a.writeAttributeEscaped('target',l.getTarget())}if(!l.getEnabled()){a.writeAttribute('tabIndex','-1')}else{a.writeAttribute('tabIndex','0')}if(l.getWidth()){a.addStyle('width',l.getWidth())}a.writeStyles();a.write('>');if(l.getText()){var t=l.getText();if(l.getOverdue()){t='! '+t}a.writeEscaped(t)}a.write('</a>')}});\n",
	"sap/uiext/inbox/InboxPrimaryFilterEnum.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxPrimaryFilterEnum');sap.uiext.inbox.InboxPrimaryFilterEnum={OPEN:{key:'li_openTasks',value:'open'},COMPLETED:{key:'li_completedTasks',value:'completed'},ESCALATED:{key:'li_escalatedTasks',value:'escalated'},OVERDUE:{key:'li_overdueTasks',value:'overdue'}};\n",
	"sap/uiext/inbox/InboxPrimaryFilters.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxPrimaryFilters');jQuery.sap.require('sap.uiext.inbox.InboxUtils');jQuery.sap.require('sap.uiext.inbox.InboxPrimaryFilters');jQuery.sap.require('sap.uiext.inbox.InboxPrimaryFilterEnum');sap.ui.base.Object.extend('sap.uiext.inbox.InboxPrimaryFilters',{constructor:function(){sap.ui.base.Object.apply(this);this.oFilter=undefined;this.inboxUtils=sap.uiext.inbox.InboxUtils;this.oPrimaryFilterEnum=sap.uiext.inbox.InboxPrimaryFilterEnum}});\nsap.uiext.inbox.InboxPrimaryFilters.prototype.setFilter=function(f){if(f&&f.hasOwnProperty('key')&&f.hasOwnProperty('value')){this.oFilter=f}};\nsap.uiext.inbox.InboxPrimaryFilters.prototype.getFilter=function(){return this.oFilter};\n",
	"sap/uiext/inbox/InboxRenderer.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxRenderer');sap.uiext.inbox.InboxRenderer={};\nsap.uiext.inbox.InboxRenderer.render=function(r,c){r.write('<div');r.writeControlData(c);r.writeAttribute('class','sapUiExtInbox');r.write('>');r.renderControl(c.vLayout);r.write('</div>')};\n",
	"sap/uiext/inbox/InboxSecondaryFilterPathEnum.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxSecondaryFilterPathEnum');jQuery.sap.require('sap.uiext.inbox.InboxSecondaryFilterValuesEnum');sap.uiext.inbox.InboxSecondaryFilterPathEnum={STATUS:{key:'Status',allowedKeyValues:['INBOX_FILTER_STATUS_READY','INBOX_FILTER_STATUS_RESERVED','INBOX_FILTER_STATUS_IN_PROGRESS']},PRIORITY:{key:'Priority',allowedKeyValues:['INBOX_FILTER_PRIORITY_LOW','INBOX_FILTER_PRIORITY_MEDIUM','INBOX_FILTER_PRIORITY_HIGH','INBOX_FILTER_PRIORITY_VERY_HIGH']},DUEDATE:{key:'DueDate',allowedKeyValues:['INBOX_FILTER_DUE_DATETIME_TODAY','INBOX_FILTER_DUE_DATETIME_MONTH','INBOX_FILTER_DUE_DATETIME_WEEK','INBOX_FILTER_DUE_DATETIME_15DAYS']},STARTDATE:{key:'StartDate',allowedKeyValues:['INBOX_FILTER_DATETIME_TODAY','INBOX_FILTER_DATETIME_MONTH','INBOX_FILTER_DATETIME_WEEK','INBOX_FILTER_DATETIME_15DAYS']},TASKTYPE:{key:'TaskType',allowedKeyValues:[]}};\n",
	"sap/uiext/inbox/InboxSecondaryFilterValuesEnum.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxSecondaryFilterValuesEnum');\nsap.uiext.inbox.InboxSecondaryFilterValuesEnum=function(){throw new Error()};\nsap.uiext.inbox.InboxSecondaryFilterValuesEnum={Status:{READY:{key:'READY',uiKey:'INBOX_FILTER_STATUS_READY',filterKey:'readyStat'},RESERVED:{key:'RESERVED',uiKey:'INBOX_FILTER_STATUS_RESERVED',filterKey:'resStat'},INPROGRESS:{key:'IN_PROGRESS',uiKey:'INBOX_FILTER_STATUS_IN_PROGRESS',filterKey:'InProStat'}},Priority:{LOW:{key:'LOW',uiKey:'INBOX_FILTER_PRIORITY_LOW',filterKey:'lowPrio'},MEDIUM:{key:'MEDIUM',uiKey:'INBOX_FILTER_PRIORITY_MEDIUM',filterKey:'medPrio'},HIGH:{key:'HIGH',uiKey:'INBOX_FILTER_PRIORITY_HIGH',filterKey:'hiPrio'},VERYHIGH:{key:'VERY_HIGH',uiKey:'INBOX_FILTER_PRIORITY_VERY_HIGH',filterKey:'veryhiPrio'}},StartDate:{TODAY:{key:'Today',uiKey:'INBOX_FILTER_DATETIME_TODAY',filterKey:'today'},LAST7DAYS:{key:'Last_7_days',uiKey:'INBOX_FILTER_DATETIME_WEEK',filterKey:'last7'},LAST15DAYS:{key:'Last_15_days',uiKey:'INBOX_FILTER_DATETIME_15DAYS',filterKey:'last15'},LAST30DAYS:{key:'Last_30_days',uiKey:'INBOX_FILTER_DATETIME_MONTH',filterKey:'last30'}},DueDate:{TODAY:{key:'Today',uiKey:'INBOX_FILTER_DUE_DATETIME_TODAY',filterKey:'dueDateToday'},NEXT7DAYS:{key:'Next_7_days',uiKey:'INBOX_FILTER_DUE_DATETIME_WEEK',filterKey:'dueDatenext7'},NEXT15DAYS:{key:'Next_15_days',uiKey:'INBOX_FILTER_DUE_DATETIME_15DAYS',filterKey:'dueDatenext15'},NEXT30DAYS:{key:'Next_30_days',uiKey:'INBOX_FILTER_DUE_DATETIME_MONTH',filterKey:'dueDatenext30'}}};\n",
	"sap/uiext/inbox/InboxSecondaryFilters.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxSecondaryFilters');jQuery.sap.require('sap.uiext.inbox.InboxUtils');jQuery.sap.require('sap.uiext.inbox.TaskInitialFilters');jQuery.sap.require('sap.uiext.inbox.InboxSecondaryFilterPathEnum');jQuery.sap.require('sap.uiext.inbox.InboxSecondaryFilterValuesEnum');sap.ui.base.Object.extend('sap.uiext.inbox.InboxSecondaryFilters',{constructor:function(){sap.ui.base.Object.apply(this);this.inboxUtils=sap.uiext.inbox.InboxUtils;this.mFiltersToApplyMap={};this.mFilterObjects;this.mSelectUIKeysMap={};this.filter=undefined;this.aFilterObjects=undefined;this.oPathEnum=sap.uiext.inbox.InboxSecondaryFilterPathEnum;this.oValuesEnum=sap.uiext.inbox.InboxSecondaryFilterValuesEnum}});\nsap.uiext.inbox.InboxSecondaryFilters.prototype.setStandardFilters=function(f){if(f instanceof sap.uiext.inbox.TaskInitialFilters||f instanceof Array){this.aFilterObjects=f;this._parseFilterObjects(f)}};\nsap.uiext.inbox.InboxSecondaryFilters.prototype.getStandardFilters=function(f){return this.aFilterObjects};\nsap.uiext.inbox.InboxSecondaryFilters.prototype._parseFilterObjects=function(f){if(f instanceof sap.uiext.inbox.TaskInitialFilters){this.filter=f}else{var F;for(var i=0;i<f.length;i++){F=f[i];this._createFilters(F)}}};\nsap.uiext.inbox.InboxSecondaryFilters.prototype._createFilters=function(f){var F=f.sPath,s=F.key,a=f.values;if(F&&a){var d=[this.oPathEnum.DUEDATE.key,this.oPathEnum.STARTDATE.key];a=(jQuery.inArray(s,d)===-1)?a:[a[0]];var b=a.length,i=0,c=[],C=[];if(F.key==='TaskType'){for(;i<b;i++){var o=a[i];if(o){var e=new sap.ui.model.Filter('TaskDefinitionID',sap.ui.model.FilterOperator.EQ,decodeURIComponent(a[i]));C.push(e);c.push(encodeURIComponent(a[i]));this.mFiltersToApplyMap[a[i]]=e}}}else{for(;i<b;i++){var A=F.allowedKeyValues;var o=a[i];if(o&&jQuery.inArray(o.uiKey,A)!==-1){var g=o.key;var e=this['_get'+s+'Filter'](g);C.push(e);c.push(o.uiKey);this.mFiltersToApplyMap[o.filterKey]=e}}}if(!this.mFilterObjects){this.mFilterObjects={}}this.mSelectUIKeysMap[s]=c;this.mFilterObjects[s]=C}};\nsap.uiext.inbox.InboxSecondaryFilters.prototype._getStatusFilter=function(f){return this.inboxUtils._getStatusFilters(f)};\nsap.uiext.inbox.InboxSecondaryFilters.prototype._getPriorityFilter=function(f){return this.inboxUtils._getPriorityFilters(f)};\nsap.uiext.inbox.InboxSecondaryFilters.prototype._getDueDateFilter=function(f){return this.inboxUtils._getDueDateFilters(f)};\nsap.uiext.inbox.InboxSecondaryFilters.prototype._getStartDateFilter=function(f){return this.inboxUtils._getDateTimeFilters(f)};\nsap.uiext.inbox.InboxSecondaryFilters.prototype.getFilterObjects=function(){return{filterOperatorMap:this.mFilterObjects,filtersAppliedMap:this.mFiltersToApplyMap}};\nsap.uiext.inbox.InboxSecondaryFilters.prototype.getFilterUIKeys=function(){return this.mSelectUIKeysMap};\n",
	"sap/uiext/inbox/InboxUtils.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.InboxUtils');jQuery.sap.require('sap.ui.model.odata.Filter');\nsap.uiext.inbox.InboxUtils=function(){throw new Error()};\nsap.uiext.inbox.InboxUtils._getStatusFilters=function(v){switch(v){case'READY':return new sap.ui.model.Filter('Status',sap.ui.model.FilterOperator.EQ,'READY');case'RESERVED':return new sap.ui.model.Filter('Status',sap.ui.model.FilterOperator.EQ,'RESERVED');case'IN_PROGRESS':return new sap.ui.model.Filter('Status',sap.ui.model.FilterOperator.EQ,'IN_PROGRESS')}};\nsap.uiext.inbox.InboxUtils._getPriorityFilters=function(v){switch(v){case'LOW':return new sap.ui.model.Filter('Priority',sap.ui.model.FilterOperator.EQ,'LOW');case'MEDIUM':return new sap.ui.model.Filter('Priority',sap.ui.model.FilterOperator.EQ,'MEDIUM');case'HIGH':return new sap.ui.model.Filter('Priority',sap.ui.model.FilterOperator.EQ,'HIGH');case'VERY_HIGH':return new sap.ui.model.Filter('Priority',sap.ui.model.FilterOperator.EQ,'VERY_HIGH')}};\nsap.uiext.inbox.InboxUtils._getDueDateFilters=function(v){var f=this._getFormattedDateTimeOff(0);var a=undefined;switch(v){case'Today':a=this._getFormattedDueDateTimeOff(1);break;case'Next_7_days':a=this._getFormattedDueDateTimeOff(7);break;case'Next_15_days':a=this._getFormattedDueDateTimeOff(15);break;case'Next_30_days':a=this._getFormattedDueDateTimeOff(30);break}return new sap.ui.model.odata.Filter('CompletionDeadLine',[{operator:sap.ui.model.FilterOperator.LE,value1:a.toUTCString()},{operator:sap.ui.model.FilterOperator.GE,value1:f.toUTCString()}],true)};\nsap.uiext.inbox.InboxUtils._getDateTimeFilters=function(v){var f=undefined;switch(v){case'Today':f=this._getFormattedDateTimeOff(0,false);break;case'Last_7_days':f=this._getFormattedDateTimeOff(7,false);break;case'Last_15_days':f=this._getFormattedDateTimeOff(15,false);break;case'Last_30_days':f=this._getFormattedDateTimeOff(30,false);break}return new sap.ui.model.Filter('CreatedOn',sap.ui.model.FilterOperator.GE,f.toUTCString())};\nsap.uiext.inbox.InboxUtils._getFormattedDueDateTimeOff=function(s){var m=new Date();m.setDate(m.getDate()+s);m.setMinutes(0);m.setHours(0);m.setSeconds(0);return m};\nsap.uiext.inbox.InboxUtils._getFormattedDateTimeOff=function(s,i){var m=new Date();m.setDate(m.getDate()-s);if(!i){m.setMinutes(0);m.setHours(0);m.setSeconds(0)}return m};\nsap.uiext.inbox.InboxUtils.inArray=function(k,m){var a=-1;jQuery.each(m,function(i,b){if(b[k]===k){a=i;return false}});return a};\nsap.uiext.inbox.InboxUtils._dateFormat=function(d){if(d!=undefined&&typeof(d)=='string'&&d!=''){var a;if(d.indexOf('Date')!=-1){a=new Date();a.setTime(d.substring((d.indexOf('(')+1),d.indexOf(')')))}else{a=new Date(d.substring((d.indexOf(\"'\")+1),d.length-1))}d=a}if(d!=undefined&&d!=''){var i=sap.ui.core.format.DateFormat.getDateInstance({style:'medium'});return i.format(d)}return''};\nsap.uiext.inbox.InboxUtils.scrub=function(d){d=decodeURIComponent(d);d=d.replace(/[-:.\\/]/g,'');d=d.replace(/-/g,'--');d=d.replace(/\\s+/g,'-');if(!(/^([A-Za-z_][-A-Za-z0-9_.:]*)$/.test(d))){if(/^[^A-Za-z_]/.test(d)){d=d.replace(/^[^A-Za-z_]/,'_')}d.replace(/[^-\\w_.:]/g,'_')}return d};\nsap.uiext.inbox.InboxUtils.setCookieValue=function(c,v,e){document.cookie=c+'='+escape(v)};\nsap.uiext.inbox.InboxUtils.getCookieValue=function(c){var i,x,y,C=document.cookie.split(';');for(i=0;i<C.length;i++){x=C[i].substr(0,C[i].indexOf('='));y=C[i].substr(C[i].indexOf('=')+1);x=x.replace(/^\\s+|\\s+$/g,'');if(x==(c)){return unescape(y)}}};\nsap.uiext.inbox.InboxUtils.deleteCookie=function(c){var d=new Date();document.cookie=c+'='+';expires=Thu, 01-Jan-1970 00:00:01 GMT'};\nsap.uiext.inbox.InboxUtils.reselectRowsinTable=function(r,t){var m=r[0];for(var i=0;i<r.length;i++){t.addSelectionInterval(r[i],r[i]);m=Math.min(r[i],m)}if(m){var f=Math.floor(m/10)*10;t.setFirstVisibleRow(f)}};\nsap.uiext.inbox.InboxUtils.deSelectOtherActionButtonsinStreamView=function(t){var T=t.getParent().getParent();if(T){var p=T.getCells();var n=p.length;for(var i=0;i<n;i++){var a=p[i].getContent()[0];if(a&&a!==t&&a instanceof sap.ui.commons.ToggleButton){if(a.getVisible()){a.setPressed(false);a.firePress(false)}}}}};\n",
	"sap/uiext/inbox/SubstitutionRulesManager.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\n */\njQuery.sap.declare('sap.uiext.inbox.SubstitutionRulesManager');jQuery.sap.require('sap.uiext.inbox.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.uiext.inbox.SubstitutionRulesManager',{metadata:{publicMethods:['bindSubstitutionRules'],library:'sap.uiext.inbox'}});\n/*!\r\n * @copyright@\r\n */\njQuery.sap.require('sap.uiext.inbox.InboxUtils');jQuery.sap.require('sap.uiext.inbox.SubstitutionRulesManagerConstants');jQuery.sap.require('sap.uiext.inbox.SubstitutionRulesManagerUtils');jQuery.sap.require('sap.uiext.inbox.TCMMetadata');\nsap.uiext.inbox.SubstitutionRulesManager.prototype.init=function(){var c=sap.ui.getCore().getConfiguration().getTheme();this._imgResourcePath=sap.ui.resource('sap.uiext.inbox','themes/'+c+'/img/');this._oBundle=sap.ui.getCore().getLibraryResourceBundle('sap.uiext.inbox');this.sUrl='';this.sPath='/SubstitutionRuleCollection';this.inboxUtils=sap.uiext.inbox.InboxUtils;this.substitutionRulesManagerUtils=sap.uiext.inbox.SubstitutionRulesManagerUtils;this.inboxConstants=sap.uiext.inbox.InboxConstants;this.substitutionConstants=sap.uiext.inbox.SubstitutionRulesManagerConstants;this.substitutionRuleCollection=this.substitutionConstants.SubstitutionRuleCollection;this.substitutesRuleCollection=this.substitutionConstants.SubstitutesRuleCollection;this.oTcmMetadata=new sap.uiext.inbox.TCMMetadata()};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.exit=function(){this.vLayout.destroy();this.vLayout=null;function r(i){var I=sap.ui.getCore().byId(i);I&&I.destroy()}this._oBundle=undefined};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.open=function(){this.sUrl=this.getModel().sServiceUrl;this.overlayContainer=this.populateOverlayContainer();this.overlayContainer.open()};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.populateOverlayContainer=function(){var t=this;var d=this.getId()+'--';var s=sap.ui.getCore().byId(d+'substitutionOverlayContainer');if(s===undefined){s=new sap.ui.ux3.OverlayContainer(d+'substitutionOverlayContainer');s.setParent(this);s.setOpenButtonVisible(false);s.attachClose(t,t.deleteMessage);var o=sap.ui.getCore().byId(d+'substitutionVLayout');if(o===undefined){o=new sap.ui.commons.layout.VerticalLayout(d+'substitutionVLayout')}o.setWidth('95%');o.addStyleClass('verticalLayoutStyle');var e=sap.ui.getCore().byId(d+'substDummyLabel0');if(e===undefined){e=new sap.ui.commons.Label(this.getId()+'--'+'substDummyLabel0',{text:''})}var n=sap.ui.getCore().byId(d+'newSubstitutionLink');if(n===undefined){n=new sap.ui.commons.Link(d+'newSubstitutionLink',{text:this._oBundle.getText('SUBSTITUTION_RULE_CREATE_NEW_BUTTON'),tooltip:this._oBundle.getText('SUBSTITUTION_RULE_CREATE_TOOLTIP')})}n.attachPress(t,t.openCreateSubstRulePopup);n.addStyleClass('newSubstitutionLink');var N=sap.ui.getCore().byId(d+'subsNavBar');if(N===undefined){N=new sap.ui.ux3.NavigationBar(d+'subsNavBar',{items:[new sap.ui.ux3.NavigationItem(d+'mySubstitutes',{key:d+'mySubstitutes',text:this._oBundle.getText('SUBSTITUTION_MY_SUBSTITUTES_TAB_TITLE'),tooltip:this._oBundle.getText('SUBSTITUTION_MY_SUBSTITUTES_TAB_TITLE')}),new sap.ui.ux3.NavigationItem(d+'iamSubstituting',{key:d+'iamSubstituting',text:this._oBundle.getText('SUBSTITUTION_I_AM_SUBSTITUTING_TAB_TITLE'),tooltip:this._oBundle.getText('SUBSTITUTION_I_AM_SUBSTITUTING_TAB_TITLE')})]})}N.setSelectedItem(d+'mySubstitutes');N.addStyleClass('navigationBarMargin');var a=sap.ui.getCore().byId(d+'substDummyLabel');if(a===undefined){a=new sap.ui.commons.Label(this.getId()+'--'+'substDummyLabel',{text:''})}var v=0;o.insertContent(e,v);if(sap.ui.getCore().byId(this.getId()+'--'+'msgBarContainer')===undefined){o.insertContent(this.populateMsgBar(),++v)}o.insertContent(N,++v);o.insertContent(n,++v);o.insertContent(a,++v);var b=sap.ui.getCore().byId(d+'activeAndinactiveRulesVLayout');if(b===undefined){b=new sap.ui.commons.layout.VerticalLayout(d+'activeAndinactiveRulesVLayout');b.setWidth('100%');b.insertContent(new sap.ui.commons.Label({text:t._oBundle.getText('SUBSTITUTION_ACTIVE_SUBSTITUTION_RULE'),design:sap.ui.commons.LabelDesign.Bold}),0);b.insertContent(new sap.ui.commons.Label({text:''}),1);b.insertContent(new sap.ui.commons.Label({text:''}),2);b.insertContent(new sap.ui.commons.Label({text:''}),3);b.insertContent(new sap.ui.commons.Label({text:''}),4);b.insertContent(new sap.ui.commons.Label({text:''}),5);b.insertContent(new sap.ui.commons.Label({text:t._oBundle.getText('SUBSTITUTION_INACTIVE_SUBSTITUTION_RULE'),design:sap.ui.commons.LabelDesign.Bold}),6);b.insertContent(new sap.ui.commons.Label({text:''}),7);b.insertContent(new sap.ui.commons.Label({text:''}),8)}var m=++v;o.insertContent(t.getOverlayContent(d+'mySubstitutes',b),m);s.addContent(o);N.attachSelect(function(E){t.deleteMessage();var i=E.getParameter('item').getKey();o.removeContent(m);o.insertContent(t.getOverlayContent(i,b),m);s.rerender()})}else{var N=sap.ui.getCore().byId(d+'subsNavBar');N.setSelectedItem(d+'mySubstitutes');var b=sap.ui.getCore().byId(d+'activeAndinactiveRulesVLayout');var o=sap.ui.getCore().byId(d+'substitutionVLayout');o.insertContent(t.getOverlayContent(d+'mySubstitutes',b),m);s.addContent(o)}return s};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.getOverlayContent=function(i,a){var d=this.getId()+'--';var t=this;var s={};var S=sap.ui.getCore().byId(d+'substitutionOverlayContainer');var n=sap.ui.getCore().byId(d+'newSubstitutionLink');var o=sap.ui.getCore().byId(d+'substitutionVLayout');if(s[i])return s[i];if(i===d+'mySubstitutes'){n.setVisible(t.isSubstitutionRuleCreationSupported);a.removeContent(2);a.insertContent(t.createSubtRuleRowReapterContent(i,true),2);a.removeContent(8);a.insertContent(t.createSubtRuleRowReapterContent(i,false),8);s[i]=a}else if(i===d+'iamSubstituting'){n.setVisible(false);a.removeContent(2);a.insertContent(t.createSubtRuleRowReapterContent(i,true),2);a.removeContent(8);a.insertContent(t.createSubtRuleRowReapterContent(i,false),8);s[i]=a}return s[i]};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.openCreateSubstRulePopup=function(e,s){var t=this;var d=s.getId()+'--';var n=sap.ui.getCore().byId(d+'newSubstitutionLink');var c=sap.ui.getCore().byId(d+'createSubsRulePopup');if(c===undefined){c=new sap.ui.ux3.ToolPopup(d+'createSubsRulePopup',{modal:true});var p=new sap.ui.commons.layout.MatrixLayout(d+'popupMainMatrix',{layoutFixed:true,width:'300px',columns:2,widths:['35%','65%']});var a=new sap.ui.commons.layout.MatrixLayoutCell(d+'popupMainMatrixCell1',{colSpan:2});var b=new sap.ui.commons.layout.MatrixLayoutCell(d+'popupMainMatrixCellMsgBar',{colSpan:2});a.addContent(new sap.ui.commons.TextView(d+'popupCreateSubstRuleTxt',{text:s._oBundle.getText('CREATE_SUBSTITUTION_RULE'),design:sap.ui.commons.TextViewDesign.H3}).addStyleClass('textFontColour'));p.createRow(a);p.createRow(b);s.populateMessageBar(s);var f=new sap.ui.commons.layout.MatrixLayoutCell(d+'popupMainMatrixCell2',{colSpan:2});f.addContent(new sap.ui.commons.HorizontalDivider(d+'popHorzDivdr1'));p.createRow(f);var g=new sap.ui.commons.Label(d+'popupSubstLbl',{text:s._oBundle.getText('SUBSTITUTION_RULE_SUBSTITUTE_LABEL')});var h=new sap.ui.commons.ValueHelpField(d+'popupValueHelp',{width:'100%',value:''});h.attachValueHelpRequest(s,s.openUsersDialog);h.setRequired(true);h.setTooltip(s._oBundle.getText('SUBSTITUTION_RULE_SUBSTITUTE_TOOLTIP'));g.setLabelFor(h);p.createRow(g,h);var i=new sap.ui.commons.Label(d+'popupAutoFwdtLbl',{text:s._oBundle.getText('SUBSTITUTION_AUTOMATIC_FORWARDING_LABEL')});var j=new sap.ui.commons.SegmentedButton(d+'popupSegBtn',{buttons:[new sap.ui.commons.Button(d+'popupSegBtnON',{text:s._oBundle.getText('SUBSTITUTION_AUTOMATIC_FORWARDING_ON_STATE_TEXT'),tooltip:s._oBundle.getText('SUBSTITUTION_AUTOMATIC_FORWARDING_ON_STATE')}),new sap.ui.commons.Button(d+'popupSegBtnOFF',{text:s._oBundle.getText('SUBSTITUTION_AUTOMATIC_FORWARDING_OFF_STATE_TEXT'),tooltip:s._oBundle.getText('SUBSTITUTION_AUTOMATIC_FORWARDING_OFF_STATE')})]});j.attachSelect(function(e){if(sap.ui.getCore().byId(e.getParameters().selectedButtonId).getText()==s._oBundle.getText('SUBSTITUTION_AUTOMATIC_FORWARDING_ON_STATE_TEXT')){sap.ui.getCore().byId(d+'popupFromDatePicker').setProperty('visible',true);sap.ui.getCore().byId(d+'popupToDatePicker').setProperty('visible',true);sap.ui.getCore().byId(d+'popupFromLbl').setProperty('visible',true);sap.ui.getCore().byId(d+'popupToLbl').setProperty('visible',true);sap.ui.getCore().byId(d+'popupFromDatePicker').setProperty('required',true);sap.ui.getCore().byId(d+'popupToDatePicker').setProperty('required',true)}else{sap.ui.getCore().byId(d+'popupFromDatePicker').setProperty('visible',false);sap.ui.getCore().byId(d+'popupToDatePicker').setProperty('visible',false);sap.ui.getCore().byId(d+'popupFromLbl').setProperty('visible',false);sap.ui.getCore().byId(d+'popupToLbl').setProperty('visible',false);sap.ui.getCore().byId(d+'popupFromDatePicker').setProperty('required',false);sap.ui.getCore().byId(d+'popupToDatePicker').setProperty('required',false)}p.rerender()});j.setSelectedButton(d+'popupSegBtnON');i.setLabelFor(j);i.setWrapping(true);p.createRow(i,j);var k=new sap.ui.commons.Label(d+'popupFromLbl',{text:s._oBundle.getText('SUBSTITUTION_SUBSTITUTION_FROM_DATE_LABEL')});var l=new sap.ui.commons.DatePicker(d+'popupFromDatePicker',{text:s._oBundle.getText('SUBSTITUTION_SUBSTITUTION_FROM_DATE_LABEL'),width:'100%',tooltip:s._oBundle.getText('SUBSTITUTION_CREATE_FROM_DATE_TOOLTIP')});l.setRequired(true);l.setYyyymmdd(s.substitutionRulesManagerUtils._getTodaysDateinYYYYMMDD());k.setLabelFor(l);p.createRow(k,l);var m=new sap.ui.commons.Label(d+'popupToLbl',{text:s._oBundle.getText('SUBSTITUTION_SUBSTITUTION_TO_DATE_LABEL')});var o=new sap.ui.commons.DatePicker(d+'popupToDatePicker',{text:s._oBundle.getText('SUBSTITUTION_SUBSTITUTION_TO_DATE_LABEL'),width:'100%',tooltip:s._oBundle.getText('SUBSTITUTION_CREATE_TO_DATE_TOOLTIP')});o.setRequired(true);m.setLabelFor(o);p.createRow(m,o);var q=new sap.ui.commons.layout.MatrixLayoutCell(d+'popupMainMatrixCell3',{colSpan:2});q.addContent(new sap.ui.commons.HorizontalDivider(d+'popHorzDivdr2'));p.createRow(q);var r=new sap.ui.commons.Button(d+'popupCreateBtn',{text:s._oBundle.getText('SUBSTITUTION_SUBSTITUTIN_RULE_CREATE_BUTTON'),tooltip:s._oBundle.getText('SUBSTITUTION_CREATE_BUTTON_TOOLTIP')});r.attachPress(s,s.createSubstitutionRule);var u=new sap.ui.commons.Button(d+'popupCancelBtn',{text:s._oBundle.getText('SUBSTITUTION_SUBSTITUTIN_RULE_CANCEL_BUTTON'),tooltip:s._oBundle.getText('SUBSTITUTION_CANCEL_BUTTON_TOOLTIP'),press:function(){c.close();c.destroy()}});p.createRow(r,u);c.addContent(p)}s.deleteMessage();c.setPosition(sap.ui.core.Popup.Dock.BeginTop,sap.ui.core.Popup.Dock.EndTop,n.getDomRef(),'13 -10','none');c.open()};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.createSubtRuleRowReapterContent=function(i,a){var b=(i===this.getId()+'--'+'mySubstitutes')?true:false;var d=i;if(a){d=d+'active'+'--'}else{d=d+'inactive'+'--'}var t=this;var s=sap.ui.getCore().byId(d+'subsRowRepeater');if(s===undefined){s=new sap.ui.commons.RowRepeater(d+'subsRowRepeater',{numberOfRows:2});s.attachPage(t,t.deleteMessage);s.setDesign(sap.ui.commons.RowRepeaterDesign.Transparent);s.setNoData(new sap.ui.commons.TextView({text:t._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_NO_SUBSTITUTION_RULES_FOUND')}));var r=new sap.ui.commons.layout.MatrixLayout(d+'rowRepMainMatrix',{layoutFixed:true,columns:6,widths:['2%','37%','24%','21%','12%','3%']});if(a){r.addStyleClass('borderFillColorGreen');r.addStyleClass('shadowEffectGreen');r.addStyleClass('mySapUiMltPadRight')}else{r.addStyleClass('borderFillColorGray');r.addStyleClass('shadowEffectGray')}var c=new sap.ui.commons.layout.MatrixLayoutCell(d+'rowRepEmptyCell');var e=new sap.ui.commons.TextView(d+'substitutionID');e.setVisible(false);e.bindProperty('text','SubstitutionRuleID');c.addContent(e);var f=new sap.ui.commons.layout.MatrixLayout(d+'rowRepSubsDetailMatLyt',{columns:1,layoutFixed:true});var g=new sap.ui.commons.layout.MatrixLayoutRow(d+'rowRepEmptyRow1');var h=new sap.ui.commons.TextView(d+'rowRepEmpltyTxt1',{text:''});var j=new sap.ui.commons.layout.MatrixLayoutCell(d+'rowRepEmpltyCell1',{backgroundDesign:sap.ui.commons.layout.BackgroundDesign.Transparent});j.addContent(h);g.addCell(j);var k=new sap.ui.commons.layout.MatrixLayoutRow(d+'rowRepSubstNameRow');var l;l=new sap.ui.commons.TextView(d+'rowRepSubstNameTxtView');l.bindProperty('text','FullName',function(P){if(P!==null&&P!==''){return P}});l.addStyleClass('blueFontColor');var m=new sap.ui.commons.layout.MatrixLayoutCell(d+'rowRepSubstNameCell',{backgroundDesign:sap.ui.commons.layout.BackgroundDesign.Transparent});m.addContent(l);k.addCell(m);f.addRow(k);var n=new sap.ui.commons.layout.MatrixLayoutRow(d+'rowRepUsrFriendlyRow');var o=new sap.ui.commons.TextView(d+'rowRepUsrFriendlyTxt');o.addStyleClass('blackFontColor');o.bindProperty('text','FullName',function(P){if(P!==null&&P!==''&&P){var Q=this.getModel();return t.substitutionRulesManagerUtils._getText(P,b,Q.getProperty('IsEnabled',this.getBindingContext(),false),Q.getProperty('SupportsEnableSubstitutionRule',this.getBindingContext(),false),Q.getProperty('BeginDate',this.getBindingContext(),false),Q.getProperty('EndDate',this.getBindingContext(),false))}});var p=new sap.ui.commons.layout.MatrixLayoutCell(d+'rowRepUsrFriendly');p.addContent(o);n.addCell(p);f.addRow(n);var q=new sap.ui.commons.layout.MatrixLayout(d+'rowRepSinceUntilMatLyt',{columns:1,layoutFixed:true});var u=new sap.ui.commons.layout.MatrixLayoutRow(d+'rowRepSinceDateRow');var v=new sap.ui.commons.TextView(d+'rowRepSinceDateTxt');v.addStyleClass('grayFontColor');var w=t._oBundle.getText('SUBSTITUTION_RULE_SINCE_LABEL');if(!a){w=t._oBundle.getText('SUBSTITUTION_SUBSTITUTION_FROM_DATE_LABEL')}v.bindProperty('text','BeginDate',function(P){if(P!==undefined&&P!==null&P!==''){var Q=this.getModel();return w+' : '+t.substitutionRulesManagerUtils._getFormattedDate(P)}});var x=new sap.ui.commons.layout.MatrixLayoutCell(d+'rowRepSinceDate',{backgroundDesign:sap.ui.commons.layout.BackgroundDesign.Transparent});x.addContent(v);u.addCell(x);q.addRow(u);var y=new sap.ui.commons.layout.MatrixLayoutRow(d+'rowRepUntilDateRow');var z=new sap.ui.commons.TextView(d+'rowRepUntilDateTxt');z.addStyleClass('grayFontColor');z.bindProperty('text','EndDate',function(P){if(P!==undefined&&P!==null&P!==''){var Q=this.getModel();return t._oBundle.getText('SUBSTITUTION_RULE_UNTIL_LABEL')+' : '+t.substitutionRulesManagerUtils._getFormattedDate(P)}});var A=new sap.ui.commons.layout.MatrixLayoutCell(d+'rowRepUntilDateCell');A.addContent(z);y.addCell(A);q.addRow(y);var B=new sap.ui.commons.layout.MatrixLayout(d+'rowRepActiveTimeMatLyt',{columns:1,layoutFixed:true});var C=new sap.ui.commons.layout.MatrixLayoutRow(d+'rowRepActiveRow');var D=new sap.ui.commons.TextView(d+'rowRepActiveTxt');D.addStyleClass('grayFontColor');D.bindProperty('text','FullName',function(P){if(P!==null&&P!==''){var Q=this.getModel();var R=t.substitutionRulesManagerUtils._getStatus(b,Q.getProperty('IsEnabled',this.getBindingContext(),false),Q.getProperty('BeginDate',this.getBindingContext(),false),Q.getProperty('EndDate',this.getBindingContext(),false));return R}});D.addStyleClass('blueFontColor');var E=new sap.ui.commons.layout.MatrixLayoutCell(d+'rowRepActiveCell',{backgroundDesign:sap.ui.commons.layout.BackgroundDesign.Transparent});E.addContent(D);C.addCell(E);B.addRow(C);var F=new sap.ui.commons.layout.MatrixLayoutRow(d+'rowRepTimeInDaysRow');var G=new sap.ui.commons.TextView(d+'rowRepTimeInDaysTxt');G.addStyleClass('blueFontColor');var H='';var I=new sap.ui.commons.layout.MatrixLayoutCell(d+'rowRepTimeInDaysCell');I.addContent(G);F.addCell(I);B.addRow(F);B.addRow(F);var J=new sap.ui.commons.SegmentedButton(d+'rowRepOnOffSegBtn',{visible:false,buttons:[new sap.ui.commons.Button(d+'rowRepOnSegBtn',{text:t._oBundle.getText('SUBSTITUTION_AUTOMATIC_FORWARDING_ON_STATE_TEXT'),tooltip:t._oBundle.getText('SUBSTITUTION_AUTOMATIC_FORWARDING_ON_STATE_TEXT')}),new sap.ui.commons.Button(d+'rowRepOffSegBtn',{text:t._oBundle.getText('SUBSTITUTION_AUTOMATIC_FORWARDING_OFF_STATE_TEXT'),tooltip:t._oBundle.getText('SUBSTITUTION_AUTOMATIC_FORWARDING_OFF_STATE_TEXT')})]});J.bindProperty('visible','SupportsEnableSubstitutionRule');J.bindProperty('enabled','IsEnabled',function(P){if(P!=null&&P!==''){if(P){this.setSelectedButton(this.getButtons()[0].getId())}else{this.setSelectedButton(this.getButtons()[1].getId())}}return true});J.attachSelect(this,function(P,t){var Q=true;if((P.mParameters.selectedButtonId.indexOf('rowRepOnSegBtn'))==-1){Q=false}t.updateSubstitutionRule(P,t,Q)});if(b){var K=new sap.ui.commons.Image(d+'rowRepDeleteImg',{src:t._imgResourcePath+sap.uiext.inbox.SubstitutionRulesManagerConstants.deleteSubstRule,tooltip:this._oBundle.getText('SUBSTITUTION_RULE_DELETE'),decorative:false,});K.setWidth('21px');K.setHeight('21px');K.bindProperty('visible','SupportsDeleteSubstitutionRule',function(P){return P});K.attachPress(this,this.deleteSubstitutionRule);r.createRow(c,f,q,B,J,K)}else{r.createRow(c,f,q,B,J)}var L=new sap.ui.commons.layout.MatrixLayout(d+'rowRepMainMatrixWapperMatrix',{layoutFixed:true});L.createRow(r);L.createRow(new sap.ui.commons.TextView(d+'rowRepWapperMatEmptyTxt',{text:''}));var M=(i===(this.getId()+'--iamSubstituting'))?this.substitutesRuleCollection:this.substitutionRuleCollection;var N=[];var O=new sap.ui.model.Filter('IsEnabled',sap.ui.model.FilterOperator.EQ,a?'true':'false');N.push(O);s.bindRows('/'+M,L,null,N)}else{this._refreshBindings(i,a)}return s};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.formatUserName=function(v){if(v!==null&&v!==''){var i=v.indexOf(',');var l=v.substring(i+1);if(l===' ')v=v.substring(0,i);return v}};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.bindSubstitutionRules=function(p){};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.populateMsgBar=function(){var m=new sap.ui.commons.Toolbar(this.getId()+'--'+'msgBarContainer',{visible:false});var a=new sap.ui.commons.Image({id:this.getId()+'--'+'msbBarTypeImg',text:'',decorative:false});var b=new sap.ui.commons.TextView({id:this.getId()+'--'+'msbBarTextView',text:''});var c=new sap.ui.commons.Image({id:this.getId()+'--'+'msbBarCloseImg',text:'',decorative:false,tooltip:this._oBundle.getText('INBOX_MSGBAR_CLOSE_TOOLTIP')});c.addStyleClass('sapUiExtInboxToolbarRight');c.setSrc(this._imgResourcePath+sap.uiext.inbox.InboxConstants.closeImg);c.attachPress(this,this.deleteMessage);m.addItem(a);m.addItem(b);m.addItem(c);return m};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.deleteMessage=function(e,s){if(s===undefined)s=this;var m=sap.ui.getCore().byId(s.getId()+'--'+'msgBarContainer');if(m!=undefined){m.setVisible(false);sap.ui.getCore().byId(s.getId()+'--'+'msbBarTextView').setText('');sap.ui.getCore().byId(s.getId()+'--'+'msbBarTypeImg').setSrc('')}};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.showMessage=function(m,a){var b=sap.ui.getCore().byId(this.getId()+'--'+'msgBarContainer');if(b!=undefined){b.setVisible(true);var c=this._getComponent('msbBarTextView');c.setText(a);var d=this._getComponent('msbBarTypeImg');d.setSrc(this._imgResourcePath+sap.uiext.inbox.InboxConstants.messageTypeIcons[m]);d.setTooltip(this._oBundle.getText(sap.uiext.inbox.InboxConstants.messageTypeToolTip[m])+' '+a)}};\nsap.uiext.inbox.SubstitutionRulesManager.prototype._getComponent=function(c){return sap.ui.getCore().byId(this.getId()+'--'+c)};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.deleteSubstitutionRule=function(e,t){var m=t.getModel();var c=e.getSource().getBindingContext();var r=m.getProperty('SubstitutionRuleID',c);var s=m.getProperty('SAP__Origin',c);var q=t.inboxConstants.forwardSlash+t.substitutionConstants.deleteRuleExecutionFunctionImport+t.inboxConstants.query+\"SubstitutionRuleID='\"+r+\"'\"+t.inboxConstants.amperSand+\"SAP__Origin='\"+s+\"'\"+t.inboxConstants.amperSand+t.inboxConstants.formatJSONURLParam;var a=t.sUrl+q;var b={async:false,requestUri:a,method:'POST',headers:{Accept:t.inboxConstants.acceptHeaderforJSON,'x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(b,function(d,f){var n=sap.ui.getCore().byId(t.getId()+'--subsNavBar');var g=n.getSelectedItem();t._refreshBindings(g);t.showMessage('info',t._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_DELETED_SUCCESSFULLY'))},function(d){if(d.response===undefined||d.response.statusCode!=205){t.showMessage('error',t._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_UPDATION_FAILURE_CONTACT_ADMIN'))}else if(d.response.statusCode==205){var f={statusCode:d.response.statusCode,statusText:d.response.statusText};m.fireRequestFailed(f)}})};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.updateSubstitutionRule=function(e,t,E){var m=t.getModel();var c=e.getSource().getBindingContext();var r=m.getProperty('SubstitutionRuleID',c);var s=m.getProperty('SAP__Origin',c);var q=t.inboxConstants.forwardSlash+t.substitutionConstants.updateRuleExecutionFunctionImport+t.inboxConstants.query+\"SubstitutionRuleID='\"+r+\"'\"+t.inboxConstants.amperSand+'Enabled='+E+t.inboxConstants.amperSand+\"SAP__Origin='\"+s+\"'\"+t.inboxConstants.amperSand+t.inboxConstants.formatJSONURLParam;var a=t.sUrl+q;var b={async:false,requestUri:a,method:'POST',headers:{'Accept':t.inboxConstants.acceptHeaderforJSON,'x-csrf-token':m.oHeaders['x-csrf-token']}};OData.request(b,function(d,f){var n=sap.ui.getCore().byId(t.getId()+'--subsNavBar');var g=n.getSelectedItem();t._refreshBindings(g);t.showMessage('info',t._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_UPDATED_SUCCESSFULLY'))},function(d){if(d.response===undefined||d.response.statusCode!=205){t.showMessage('error',t._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_UPDATION_FAILURE_CONTACT_ADMIN'))}else if(d.response.statusCode==205){var f={statusCode:d.response.statusCode,statusText:d.response.statusText};m.fireRequestFailed(f)}})};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.createSubstitutionRule=function(e,s){var t=this;var a=s.validate(s);if(a===false){var m=s.getModel();var E={};var f=sap.ui.core.format.DateFormat.getDateInstance({pattern:'yyyyMMdd'});var b;var c;var d=s._getComponent('popupToDatePicker').getYyyymmdd();if(d!=undefined&&d!==''){var g=d.substr(0,4);var h=d.substr(4,2);var i=d.substr(6,8);var o=s.substitutionRulesManagerUtils._getTimeZoneOffset();if(o!==undefined){o=o/(60*1000);c=new Date(Date.UTC(g,h-1,i,23,59-o,59,59))}else{c=f.parse(d);c.setHours(23,59,59,59)}}else{c=new Date(2100,01,01)}var j=s._getComponent('popupFromDatePicker').getYyyymmdd();if(j!=undefined&&j!==''){var k=j.substr(0,4);var l=j.substr(4,2);var n=j.substr(6,8);var o=s.substitutionRulesManagerUtils._getTimeZoneOffset();if(o!==undefined){o=o/(60*1000);b=new Date(Date.UTC(k,l-1,n,0,-o,0,0))}else{b=f.parse(j)}}else{b=new Date();b.setHours(0,0,0,0)}E.EndDate='\\/Date('+c.getTime()+')\\/';E.BeginDate='\\/Date('+b.getTime()+')\\/';var p=s._getComponent('popupValueHelp');E.FullName=p.getValue();E.User=p.data('uniqueName');var q=s._getComponent('popupSegBtn');var r=q.getSelectedButton();if(r.indexOf('popupSegBtnON')>=0){E.Mode='RECEIVE_TASKS';E.IsEnabled=true}else{E.Mode='TAKE_OVER';E.IsEnabled=true}var u=sap.ui.getCore().byId(s.getId()+'--createSubsRulePopup');var Q=\"?BeginDate='\"+E.BeginDate+\"'&EndDate='\"+E.EndDate+\"'&IsEnabled='\"+E.IsEnabled+\"'&Mode='\"+E.Mode+\"'&User='\"+E.User+\"'\";var R={async:false,requestUri:s.sUrl+'/'+s.substitutionConstants.CREATE_SUBSTITUTION_RULE+Q,method:'POST',headers:{Accept:'application/json','x-csrf-token':m.oHeaders['x-csrf-token']}};s._callCreateSubstitutionRuleFunctionImport(s,R,E);u.close();u.destroy()}};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.openUsersDialog=function(e,s){var d=s.getId()+'--';var u=sap.ui.getCore().byId(d+'usersDialog');var t=sap.ui.getCore().byId(d+'userTable');if(u===undefined){var l=new sap.ui.commons.layout.MatrixLayout({id:d+'dLayout',layoutFixed:true,width:'100%'});var S=new sap.ui.commons.SearchField({id:d+'oSearch',enableListSuggest:false,tooltip:s._oBundle.getText('SUBSTIUTION_RULE_SEARCH_FOR_USERS'),value:s._oBundle.getText('SUBSTITUTION_USERS_PICKLIST_SEARCH_LABEL'),editable:true,width:'100%'});S._ctrl.addStyleClass('sapUiExtInboxSubstitutionValueHelpTesxtStyle');S.onfocusin=function(){S._ctrl.removeStyleClass('sapUiExtInboxSubstitutionValueHelpTextStyle');if(S._ctrl.getLiveValue()===s._oBundle.getText('SUBSTITUTION_USERS_PICKLIST_SEARCH_LABEL')){S.setValue('')}};S.onfocusout=function(){if(S._ctrl.getLiveValue()===''){S._ctrl.addStyleClass('sapUiExtInboxSubstitutionValueHelpTextStyle');S.setValue(s._oBundle.getText('SUBSTITUTION_USERS_PICKLIST_SEARCH_LABEL'))}else{S.setValue(S._ctrl.getLiveValue())}};S.attachSearch(s,function(e,s){var o=s._handleSearchUsersClickforCreateSubstitution(e);if(o){var m=new sap.ui.model.json.JSONModel();m.setData(o);t.clearSelection();t.setModel(m);t.bindRows('/results');if(o.results.length>0){t.setSelectedIndex(0)}}});l.createRow(S);var a={collection:'UserInfoCollection',propertiesLabel:[s._oBundle.getText('SUBSTITUTION_USERS_PICKLIST_LOGONID'),s._oBundle.getText('SUBSTITUTION_USERS_PICKLIST_NAME')],properties:['UniqueName','DisplayName']};if(t===undefined){t=new sap.ui.table.Table(d+'userTable',{selectionMode:sap.ui.table.SelectionMode.Single})}t.setModel(s.getModel());t.setVisibleRowCount(5);t.bDynamic=true;for(var i=0;i<=a.properties.length-1;i++){t.addColumn(new sap.ui.table.Column().setLabel(new sap.ui.commons.Label({text:s._oBundle.getText(a.propertiesLabel[i]),design:sap.ui.commons.LabelDesign.Bold})).setTemplate(new sap.ui.commons.TextField({editable:false,value:{path:a.properties[i]}})))}var L=new sap.ui.commons.layout.VerticalLayout(d+'userDialogVLayout',{width:'100%'});L.insertContent(l,0);L.insertContent(t,1);u=new sap.ui.commons.Dialog(d+'usersDialog',{modal:true,title:s._oBundle.getText('SUBSTIUTION_RULE_SEARCH_FOR_USERS'),content:[L],buttons:[new sap.ui.commons.Button(d+'usersDialogOKBtn',{text:s._oBundle.getText('INBOX_BUTTON_OK_TEXT'),tooltip:s._oBundle.getText('SUBSTITUTE_SEARCH_USERS_OK_BUTTON_TOOLTIP'),press:function(){var b=sap.ui.getCore().byId(d+'userTable');var c=b.getSelectedIndex();var r=b.getContextByIndex(c);var f=sap.ui.getCore().byId(d+'userTable').getModel();var g=f.getProperty('DisplayName',r);if(g===null)g='';var h=f.getProperty('UniqueName',r);var p=s._getComponent('popupValueHelp');p.setValue(g);p.data('uniqueName',h);u.destroy();u.close()}})]})}u.setWidth('400px');u.open()};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.validate=function(s){var t=this;var v=false;var r='';var a,f;var F=sap.ui.core.format.DateFormat.getDateInstance({pattern:'yyyyMMdd'});var e=s._getComponent('popupToDatePicker').getYyyymmdd();var b=s._getComponent('popupFromDatePicker').getYyyymmdd();if(e!=undefined&&e!==''){var c=e.substr(0,4);var d=e.substr(4,2);var g=e.substr(6,8);var o=s.substitutionRulesManagerUtils._getTimeZoneOffset();if(o!==undefined){o=o/(60*1000);a=new Date(Date.UTC(c,d-1,g,23,59-o,59,59))}else{a=F.parse(e);a.setHours(23,59,59,59)}}if(b!=undefined&&b!==''){var h=b.substr(0,4);var i=b.substr(4,2);var j=b.substr(6,8);var o=s.substitutionRulesManagerUtils._getTimeZoneOffset();if(o!==undefined){o=o/(60*1000);f=new Date(Date.UTC(h,i-1,j,0,-o,0,0))}else{f=F.parse(b)}}var k=s._getComponent('popupValueHelp').getValue();var p=s._getComponent('popupFromDatePicker').getProperty('required');if(k===null||k===''){v=true;r=s._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_SELECT_SUBSTITUTE')}if(v!=true&&p===true){if(a===null||f===null||a===''||f===''||isNaN(a)||isNaN(f)){v=true;r=s._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_ENTER_VALID_DATE_RANGE')}if(v!=true){if(a<f){v=true;r=s._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_FROM_DATE_AFTER_TODATE')}}}if(v!=true&&p!=true){if(a!=null&&f!=null){if(v!=true&&a<f){v=true;r=s._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_FROM_DATE_AFTER_TODATE')}}}if(v===true){s.displayMessage(s,'error',r)}return v};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.populateMessageBar=function(s){var d=s.getId()+'--';var m=new sap.ui.commons.Toolbar(d+'msgBarContainer1',{visible:false});var a=new sap.ui.commons.Image({id:d+'msbBarTypeImg1',text:'',decorative:false});var b=new sap.ui.commons.TextView({id:d+'msbBarTextView1',text:''});var c=new sap.ui.commons.Image({id:d+'msbBarCloseImg1',text:'',decorative:false,tooltip:this._oBundle.getText('INBOX_MSGBAR_CLOSE_TOOLTIP')});c.addStyleClass('sapUiExtInboxToolbarRight');c.setSrc(this._imgResourcePath+sap.uiext.inbox.InboxConstants.closeImg);c.attachPress(s,this.hideMsgBar);m.addItem(a);m.addItem(b);m.addItem(c);var e=s._getComponent('popupMainMatrixCellMsgBar');e.addContent(m)};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.displayMessage=function(s,m,a){var d=s.getId()+'--';var b=sap.ui.getCore().byId(d+'msgBarContainer1');if(b!=undefined){b.setVisible(true);var c=sap.ui.getCore().byId(d+'msbBarTextView1');c.setProperty('text',a);var e=sap.ui.getCore().byId(d+'msbBarTypeImg1');e.setProperty('src',this._imgResourcePath+sap.uiext.inbox.InboxConstants.messageTypeIcons[m]);e.setTooltip(this._oBundle.getText(sap.uiext.inbox.InboxConstants.messageTypeToolTip[m])+' '+a)}};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.hideMsgBar=function(e,s){var d=s.getId()+'--';if(s===undefined)s=this;var m=sap.ui.getCore().byId(d+'msgBarContainer1');if(m!=undefined){m.setVisible(false);sap.ui.getCore().byId(d+'msbBarTextView1').setText('');sap.ui.getCore().byId(d+'msbBarTypeImg1').setSrc('')}};\nsap.uiext.inbox.SubstitutionRulesManager.prototype._refreshBindings=function(i,a){var d=i;var c=(i===(this.getId()+'--iamSubstituting'))?this.substitutesRuleCollection:this.substitutionRuleCollection;if(a===undefined){this._refreshBindings(i,true);this._refreshBindings(i,false)}else if(a){var f=[];var b=new sap.ui.model.Filter('IsEnabled',sap.ui.model.FilterOperator.EQ,'true');f.push(b);var w=sap.ui.getCore().byId(d+'active'+'--'+'rowRepMainMatrixWapperMatrix');var s=sap.ui.getCore().byId(d+'active'+'--'+'subsRowRepeater');s.bindRows('/'+c,w,null,f);s.rerender()}else{var F=[];var e=new sap.ui.model.Filter('IsEnabled',sap.ui.model.FilterOperator.EQ,'false');F.push(e);var g=sap.ui.getCore().byId(d+'inactive'+'--'+'rowRepMainMatrixWapperMatrix');var S=sap.ui.getCore().byId(d+'inactive'+'--'+'subsRowRepeater');S.bindRows('/'+c,g,null,F);S.rerender()}};\nsap.uiext.inbox.SubstitutionRulesManager.prototype.getSubstitutionRulesManagerUtils=function(){return this.substitutionRulesManagerUtils};\nsap.uiext.inbox.SubstitutionRulesManager.prototype._searchUsers=function(s){var t=this;var f=this.oTCMModel.getFunctionImportHandler();f.setServiceURL(this.sUrl);f.setHeaders({Accept:this.inboxConstants.acceptHeaderforJSON,'x-csrf-token':this.getModel().oHeaders['x-csrf-token']});var S=s.sSearchTerm;var m=s.iMaxResults;var a=s.sSAPOrigin;var r;f.callSearchUsers({SearchPattern:S,MaxResults:m,SAP__Origin:a},function(d,b){r=d},function(e){t.showMessage('error',t._oBundle.getText('INBOX_MSG_ACTION_FAILED'))});return r};\nsap.uiext.inbox.SubstitutionRulesManager.prototype._handleSearchUsersClickforCreateSubstitution=function(e){var s='SAPOrigin';var m=this.oConfiguration?this.oConfiguration.getSearchUersMaxLimit():100;return this._searchUsers({sSearchTerm:this._getComponent('oSearch').getValue(),iMaxResults:m,sSAPOrigin:s})};\nsap.uiext.inbox.SubstitutionRulesManager.prototype._callCreateSubstitutionRuleFunctionImport=function(s,r,e){var m=this.getModel();if(m instanceof sap.ui.model.odata.ODataModel){var S=m.getServiceMetadata();if(m.sServiceUrl&&S){this.oTcmMetadata.setServiceMetadata(S)}}if(!this.oTcmMetadata.isCreatesubstitutionRuleSupported()){OData.request(r,function(d,a){s.showMessage('info',s._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATED_SUCCESSFULLY'));s._refreshBindings(s.getId()+'--mySubstitutes');m.oHeaders['DataServiceVersion']='2.0'},function(a){if(a.response===undefined||a.response.statusCode!=205){s.showMessage('error',s._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATION_FAILURE_CONTACT_ADMIN'))}else if(a.response.statusCode==205){var b={statusCode:a.response.statusCode,statusText:a.response.statusText};m.fireRequestFailed(b)}})}else{m.create(s.sPath,e,null,function(d,a){s.showMessage('info',s._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATED_SUCCESSFULLY'));s._refreshBindings(s.getId()+'--mySubstitutes');m.oHeaders['DataServiceVersion']='2.0'},function(a){if(a.response===undefined||a.response.statusCode!=205){s.showMessage('error',s._oBundle.getText('SUBSTITUTION_VALIDATION_MESSAGE_SUBSTITUTION_RULE_CREATION_FAILURE_CONTACT_ADMIN'))}else if(a.response.statusCode==205){var b={statusCode:a.response.statusCode,statusText:a.response.statusText};m.fireRequestFailed(b)}})}};\n",
	"sap/uiext/inbox/SubstitutionRulesManagerConstants.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.SubstitutionRulesManagerConstants');\nsap.uiext.inbox.SubstitutionRulesManagerConstants=function(){};\nsap.uiext.inbox.SubstitutionRulesManagerConstants.prototype=jQuery.sap.newObject(sap.ui.base.Object.prototype);sap.uiext.inbox.SubstitutionRulesManagerConstants.deleteSubstRule='delete.png';sap.uiext.inbox.SubstitutionRulesManagerConstants.updateRuleExecutionFunctionImport='EnableSubstitutionRule';sap.uiext.inbox.SubstitutionRulesManagerConstants.deleteRuleExecutionFunctionImport='DeleteSubstitutionRule';sap.uiext.inbox.SubstitutionRulesManagerConstants.SubstitutionRuleCollection='SubstitutionRuleCollection';sap.uiext.inbox.SubstitutionRulesManagerConstants.SubstitutesRuleCollection='SubstitutesRuleCollection';sap.uiext.inbox.SubstitutionRulesManagerConstants.CREATE_SUBSTITUTION_RULE='CreateSubstitutionRule';\n",
	"sap/uiext/inbox/SubstitutionRulesManagerRenderer.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.SubstitutionRulesManagerRenderer');sap.uiext.inbox.SubstitutionRulesManagerRenderer={};\nsap.uiext.inbox.SubstitutionRulesManagerRenderer.render=function(r,c){var a=r;a.write('<div');a.writeControlData(c);a.writeAttribute('class','sapuiextinbox-SubstitutionRulesManager');a.write('>');a.renderControl(c.vLayout);a.write('</div>')};\n",
	"sap/uiext/inbox/SubstitutionRulesManagerUtils.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.SubstitutionRulesManagerUtils');\nsap.uiext.inbox.SubstitutionRulesManagerUtils=function(){throw new Error()};\nsap.uiext.inbox.SubstitutionRulesManagerUtils._getText=function(v,i,a,I,b,e){var c=this._isOutDated(e);var d=(!this._isFutureDate(b)&&!c);var _=sap.ui.getCore().getLibraryResourceBundle('sap.uiext.inbox');if(c){return''}else{if(i){if(a){if(d){return v+' '+_.getText('SUBSTIUTION_RULE_CURRENTLY_RECEIVING_TASKS')}else{return v+' '+_.getText('SUBSTIUTION_RULE_WILL_RECEIVE_TASKS_FROM')+' '+this._getFormattedDate(b)}}else{if(I){if(d){return _.getText('SUBSTITUTION_RULE_ENABLE_FOR')+' '+v+' '+_.getText('SUBSTITUTION_RULE_TO_RECIEVE_TASKS')}else{return _.getText('SUBSTITUTION_RULE_ENABLE_FOR')+' '+v+' '+_.getText('SUBSTITUTION_RULE_TO_RECIEVE_TASKS')+' '+_.getText('SUBSTITUTION_RULE_FROM_TXT')+' '+this._getFormattedDate(b)}}else{return v+' '+_.getText('SUBSTIUTION_RULE_HAS_NOT_ACTIVATED_YOUR')}}}else{if(a){if(d){return _.getText('SUBSTIUTION_RULE_CURRENTLY_RECEIVING_TASKS_FROM')+' '+v}else{return _.getText('SUBSTIUTION_RULE_YOU_WILL_RECEIVE_TASKS_FROM')+' '+v+' '+_.getText('SUBSTITUTION_RULE_FROM_TXT')+' '+this._getFormattedDate(b)}}else{if(I){if(d){return _.getText('SUBSTIUTION_RULE_TURN_ON_TO_RECEIVE_TASKS_FROM')+' '+v}else{return _.getText('SUBSTIUTION_RULE_TURN_ON_TO_RECEIVE_TASKS_FROM')+' '+v+' '+_.getText('SUBSTITUTION_RULE_FROM_TXT')+' '+this._getFormattedDate(b)}}else{if(d){return _.getText('SUBSTIUTION_RULE_IS_CURRENTLY_DISABLED_BY')+' '+v}else{return _.getText('SUBSTIUTION_RULE_YOU_WILL_RECEIVE_TASKS_FROM')+' '+v+' '+_.getText('SUBSTITUTION_RULE_FROM_TXT')+' '+this._getFormattedDate(b)}}}}}};\nsap.uiext.inbox.SubstitutionRulesManagerUtils._isOutDated=function(d){if(d!==null&&d!==''){if(this._getTimeDiff(d)<0){return true}}return false};\nsap.uiext.inbox.SubstitutionRulesManagerUtils._isFutureDate=function(d){if(d!==null&&d!==''){if(this._getTimeDiff(d)>0&&!this._isCurrentDate(d)){return true}}return false};\nsap.uiext.inbox.SubstitutionRulesManagerUtils._isCurrentDate=function(d){if(d!==null&&d!==''){var c=new Date();if((c.getDate()==d.getDate())&&(c.getMonth()==d.getMonth())&&(c.getYear()==d.getYear())){return true}}return false};\nsap.uiext.inbox.SubstitutionRulesManagerUtils._getStatus=function(i,a,b,e){var I=this._isOutDated(e);var c=(!this._isFutureDate(b)&&!I);var _=sap.ui.getCore().getLibraryResourceBundle('sap.uiext.inbox');if(I){return _.getText('SUBSTITUTION_OUT_OF_DATE_RANGE')}else{if(i){if(a){if(c){return _.getText('SUBSTITUTION_RULE_ACTIVE_FOR_LABEL')+' '+this._getNoOfDays(a,b,e)}else{return _.getText('SUBSTITUTION_RULE_ACTIVE_IN_LABEL')+' '+this._getNoOfDays(a,b,e)}}else{return _.getText('SUBSTITUTION_DISABLED_STATUS')}}else{if(a){if(c){return _.getText('SUBSTITUTION_RULE_ACTIVE_FOR_LABEL')+' '+this._getNoOfDays(a,b,e)}else{return _.getText('SUBSTITUTION_RULE_ACTIVE_IN_LABEL')+' '+this._getNoOfDays(a,b,e)}}else{return _.getText('SUBSTITUTION_DISABLED_STATUS')}}}};\nsap.uiext.inbox.SubstitutionRulesManagerUtils._getNoOfDays=function(i,s,e){var _=sap.ui.getCore().getLibraryResourceBundle('sap.uiext.inbox');var t='';if(i){if(e!==null&&e!==''){var a=this._getTimeDiff(e)/(1000*60*60*24);if(a>1){var n=Math.floor(a);if(n===1){return n+' '+_.getText('SUBSTIUTION_RULE_IN_DAY')}else{return n+' '+_.getText('SUBSTIUTION_RULE_IN_MORE_DAYS')}}else if(a>0){return Math.ceil(a)+' '+_.getText('SUBSTIUTION_RULE_IN_DAY')}}return''}else{if(s!==null&&s!==''){var a=this._getTimeDiff(s)/(1000*60*60*24);if(a>1){var n=Math.floor(a);if(n===1){return n+' '+_.getText('SUBSTIUTION_RULE_IN_DAY')}else{return n+' '+_.getText('SUBSTIUTION_RULE_IN_DAYS')}}else if(a>0){return Math.ceil(a)+' '+_.getText('SUBSTIUTION_RULE_IN_DAY')}}return''}};\nsap.uiext.inbox.SubstitutionRulesManagerUtils._getFormattedDate=function(d){var i=sap.ui.core.format.DateFormat.getDateInstance({style:'medium'});if(d!=undefined&&d!=''){return i.format(d)}};\nsap.uiext.inbox.SubstitutionRulesManagerUtils._getTodaysDateinYYYYMMDD=function(){var d=new Date();var t=String(d.getFullYear());if(d.getMonth()<9){t=t+'0'}t=t+String(d.getMonth()+1);if(d.getDate()<9){t=t+'0'}t=t+String(d.getDate());return t};\nsap.uiext.inbox.SubstitutionRulesManagerUtils._getTimeDiff=function(e){var t=new Date();var o=t.getTimezoneOffset()*60*1000;var d=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24,00,00);var a=d.getTime()-(t.getTime());return a};\nsap.uiext.inbox.SubstitutionRulesManagerUtils._getTimeZoneOffset=function(){return undefined};\n",
	"sap/uiext/inbox/TCMMetadata.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\nsap.ui.base.Object.extend('sap.uiext.inbox.TCMMetadata',{constructor:function(){sap.ui.base.Object.apply(this);this.oServiceMetadata=null;this.serviceSupportsFilterOption=false;this.oConstants=sap.uiext.inbox.SubstitutionRulesManagerConstants}});\nsap.uiext.inbox.TCMMetadata.prototype.setServiceMetadata=function(s){if(s)this.oServiceMetadata=s;this._isCustomStatusSupported()};\nsap.uiext.inbox.TCMMetadata.prototype.getServiceMetadata=function(){return this.oServiceMetadata};\nsap.uiext.inbox.TCMMetadata.prototype._isCustomStatusSupported=function(){this.serviceSupportsFilterOption=false;var t=this;var e=this.getServiceMetadata().dataServices.schema[0].entityType;var T=null;var a=null;jQuery.each(e,function(i,b){if(b.name===sap.uiext.inbox.InboxConstants.ENTITY_NAME_TASK_COLLECTION){a=b.property;jQuery.each(a,function(i,p){if(p.name===sap.uiext.inbox.InboxConstants.PROPERTY_NAME_CUSTOM_STATUS){t.serviceSupportsFilterOption=true;return false}});return false}})};\nsap.uiext.inbox.TCMMetadata.prototype.isCreatesubstitutionRuleSupported=function(){var s=true;var t=this;var f=this.getServiceMetadata().dataServices.schema[0].entityContainer[0].functionImport;var T=null;var a=null;jQuery.each(f,function(i,b){if(b.name===t.oConstants.CREATE_SUBSTITUTION_RULE){s=false;return false}});return s};\nsap.uiext.inbox.TCMMetadata.prototype._isSupportsRelease=function(){var e=sap.uiext.inbox.InboxConstants.ENTITY_NAME_TASK_COLLECTION;return this._isPropertyAvailable('SupportsRelease',e)};\nsap.uiext.inbox.TCMMetadata.prototype._isSupportsClaim=function(){var e=sap.uiext.inbox.InboxConstants.ENTITY_NAME_TASK_COLLECTION;return this._isPropertyAvailable('SupportsClaim',e)};\nsap.uiext.inbox.TCMMetadata.prototype._isSupportsForward=function(){var e=sap.uiext.inbox.InboxConstants.ENTITY_NAME_TASK_COLLECTION;return this._isPropertyAvailable('SupportsForward',e)};\nsap.uiext.inbox.TCMMetadata.prototype._isPropertyAvailable=function(p,e){var i=false;var E=this.getServiceMetadata().dataServices.schema[0].entityType;var t=null;jQuery.each(E,function(a,b){if(b.name===e){t=b.property;jQuery.each(t,function(a,c){if(c.name===p){i=true;return false}})}});return i};\n",
	"sap/uiext/inbox/TaskInitialFilters.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.TaskInitialFilters');jQuery.sap.require('sap.uiext.inbox.InboxUtils');sap.ui.base.Object.extend('sap.uiext.inbox.TaskInitialFilters',{constructor:function(s,p,d,t,D){sap.ui.base.Object.apply(this);this.aStatusFilters=s?s:[];this.aPriorityFilters=p?p:[];this.sDateTimeFilter=d;this.aTaskTypeFilters=t?t:[];this.sDueDateTimeFilter=D;this.aFiltersTobeApplied=[];this.inboxUtils=sap.uiext.inbox.InboxUtils}});\nsap.uiext.inbox.TaskInitialFilters.prototype.getFilterObjects=function(){var f=sap.uiext.inbox.TaskInitialFilters.FILTERSTOAPPLYMAP;var I={};var s=[],p=[],t=[],d,a;var b=undefined,c=[];for(var i=0;i<this.aStatusFilters.length;i++){var e=f.filters.filterStatus;if(e[this.aStatusFilters[i]]!==undefined){var g=this.inboxUtils._getStatusFilters(this.aStatusFilters[i]);I[e[this.aStatusFilters[i]]]=g;s.push(g)}}c=c.concat(s);for(var i=0;i<this.aPriorityFilters.length;i++){var h=f.filters.filterPriority;if(h[this.aPriorityFilters[i]]){var j=this.inboxUtils._getPriorityFilters(this.aPriorityFilters[i]);I[h[this.aPriorityFilters[i]]]=j;p.push(j)}}c=c.concat(p);if(this.sDateTimeFilter!==null&&this.sDateTimeFilter!==undefined){var k=f.filters.filterDateTime;if(k[this.sDateTimeFilter]){var d=this.inboxUtils._getDateTimeFilters(this.sDateTimeFilter);I[k[this.sDateTimeFilter]]=d}}if(d!==undefined){c.push(d)}for(var i=0;i<this.aTaskTypeFilters.length;i++){var l=new sap.ui.model.Filter('TaskDefinitionID',sap.ui.model.FilterOperator.EQ,this.aTaskTypeFilters[i]);I[this.aTaskTypeFilters[i]]=l;t.push(l)}c=c.concat(t);if(this.sDueDateTimeFilter!==null&&this.sDueDateTimeFilter!==undefined){var m=f.filters.filterDueDateTime;if(m[this.sDueDateTimeFilter]){var a=this.inboxUtils._getDueDateFilters(this.sDueDateTimeFilter);I[m[this.sDueDateTimeFilter]]=a}}if(a!==undefined){c.push(a)}if(c.length>0){b={DueDate:a,TaskType:t,CreatedDate:d,Priority:p,Status:s}}return{filterOperatorMap:b,filtersAppliedMap:I}};\nsap.uiext.inbox.TaskInitialFilters.prototype.getFilterUIKeys=function(){var f=sap.uiext.inbox.TaskInitialFilters.FILTERMAP;var s=[];var p=[];var d=[];var t=[];var D=[];for(var i=0;i<this.aStatusFilters.length;i++){var a=f.filters.filterStatus;if(a[this.aStatusFilters[i]])s.push(a[this.aStatusFilters[i]])}for(var i=0;i<this.aPriorityFilters.length;i++){var b=f.filters.filterPriority;if(b[this.aPriorityFilters[i]])p.push(b[this.aPriorityFilters[i]])}if(this.sDateTimeFilter!==null&&this.sDateTimeFilter!==undefined){var c=f.filters.filterDateTime;if(c[this.sDateTimeFilter])d.push(c[this.sDateTimeFilter])}for(var i=0;i<this.aTaskTypeFilters.length;i++){var e=this.aTaskTypeFilters[i];if(e){e=e.replace(/-/g,'--');e=e.replace(/\\s+/g,'-');if(!(/^([A-Za-z_][-A-Za-z0-9_.:]*)$/.test(e))){if(/^[^A-Za-z_]/.test(e)){e=e.replace(/^[^A-Za-z_]/,'_')}e.replace(/[^-\\w_.:]/g,'_')}t.push(e)}}if(this.sDueDateTimeFilter!==null&&this.sDueDateTimeFilter!==undefined){var g=f.filters.filterDueDateTime;if(g[this.sDueDateTimeFilter])D.push(g[this.sDueDateTimeFilter])}return{Status:s,Priority:p,StartDate:d,TaskType:t,DueDate:D}};\nsap.uiext.inbox.TaskInitialFilters.FILTERMAP={filters:{filterStatus:{READY:'INBOX_FILTER_STATUS_READY',RESERVED:'INBOX_FILTER_STATUS_RESERVED',IN_PROGRESS:'INBOX_FILTER_STATUS_IN_PROGRESS'},filterPriority:{LOW:'INBOX_FILTER_PRIORITY_LOW',MEDIUM:'INBOX_FILTER_PRIORITY_MEDIUM',HIGH:'INBOX_FILTER_PRIORITY_HIGH',VERY_HIGH:'INBOX_FILTER_PRIORITY_VERY_HIGH'},filterDateTime:{Today:'INBOX_FILTER_DATETIME_TODAY',Last_7_days:'INBOX_FILTER_DATETIME_WEEK',Last_15_days:'INBOX_FILTER_DATETIME_15DAYS',Last_30_days:'INBOX_FILTER_DATETIME_MONTH'},filterDueDateTime:{Today:'INBOX_FILTER_DUE_DATETIME_TODAY',Next_7_days:'INBOX_FILTER_DUE_DATETIME_WEEK',Next_15_days:'INBOX_FILTER_DUE_DATETIME_15DAYS',Next_30_days:'INBOX_FILTER_DUE_DATETIME_MONTH'}}};sap.uiext.inbox.TaskInitialFilters.FILTERSTOAPPLYMAP={filters:{filterStatus:{READY:'readyStat',RESERVED:'resStat',IN_PROGRESS:'InProStat'},filterPriority:{LOW:'lowPrio',MEDIUM:'medPrio',HIGH:'hiPrio',VERY_HIGH:'veryhiPrio'},filterDateTime:{Today:'today',Last_7_days:'last7',Last_15_days:'last15',Last_30_days:'last30'},filterDueDateTime:{Today:'dueDateToday',Next_7_days:'dueDatenext7',Next_15_days:'dueDatenext15',Next_30_days:'dueDatenext30'}}};\n",
	"sap/uiext/inbox/composite/InboxComment.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\n */\njQuery.sap.declare('sap.uiext.inbox.composite.InboxComment');jQuery.sap.require('sap.uiext.inbox.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.uiext.inbox.composite.InboxComment',{metadata:{library:'sap.uiext.inbox',properties:{'sender':{type:'string',group:'Data',defaultValue:null},'timestamp':{type:'string',group:'Data',defaultValue:null},'thumbnailSrc':{type:'sap.ui.core.URI',group:'Data',defaultValue:null},'text':{type:'string',group:'Data',defaultValue:null}}}});\nsap.uiext.inbox.composite.InboxComment.prototype.init=function(){this.rb=sap.ui.getCore().getLibraryResourceBundle('sap.uiext.inbox')};\n",
	"sap/uiext/inbox/composite/InboxCommentRenderer.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.composite.InboxCommentRenderer');sap.uiext.inbox.composite.InboxCommentRenderer={};\nsap.uiext.inbox.composite.InboxCommentRenderer.render=function(r,c){var a=r;var C=c;var m=C.getId();a.write('<ARTICLE');a.writeControlData(C);a.addClass('sapuiextInboxCommentChunk');a.addClass('sapuiextInboxComment');a.writeClasses();a.write('>');a.write('<img id='+m+'-thumb');var t=C.getThumbnailSrc();if(!t){t=jQuery.sap.getModulePath('sap.uiext.inbox','/')+'themes/'+sap.ui.getCore().getConfiguration().getTheme()+'/img/comments/person_placeholder_48.png'}a.writeAttributeEscaped('src',t);a.writeAttributeEscaped('alt',C.getSender());a.writeClasses();a.write('>');a.write('<DIV class= \"sapuiextInboxCommentText\" >');a.write('<SPAN id='+m+'-sender class= \"sapuiextInboxCommentSenderText\"');a.write('>');a.writeEscaped(C.getSender());a.write('</SPAN> ');this.renderText(a,C);a.write('</DIV>');a.write('<SPAN class= \"sapuiextInboxCommentChunkByline\" >');a.writeEscaped(C.getTimestamp());a.write('</SPAN>');a.write('</ARTICLE>')};\nsap.uiext.inbox.composite.InboxCommentRenderer.renderText=function(r,c){var t=c.getText();var i=0;do{var p=t.search(/\\s/);var s='',w='';if(p<0){w=t}else{w=t.slice(0,p);s=t.slice(p,p+1);t=t.slice(p+1)}if(/^@/.test(w)){r.write('<a id='+c.getId()+'-Ref'+i);r.writeAttribute('href','javascript:void(0);');r.write('>');r.writeEscaped(w,true);r.write('</a>',s);i++}else if(/^(https?|ftp):\\/\\//i.test(w)&&jQuery.sap.validateUrl(w)){r.write('<a');r.writeAttribute('href',jQuery.sap.encodeHTML(w));r.write('>');r.writeEscaped(w,true);r.write('</a>',s)}else if(/^(www\\.)/i.test(w)&&jQuery.sap.validateUrl('http://'+w)){r.write('<a');r.writeAttribute('href',jQuery.sap.encodeHTML('http://'+w));r.write('>');r.writeEscaped(w,true);r.write('</a>',s)}else if(/^[\\w\\.=-]+@[\\w\\.-]+\\.[\\w]{2,5}$/.test(w)){r.write('<a');r.writeAttribute('href','mailto:'+jQuery.sap.encodeHTML(w));r.write('>');r.writeEscaped(w,true);r.write('</a>',s)}else{r.writeEscaped(w+s,true)}}while(p>=0)};\n",
	"sap/uiext/inbox/composite/InboxTaskComments.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\n */\njQuery.sap.declare('sap.uiext.inbox.composite.InboxTaskComments');jQuery.sap.require('sap.uiext.inbox.library');jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend('sap.uiext.inbox.composite.InboxTaskComments',{metadata:{library:'sap.uiext.inbox',properties:{'feederSender':{type:'string',group:'Data',defaultValue:null},'feederThumbnailSrc':{type:'sap.ui.core.URI',group:'Data',defaultValue:null}},aggregations:{'comments':{type:'sap.uiext.inbox.composite.InboxComment',multiple:true,singularName:'comment'}},events:{'commentSubmit':{}}}});sap.uiext.inbox.composite.InboxTaskComments.M_EVENTS={'commentSubmit':'commentSubmit'};\n/*!\r\n * @copyright@\r\n */\njQuery.sap.require('sap.ui.core.theming.Parameters');jQuery.sap.require('sap.ui.ux3.Feeder');\nsap.uiext.inbox.composite.InboxTaskComments.prototype.init=function(){this.maxComments=2;this.allComments=false;this.rb=sap.ui.getCore().getLibraryResourceBundle('sap.uiext.inbox');this.initCommentFeeder()};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.initCommentFeeder=function(){if(!this.oCommentFeeder){this.oCommentFeeder=new sap.ui.ux3.Feeder(this.getId()+'-InboxTaskCommentFeeder',{type:sap.ui.ux3.FeederType.Comment,thumbnailSrc:this.getFeederThumbnailSrc()}).setParent(this);this.oCommentFeeder.attachEvent('submit',this.handleCommentFeederSubmit,this);this.showCommentFeeder=true}};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.exit=function(){if(this.oCommentFeeder){this.oCommentFeeder.destroy();delete this.oCommentFeeder}this.rb=undefined;this.showCommentFeeder=undefined;this.oText=undefined};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.onclick=function(e){var t=e.target.getAttribute('ID');if(t){switch(t){case(this.getId()+'-all'):this.showAllComments();break}}e.stopPropagation()};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.onAfterRendering=function(){jQuery.sap.byId(this.getId()+'-InboxTaskCommentFeeder'+'-input').bind('keyup',this,this.keyupHandler)};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.keyupHandler=function(e){var t=e.data;var i=t.getId()+'-InboxTaskCommentFeeder'+'-input';var I=jQuery.sap.byId(i).text();var M=500;if(I.length>M){jQuery.sap.byId(i).text(I.slice(0,M));t.placeCaretAtEnd(document.getElementById(i))}};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.placeCaretAtEnd=function(c){c.focus();if(typeof window.getSelection!='undefined'&&typeof document.createRange!='undefined'){var r=document.createRange();r.selectNodeContents(c);r.collapse(false);var s=window.getSelection();s.removeAllRanges();s.addRange(r)}else if(typeof document.body.createTextRange!='undefined'){var t=document.body.createTextRange();t.moveToElementText(c);t.collapse(false);t.select()}};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.showAllComments=function(){this.allComments=!this.allComments;var $=jQuery.sap.byId(this.getId()+' > section');if($.length>0){var r=sap.ui.getCore().createRenderManager();this.getRenderer().renderComments(r,this);r.flush($[0]);r.destroy()}};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.handleCommentFeederSubmit=function(e){var s=this._sanitizeText(e.getParameter('text'));this.fireCommentSubmit({text:s})};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.setFeederThumbnailSrc=function(v){this.setProperty('feederThumbnailSrc',v);if(this.oCommentFeeder){this.oCommentFeeder.setThumbnailSrc(v)}};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.insertComment=function(c,i){this.insertAggregation('comments',c,i);this.initCommentFeeder();return this};\nsap.uiext.inbox.composite.InboxTaskComments.prototype.addComment=function(c){this.addAggregation('comments',c);this.initCommentFeeder();return this};\nsap.uiext.inbox.composite.InboxTaskComments.prototype._sanitizeText=function(t){return jQuery.sap._sanitizeHTML(t)};\n",
	"sap/uiext/inbox/composite/InboxTaskCommentsRenderer.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.composite.InboxTaskCommentsRenderer');sap.uiext.inbox.composite.InboxTaskCommentsRenderer={};\nsap.uiext.inbox.composite.InboxTaskCommentsRenderer.render=function(r,c){var a=r;var C=c;var m=C.getId();a.write('<ARTICLE');a.writeControlData(C);a.addClass('sapuiextInboxTaskCommentsChunk');a.writeClasses();a.write('>');if(C.getComments().length>0||C.showCommentFeeder){a.write('<SECTION>');this.renderComments(a,C);a.write('</SECTION>')}a.write('</ARTICLE>')};\nsap.uiext.inbox.composite.InboxTaskCommentsRenderer.renderComments=function(r,c){var C=c.getComments();var l=C.length;r.write('<HEADER class= \"sapuiextInboxTaskComments\" >');if(c.rb){r.write(c.rb.getText('INBOX_TASK_NO_COMMENTS',[l]));if(l>c.maxComments){r.write('<a id='+c.getId()+'-all ');r.writeAttribute('href','javascript:void(0);');r.write('>');if(!c.allComments){r.write(c.rb.getText('INBOX_TASK_ALL_COMMENTS'))}else{r.write(c.rb.getText('INBOX_TASK_MAX_COMMENTS'))}r.write('</a>')}}r.write('</HEADER>');var n=l;if(!c.allComments&&c.maxComments<n){n=c.maxComments}for(var i=0;i<n;i++){r.renderControl(C[l-n+i])}if(c.oCommentFeeder){r.renderControl(c.oCommentFeeder)}};\n",
	"sap/uiext/inbox/library.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\n */\njQuery.sap.declare('sap.uiext.inbox.library');jQuery.sap.require('sap.ui.core.Core');jQuery.sap.require('sap.ui.core.library');jQuery.sap.require('sap.ui.commons.library');jQuery.sap.require('sap.ui.ux3.library');sap.ui.getCore().initLibrary({name:'sap.uiext.inbox',dependencies:['sap.ui.core','sap.ui.commons','sap.ui.ux3'],types:[],interfaces:[],controls:['sap.uiext.inbox.Inbox','sap.uiext.inbox.SubstitutionRulesManager','sap.uiext.inbox.composite.InboxComment','sap.uiext.inbox.composite.InboxTaskComments'],elements:[],version:'1.16.4'});\n",
	"sap/uiext/inbox/tcm/TCMModel.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.tcm.TCMModel');jQuery.sap.require('sap.uiext.inbox.tcm.fI.TCMFunctionImport');sap.ui.base.Object.extend('sap.uiext.inbox.tcm.TCMModel',{constructor:function(){sap.ui.base.Object.apply(this);this.oFunctionImport=undefined}});\nsap.uiext.inbox.tcm.TCMModel.prototype.getFunctionImportHandler=function(){if(!this.oFunctionImport){this.oFunctionImport=new sap.uiext.inbox.tcm.fI.TCMFunctionImport()}return this.oFunctionImport};\n",
	"sap/uiext/inbox/tcm/fI/TCMFunctionImport.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.tcm.fI.TCMFunctionImport');jQuery.sap.require('sap.uiext.inbox.tcm.fI.TCMFunctionImportMetaData');sap.ui.base.Object.extend('sap.uiext.inbox.tcm.fI.TCMFunctionImport',{constructor:function(){sap.ui.base.Object.apply(this);this.sTcmServiceURL=undefined;this.oHeaders={};this.ofIMetadata=sap.uiext.inbox.tcm.fI.TCMFunctionImportMetaData}});\nsap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.setHeaders=function(h){this.oHeaders=h};\nsap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.getHeaders=function(){return this.oHeaders};\nsap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.setServiceURL=function(s){this.sTcmServiceURL=s};\nsap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.getServiceURL=function(){return this.sTcmServiceURL};\nsap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype.callSearchUsers=function(p,s,e){var S=this.ofIMetadata.SEARCHUSERS;var u=this._createURLParamsArray(p,S);var r=this._createRequest(S.name,u,false,S.httpMethod);return OData.request(r,s,e)};\nsap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype._createURLParamsArray=function(p,f){var t=this;var F=f.params,u=[],U;var s,a,P;jQuery.each(F,function(i,o){s=o.name;a=o.type;P=p[s];if(P){U=s+'='+t._formatParamValue(P,a);u.push(U)}else{if(o.nullable){jQuery.sap.log.warning('No parameter Value provided for a non nullable input paramater for function Import:'+f.name)}}});return u};\nsap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype._createRequest=function(p,u,a,h){var U=this.sTcmServiceURL;if(p){if(!jQuery.sap.startsWith(p,'/')){U+='/'}U+=p}if(u&&u.length>0){U+='?'+u.join('&')}return{requestUri:U,headers:this.oHeaders,method:h,async:a,user:this.sUser,password:this.sPassword}};\nsap.uiext.inbox.tcm.fI.TCMFunctionImport.prototype._formatParamValue=function(p,f){if(!this.oDateTimeFormat){this.oDateTimeFormat=sap.ui.core.format.DateFormat.getDateInstance({pattern:\"'datetime'''yyyy-MM-dd'T'HH:mm:ss''\"});this.oDateTimeOffsetFormat=sap.ui.core.format.DateFormat.getDateInstance({pattern:\"'datetimeoffset'''yyyy-MM-dd'T'HH:mm:ss'Z'''\"});this.oTimeFormat=sap.ui.core.format.DateFormat.getTimeInstance({pattern:\"'time'''HH:mm:ss''\"})}var F;switch(f){case'Edm.String':F=\"'\"+String(p).replace(/'/g,\"''\")+\"'\";break;case'Edm.Time':F=\"time'\"+p+\"'\";break;case'Edm.DateTime':F=this.oDateTimeFormat.format(new Date(p),true);break;case'Edm.DateTimeOffset':F=this.oDateTimeOffsetFormat.format(new Date(p),true);break;case'Edm.Guid':F=\"guid'\"+p+\"'\";break;case'Edm.Decimal':F=p+'M';break;case'Edm.Int64':F=p+'L';break;case'Edm.Single':F=p+'f';break;case'Edm.Binary':F=\"binary'\"+p+\"'\";break;default:F=new String(p);break}return F};\n",
	"sap/uiext/inbox/tcm/fI/TCMFunctionImportMetaData.js":"/*!\r\n * SAP UI development toolkit for HTML5 (SAPUI5)\n * \n * (c) Copyright 2009-2013 SAP AG. All rights reserved\r\n */\njQuery.sap.declare('sap.uiext.inbox.tcm.fI.TCMFunctionImportMetaData');sap.uiext.inbox.tcm.fI.TCMFunctionImportMetaData={SEARCHUSERS:{name:'SearchUsers',params:[{name:'SAP__Origin',type:'Edm.String',Mode:'In'},{name:'SearchPattern',type:'Edm.String',Mode:'In',nullable:true},{name:'MaxResults',type:'Edm.Int16',Mode:'In',nullable:true}],httpMethod:'GET'}};\n"
}}
